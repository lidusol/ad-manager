{"version":3,"file":"alyle-ui-avatar.js","sources":["../../../lib/avatar/avatar.ts","../../../lib/avatar/avatar.module.ts","../../../lib/avatar/alyle-ui-avatar.ts"],"names":[],"mappings":"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","sourcesContent":["import { Directive, Input, ElementRef, OnInit, OnChanges, Renderer2, InjectionToken, Inject, Optional } from '@angular/core';\nimport {\n  LyTheme2,\n  mixinBg,\n  mixinColor,\n  mixinElevation,\n  mixinOutlined,\n  mixinRaised,\n  mixinShadowColor,\n  mixinStyleUpdater,\n  ThemeVariables,\n  st2c,\n  StyleTemplate,\n  StyleRenderer } from '@alyle/ui';\n\nexport interface LyAvatarTheme {\n  /** Styles for Avatar Component */\n  root?: () => StyleTemplate;\n}\n\nexport interface LyAvatarDefaultOptions {\n  size?: number;\n  bg?: string;\n}\n\nexport interface LyAvatarVariables {\n  avatar?: LyAvatarTheme;\n}\n\n\nconst STYLE_PRIORITY = -2;\nconst DEFAULT_SIZE = 40;\nconst DEFAULT_BG = 'action';\n\nexport const LY_AVATAR_DEFAULT_OPTIONS =\n    new InjectionToken<LyAvatarDefaultOptions>('LY_AVATAR_DEFAULT_OPTIONS');\n\nexport const STYLES = (theme: ThemeVariables & LyAvatarVariables) => {\n  return {\n    $name: LyAvatar.и,\n    $priority: STYLE_PRIORITY,\n    root: (className: string) => `${className}{display:inline-flex;position:relative;font-size:1.25em;flex-shrink:0;align-items:center;user-select:none;border-radius:50%;text-align:center;justify-content:center;}${st2c((\n          (theme.avatar\n            && theme.avatar.root\n            && theme.avatar.root())), `${className}`)}${className}>img{width:100%;height:100%;border-radius:50%;display:block;object-fit:cover;-webkit-background-clip:padding-box;}`\n  };\n};\n\n/** @docs-private */\nexport class LyAvatarBase {\n  constructor(\n    public _theme: LyTheme2\n  ) { }\n}\n\n/** @docs-private */\nexport const LyAvatarMixinBase = mixinStyleUpdater(\n  mixinBg(\n    mixinColor(\n      mixinRaised(\n        mixinOutlined(\n          mixinElevation(\n            mixinShadowColor(LyAvatarBase)))))));\n\n@Directive({\n  selector: 'ly-avatar',\n  inputs: [\n    'bg',\n    'color',\n    'raised',\n    'outlined',\n    'elevation',\n    'shadowColor',\n  ],\n  providers: [\n    StyleRenderer\n  ]\n})\nexport class LyAvatar extends LyAvatarMixinBase implements OnChanges, OnInit {\n  /** @docs-private */\n  static readonly и = 'LyAvatar';\n\n  /** @docs-private */\n  readonly classes = this._theme.renderStyleSheet(STYLES);\n  private _size: number;\n\n  /** Avatar size */\n  @Input()\n  set size(val: number) {\n    if (val !== this.size) {\n      this._size = val;\n      this[0x1] = this.sRenderer.add(`${LyAvatar.и}-size-${val}`, () => (\n        (className: string) => `${className}{width:${val}px;height:${val}px;}`\n      ), STYLE_PRIORITY, this[0x1]);\n\n      // const newClass = this._theme.renderStyle(`${LyAvatar.и}.size:${val}`, () => (\n      //   (className: string) => ``\n      // ), STYLE_PRIORITY);\n      // this._sizeClass = this._hostClass.update(newClass, this._sizeClass);\n    }\n  }\n  get size() {\n    return this._size;\n  }\n  [0x1]: string;\n\n  constructor(\n    theme: LyTheme2,\n    renderer: Renderer2,\n    private _elementRef: ElementRef,\n    readonly sRenderer: StyleRenderer,\n    @Optional() @Inject(LY_AVATAR_DEFAULT_OPTIONS) private _defaults: LyAvatarDefaultOptions\n  ) {\n    super(theme);\n    this.setAutoContrast();\n    renderer.addClass(_elementRef.nativeElement, this.classes.root);\n  }\n\n  ngOnChanges() {\n    this.updateStyle(this._elementRef.nativeElement);\n  }\n\n  ngOnInit() {\n    if (!this.bg) {\n      this.bg = (this._defaults && this._defaults.bg) || DEFAULT_BG;\n      this.ngOnChanges();\n    }\n    if (!this.size) {\n      this.size = (this._defaults && this._defaults.size) || DEFAULT_SIZE;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { LyCommonModule } from '@alyle/ui';\nimport { LyAvatar } from './avatar';\n\n@NgModule({\n  exports: [LyAvatar, LyCommonModule],\n  declarations: [LyAvatar]\n})\nexport class LyAvatarModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}