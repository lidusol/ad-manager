{"version":3,"file":"alyle-ui-card.js","sources":["../../../lib/card/card.directive.ts","../../../lib/card/card.module.ts","../../../lib/card/alyle-ui-card.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Directive,\n  ElementRef,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Renderer2\n  } from '@angular/core';\nimport {\n  LyTheme2,\n  mixinBg,\n  mixinColor,\n  mixinDisabled,\n  mixinDisableRipple,\n  mixinElevation,\n  mixinOutlined,\n  mixinRaised,\n  mixinShadowColor,\n  mixinStyleUpdater,\n  ThemeVariables,\n  toBoolean,\n  st2c,\n  StyleCollection,\n  LyClasses,\n  StyleTemplate,\n  ThemeRef,\n  StyleRenderer,\n  WithStyles,\n  Style } from '@alyle/ui';\nimport { Platform } from '@angular/cdk/platform';\n\nexport interface LyCardTheme {\n  /** Styles for Card Component */\n  root?: StyleCollection<((classes: LyClasses<typeof STYLES>) => StyleTemplate)>\n  | ((classes: LyClasses<typeof STYLES>) => StyleTemplate);\n}\n\nexport interface LyCardVariables {\n  card?: LyCardTheme;\n}\n\n\nexport const STYLES = (theme: ThemeVariables & LyCardVariables, ref: ThemeRef) => {\n  const card = ref.selectorsOf(STYLES);\n  return {\n    $priority: STYLE_PRIORITY,\n    $name: LyCard.и,\n    root: ( ) => (className: string) => `${className}{display:block;overflow:hidden;border-radius:2px;}${st2c((\n        (theme.card\n          && theme.card.root\n          && (theme.card.root instanceof StyleCollection\n            ? theme.card.root.setTransformer(fn => fn(card))\n            : theme.card.root(card))\n        )), `${className}`)}`,\n    bgImg: (className: string) => `${className}{display:block;background-size:cover;background-repeat:no-repeat;background-position:center;}`,\n    content: (className: string) => `${className}{display:block;padding:16px 24px;}@media ${theme.breakpoints['XSmall']}{${className}{padding:16px 16px;}}`,\n    actions: (className: string) => `${className}{display:block;padding:8px 12px;}@media ${theme.breakpoints['XSmall']}{${className}{padding:8px 4px;}}`,\n    actionsItem: (className: string) => `${className}{margin:0 4px;}`\n  };\n};\n\nconst DEFAULT_ASPECT_RATIO = '16:9';\n\nconst STYLE_PRIORITY = -1;\n\n/** @docs-private */\nexport class LyCardBase {\n  constructor(\n    public _theme: LyTheme2,\n    public _ngZone: NgZone,\n    public _platform: Platform\n  ) { }\n}\n\n/** @docs-private */\nexport const LyCardMixinBase = mixinStyleUpdater(\nmixinBg(\n  mixinColor(\n    mixinRaised(\n      mixinDisabled(\n        mixinOutlined(\n          mixinElevation(\n            mixinShadowColor(\n              mixinDisableRipple(LyCardBase)))))))));\n\n@Directive({\n  selector: 'ly-card',\n  inputs: [\n    'bg',\n    'color',\n    'raised',\n    'outlined',\n    'elevation',\n    'shadowColor',\n    'disableRipple',\n  ],\n  providers: [StyleRenderer]\n})\nexport class LyCard extends LyCardMixinBase implements OnChanges, OnInit, OnDestroy {\n  static readonly и = 'LyCard';\n  /**\n   * styles\n   * @docs-private\n   */\n  readonly classes = this.theme.renderStyleSheet(STYLES);\n  constructor(\n    private theme: LyTheme2,\n    private _el: ElementRef,\n    private renderer: Renderer2,\n    ngZone: NgZone,\n    platform: Platform\n  ) {\n    super(theme, ngZone, platform);\n    this.setAutoContrast();\n  }\n\n  ngOnChanges() {\n    this.updateStyle(this._el);\n  }\n\n  ngOnInit() {\n    let requireOnChanges: boolean | undefined;\n    if (!this.bg) {\n      this.bg = 'background:primary';\n      requireOnChanges = true;\n    }\n    if (!this.elevation) {\n      this.elevation = 2;\n      requireOnChanges = true;\n    }\n    if (requireOnChanges) {\n      this.updateStyle(this._el);\n    }\n    this.renderer.addClass(this._el.nativeElement, this.classes.root);\n  }\n\n  ngOnDestroy() {\n    this._removeRippleEvents();\n  }\n}\n\n@Directive({\n  selector: 'ly-card-content'\n})\nexport class LyCardContent implements OnInit {\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private card: LyCard\n  ) { }\n\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.card.classes.content);\n  }\n}\n\n@Directive({\n  selector: 'ly-card-actions'\n})\nexport class LyCardActions implements OnInit {\n  @Input() disableActionSpacing: boolean;\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private card: LyCard\n  ) { }\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.card.classes.actions);\n    if (!toBoolean(this.disableActionSpacing)) {\n      this.el.nativeElement.childNodes.forEach(element => {\n        this.renderer.addClass(element, this.card.classes.actionsItem);\n      });\n    }\n  }\n}\n\n/**\n * @dynamic\n */\n@Directive({\n  selector: 'ly-card-media',\n  providers: [\n    StyleRenderer\n  ]\n})\nexport class LyCardMedia implements WithStyles, OnInit {\n\n  /**\n   * Aspect ratio\n   *\n   * e.g:\n   * 4:3\n   * 1:1\n   */\n  @Input()\n  set ratio(val: string) {\n    if (val !== this.ratio) {\n      this._ratio = val;\n      this[0x2] = this.sRenderer.add(\n        `${LyCardMedia.и}--ratio-${val}`,\n        () => (className: string) => `${className}::before{content:'';display:block;padding-top:${val\n              .split(':')\n              .reduce((prev, current) => (+current / +prev * 100).toString())}%;}`,\n        STYLE_PRIORITY,\n        this[0x2]\n      );\n    }\n  }\n  get ratio() {\n    return this._ratio;\n  }\n\n  constructor(\n    readonly sRenderer: StyleRenderer,\n    card: LyCard\n  ) {\n    sRenderer.addClass(card.classes.bgImg);\n  }\n  static readonly и = 'LyCardMedia';\n  static readonly $priority = STYLE_PRIORITY;\n\n  static ngAcceptInputType_bgImg: string;\n\n  private _ratio: string;\n\n  @Input()\n  @Style<string>((val) => () => (className: string) => `${className}{background-image:url('${val}');}`)\n  bgImg: string;\n  [0x2]: string;\n\n  ngOnInit() {\n    if (!this.ratio) {\n      this.ratio = DEFAULT_ASPECT_RATIO;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LyCard, LyCardContent, LyCardActions, LyCardMedia } from './card.directive';\nimport { LyCommonModule } from '@alyle/ui';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: [LyCard, LyCardContent, LyCardActions, LyCardMedia, LyCommonModule],\n  declarations: [LyCard, LyCardContent, LyCardActions, LyCardMedia]\n})\nexport class LyCardModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}