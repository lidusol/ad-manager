{"version":3,"file":"alyle-ui-typography.js","sources":["../../../lib/typography/typography.directive.ts","../../../lib/typography/typography.module.ts","../../../lib/typography/alyle-ui-typography.ts"],"names":[],"mappings":";;;;;AA0BA,MAAM,cAAc,GAAG,CAAC,CAAC,CAAC;AAC1B,MAAa,MAAM,GAAG,CAAC,KAA6C;AACpE,IAAE,OAAO;AACT,QAAI,KAAK,EAAE,YAAY,CAAC,CAAC;AACzB,QAAI,SAAS,EAAE,cAAc;AAC7B,QAAI,IAAI,EAAE,CAAC,SAAiB,KAAK,GAAG,SAAS,uCAAuC,KAAK,CAAC,UAAU,CAAC,UAAU,KAAK,IAAI,GAC/G,KAAK,CAAC,UAAU;AACzB,eAAa,KAAK,CAAC,UAAU,CAAC,IAAI;AAClC,gBAAc,KAAK,CAAC,UAAU,CAAC,IAAI,YAAY,eAAe;AAC9D,kBAAc,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,GAAG;AAClE,kBAAc,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,IAC1B,GAAG,SAAS,EAAE,CAAC,EAAE;AAC7B,QAAI,SAAS,EAAE,CAAC,SAAiB,KAAK,GAAG,SAAS,sBAAsB;AACxE,QAAI,YAAY,EAAE,CAAC,SAAiB,KAAK,GAAG,SAAS,yBAAyB;AAC9E,QAAI,MAAM,EAAE,CAAC,SAAiB,KAAK,GAAG,SAAS,oBAAoB;AACnE,KAAG,CAAC;AACJ,EAAE;AAGF;AACA,MAAa,gBAAgB;AAC7B,IAAE,YACS,MAAgB;AACxB,QADQ,WAAM,GAAN,MAAM,CAAU;AAC3B,KAAO;AACP,CAAC;AAED;AACA,MAAa,qBAAqB,GAAG,iBAAiB,CAClD,UAAU,EAAE,gBAAgB,EAAE,EAAE;AACpC,MAUa,YAAa,SAAQ,qBAAqB;AAAG,IAuFxD,YACE,MAAgB,EACR,GAAe,EACf,QAAmB,EAClB,SAAwB;AAClC,QACC,KAAK,CAAC,MAAM,CAAC,CAAC;AAClB,QALY,QAAG,GAAH,GAAG,CAAY;AAAC,QAChB,aAAQ,GAAR,QAAQ,CAAW;AAAC,QACnB,cAAS,GAAT,SAAS,CAAe;AACrC;AAEI,QA1FO,YAAO,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;AAC1D,QAyFI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AACtE,KAAG;AACH,IAhFE,IACI,KAAK,CAAC,GAAW;AACvB,QAAI,IAAI,GAAG,KAAK,IAAI,CAAC,KAAK,EAAE;AAC5B,YAAM,IAAI,GAAG,EAAE;AACf,gBAAQ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;AACvE,aAAO;AAAC,iBAAK,IAAI,IAAI,CAAC,WAAW,EAAE;AACnC,gBAAQ,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;AAC5E,gBAAQ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;AAChC,aAAO;AACP,SAAK;AACL,KAAG;AACH,IAAE,IAAI,KAAK;AAAK,QACZ,OAAO,IAAI,CAAC,MAAM,CAAC;AACvB,KAAG;AACH;AAEC,IAAC,IACI,MAAM,CAAC,GAAY;AACzB,QAAI,MAAM,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;AACpC,QAAI,IAAI,QAAQ,EAAE;AAClB,YAAM,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,cAAc,EAAE;AACrE,gBAAQ,QAAQ,EAAE,QAAQ;AAC1B,gBAAQ,UAAU,EAAE,QAAQ;AAC5B,gBAAQ,YAAY,EAAE,UAAU;AAChC,aAAO,CAAC,CAAC;AACT,YAAM,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;AACxE,SAAK;AAAC,aAAK,IAAI,IAAI,CAAC,YAAY,EAAE;AAClC,YAAM,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;AAC3E,YAAM,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;AACpC,SAAK;AACL,KAAG;AACH,IAAE,IAAI,MAAM;AAAK,QACb,OAAO,IAAI,CAAC,OAAO,CAAC;AACxB,KAAG;AACH,IACE,IACI,MAAM,CAAC,GAAY;AACzB,QAAI,MAAM,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;AAClC,QAAI,IAAI,MAAM,KAAK,IAAI,CAAC,MAAM,EAAE;AAChC,YAAM,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;AAC5B,YAAM,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AAC9D,SAAK;AACL,KAAG;AACH,IAAE,IAAI,MAAM;AACZ,QAAI,OAAO,IAAI,CAAC,OAAO,CAAC;AACxB,KAAG;AACH,IACE,IACI,SAAS,CAAC,GAAY;AAC5B,QAAI,MAAM,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;AAClC,QAAI,IAAI,MAAM,KAAK,IAAI,CAAC,SAAS,EAAE;AACnC,YAAM,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;AAC/B,YAAM,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;AACjE,SAAK;AACL,KAAG;AACH,IAAE,IAAI,SAAS;AACf,QAAI,OAAO,IAAI,CAAC,UAAU,CAAC;AAC3B,KAAG;AACH,IACE,IACI,YAAY,CAAC,GAAY;AAC/B,QAAI,MAAM,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;AAClC,QAAI,IAAI,MAAM,KAAK,IAAI,CAAC,YAAY,EAAE;AACtC,YAAM,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;AAClC,YAAM,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;AACpE,SAAK;AACL,KAAG;AACH,IAAE,IAAI,YAAY;AAClB,QAAI,OAAO,IAAI,CAAC,aAAa,CAAC;AAC9B,KAAG;AACH,IAWE,QAAQ;AACV,QAAI,KAAK,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,YAAY,GAAG;AAC/C,YAAM,MAAM,IAAI,KAAK,CAAC,kFAAkF,CAAC,CAAC;AAC1G,SAAK;AACL,KAAG;AACH,IACE,WAAW;AACb,QAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;AAC7C,KAAG;AACH,IACU,eAAe,CAAC,GAAW,EAAE,QAAuB;AAC9D,QAAI,MAAM,MAAM,GAAG,SAAS,GAAG,EAAE,CAAC;AAClC,QACI,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAC9B,CAAC,KAA4B;AACnC,YAAQ,IAAI,KAAK,CAAC,UAAU,IAAI,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE;AACxD,gBAAU,MAAM,KAAK,GAAG,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACpD,gBAAU,IAAI,KAAK,EAAE;AACrB,oBAAc,OAAO,KAAK,YAAY,eAAe;AACrD,0BAAkB,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG;AACtD,0BAAkB,KAAK,EAAE,CAAC;AAC1B,iBAAa;AACb,aAAS;AACT,YAAQ,MAAM,IAAI,KAAK,CAAC,2BAA2B,GAAG,gCAAgC,CAAC,CAAC;AACxF,SAAO,EACD,cAAc,EACd,QAAQ,CACT,CAAC;AACN,KAAG;AACH;;;;+EACA;AA9HE;AACgB,cAAC,GAAG,cAAc,CAAC,AAFhC;AAAC;EATL,SAAS,SAAC,pBASiC,YA/D1C,QAAQ;cAuDR,QAAQ,EAAE,xBAtDV,YAHkB,UAAU;OAyDT,PAzDa,YAAF,SAAS;AA0DvC,MAAM,EAAE,RA1DmC,YAU3C,aAAa;EAiDX,FAjDc;MAiDP,kBACR,xBAlDkB;UAmDnB,SAAS,EAAE,rBAjDG,oBAqEb,KAAK;aAnBJ,aAAa,1BAoBf,qBAeC,KAAK;aAlCL,cACF,3BAkCC,qBAkBC,KAAK;AACN,wBAWC,KAAK;AACN,2BAWC,KAAK;AACP;;;;;;;;;;;;;;;;;;;;;;oBAAE;AAAC;AAAC,MCpIQ,kBAAkB;AAAG;8CAJjC,QAAQ,SAAC;AACR,OAAO,EAAE,CAAC,YAAY,EAAE,cAAc,CAAC,kBACvC,YAAY,EAAE,CAAC,YAAY,CAAC,cAC7B;;;;;;;;;0BACI;AAAC;ACTN;AACA;AACA;AACA;AACA;AACgE","sourcesContent":["import { Directive, ElementRef, Renderer2, Input, OnInit, OnChanges } from '@angular/core';\nimport {\n  LyTheme2,\n  toBoolean,\n  ThemeVariables,\n  mixinStyleUpdater,\n  mixinColor,\n  StyleCollection,\n  StyleTemplate,\n  st2c,\n  StyleRenderer } from '@alyle/ui';\n\nexport interface LyTypographyTheme {\n  /** Styles for Typography Component */\n  root?: StyleCollection<(() => StyleTemplate)>\n    | (() => StyleTemplate);\n  lyTyp?: {\n    [name: string]: StyleCollection<(() => StyleTemplate)>\n      | (() => StyleTemplate) | undefined\n  };\n}\n\nexport interface LyTypographyVariables {\n  typography?: LyTypographyTheme;\n}\n\nconst STYLE_PRIORITY = -1;\nexport const STYLES = (theme: ThemeVariables & LyTypographyVariables) => {\n  return {\n    $name: LyTypography.и,\n    $priority: STYLE_PRIORITY,\n    root: (className: string) => `${className}{margin:0;display:block;font-family:${theme.typography.fontFamily};}${st2c((\n        (theme.typography\n          && theme.typography.root\n          && (theme.typography.root instanceof StyleCollection\n            ? theme.typography.root.setTransformer(fn => fn()).css\n            : theme.typography.root())\n        )), `${className}`)}`,\n    gutterTop: (className: string) => `${className}{margin-top:0.35em;}`,\n    gutterBottom: (className: string) => `${className}{margin-bottom:0.35em;}`,\n    gutter: (className: string) => `${className}{margin:0.35em 0;}`\n  };\n};\n\n\n/** @docs-private */\nexport class LyTypographyBase {\n  constructor(\n    public _theme: LyTheme2\n  ) { }\n}\n\n/** @docs-private */\nexport const LyTypographyMixinBase = mixinStyleUpdater(\n    mixinColor((LyTypographyBase)));\n\n@Directive({\n  selector: `[lyTyp]`,\n  inputs: [\n    'color'\n  ],\n  providers: [\n    StyleRenderer\n  ]\n})\nexport class LyTypography extends LyTypographyMixinBase implements OnInit, OnChanges {\n  /** @docs-private */\n  static readonly и = 'LyTypography';\n  /** @docs-private */\n  readonly classes = this._theme.renderStyleSheet(STYLES);\n  private _lyTyp: string;\n  private _lyTypClass: string | null;\n\n  private _gutter: boolean;\n\n  private _gutterTop: boolean;\n\n  private _gutterBottom: boolean;\n  private _noWrap: boolean;\n  private _noWrapClass?: string;\n\n  @Input()\n  set lyTyp(val: string) {\n    if (val !== this.lyTyp) {\n      if (val) {\n        this._lyTypClass = this._createTypClass(val, this._lyTypClass);\n      } else if (this._lyTypClass) {\n        this.renderer.removeClass(this._el.nativeElement, this._lyTypClass);\n        this._lyTypClass = null;\n      }\n    }\n  }\n  get lyTyp(): string {\n    return this._lyTyp;\n  }\n\n  /** The text will truncate with an ellipsis. */\n  @Input()\n  set noWrap(val: boolean) {\n    const newValue = toBoolean(val);\n    if (newValue) {\n      this._noWrapClass = this._theme.addSimpleStyle('lyTyp.noWrap', {\n        overflow: 'hidden',\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis'\n      });\n      this.renderer.addClass(this._el.nativeElement, this._noWrapClass);\n    } else if (this._noWrapClass) {\n      this.renderer.removeClass(this._el.nativeElement, this._noWrapClass);\n      this._noWrapClass = undefined;\n    }\n  }\n  get noWrap(): boolean {\n    return this._noWrap;\n  }\n\n  @Input()\n  set gutter(val: boolean) {\n    const newVal = toBoolean(val);\n    if (newVal !== this.gutter) {\n      this._gutter = newVal;\n      this.sRenderer.toggleClass(this.classes.gutter, newVal);\n    }\n  }\n  get gutter() {\n    return this._gutter;\n  }\n\n  @Input()\n  set gutterTop(val: boolean) {\n    const newVal = toBoolean(val);\n    if (newVal !== this.gutterTop) {\n      this._gutterTop = newVal;\n      this.sRenderer.toggleClass(this.classes.gutterTop, newVal);\n    }\n  }\n  get gutterTop() {\n    return this._gutterTop;\n  }\n\n  @Input()\n  set gutterBottom(val: boolean) {\n    const newVal = toBoolean(val);\n    if (newVal !== this.gutterBottom) {\n      this._gutterBottom = newVal;\n      this.sRenderer.toggleClass(this.classes.gutterBottom, newVal);\n    }\n  }\n  get gutterBottom() {\n    return this._gutterBottom;\n  }\n\n  constructor(\n    _theme: LyTheme2,\n    private _el: ElementRef,\n    private renderer: Renderer2,\n    readonly sRenderer: StyleRenderer\n  ) {\n    super(_theme);\n    this.renderer.addClass(this._el.nativeElement, this.classes.root);\n  }\n\n  ngOnInit() {\n    if ((this.gutterTop && this.gutterBottom)) {\n      throw new Error(`use '<element lyTyp gutter>' instead of '<element lyTyp gutterTop gutterBottom>'`);\n    }\n  }\n\n  ngOnChanges() {\n    this.updateStyle(this._el.nativeElement);\n  }\n\n  private _createTypClass(val: string, instance: string | null) {\n    const newKey = `k-typ:${val}`;\n\n    return this.sRenderer.add(newKey,\n      (theme: LyTypographyVariables) => {\n        if (theme.typography && theme.typography.lyTyp) {\n          const lyTyp = theme.typography.lyTyp[val];\n          if (lyTyp) {\n              return lyTyp instanceof StyleCollection\n                ? lyTyp.setTransformer((_) => _()).css\n                : lyTyp();\n            }\n        }\n        throw new Error(`Value typography.lyTyp['${val}'] not found in ThemeVariables`);\n      },\n      STYLE_PRIORITY,\n      instance,\n    );\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { LyCommonModule } from '@alyle/ui';\n\nimport { LyTypography } from './typography.directive';\n\n@NgModule({\n  exports: [LyTypography, LyCommonModule],\n  declarations: [LyTypography]\n})\nexport class LyTypographyModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}