!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@alyle/ui"),require("@angular/animations"),require("rxjs"),require("@angular/common")):"function"==typeof define&&define.amd?define("@alyle/ui/dialog",["exports","@angular/core","@alyle/ui","@angular/animations","rxjs","@angular/common"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).ly=e.ly||{},e.ly.dialog={}),e.ng.core,e.ly.core,e.ng.animations,e.rxjs,e.ng.common)}(this,(function(e,t,n,o,r,i){"use strict";var a=function(){function e(e){this._overlayRef=e}return Object.defineProperty(e.prototype,"afterOpened",{get:function(){return this._overlayRef.componentRef.instance._afterOpened.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"beforeClosed",{get:function(){return this._overlayRef.componentRef.instance._beforeClosed.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"afterClosed",{get:function(){return this._overlayRef.componentRef.instance._afterClosed.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!1,configurable:!0}),e.prototype.close=function(e){var t=this._overlayRef.componentRef.instance;t._beforeClosed.next(e),t._beforeClosed.complete(),t._startClose(),this._result=e},e}();a.decorators=[{type:t.Injectable}],a.ctorParameters=function(){return[{type:n.LyOverlayRef}]};var s=function(){this.maxHeight=["calc(100vh - 64px)"],this.maxWidth=["calc(100vw - 64px)"],this.hasBackdrop=!0},l=new t.InjectionToken("LyDialogData"),c=function(e,t){var o=t.selectorsOf(c);return{root:function(){return function(t){return t+"{display:flex;position:relative;background-color:"+e.background.primary.default+";border-radius:4px;box-shadow:"+n.shadowBuilder(12)+";overflow:auto;}"+n.st2c(e.dialog&&e.dialog.root&&(e.dialog.root instanceof n.StyleCollection?e.dialog.root.setTransformer((function(e){return e(o)})):e.dialog.root(o)),""+t)+t+" > :first-child{display:flex;flex-direction:column;width:100%;}"}}}},p=function(){function e(e,t,n,o,i,a,s){this.sRenderer=e,this._appRef=t,this._overlayRef=n,this._theme=o,this._el=i,this._cd=a,this._renderer=s,this.classes=this._theme.addStyleSheet(c,-2),this._afterOpened=new r.Subject,this._beforeClosed=new r.Subject,this._afterClosed=new r.Subject,this._state="enter",s.addClass(i.nativeElement,this.classes.root)}return e.prototype.ngOnInit=function(){if(this._componentFactoryOrTemplate instanceof t.TemplateRef){var e=new f(this._newInjector);this._embeddedViewRef=this.viewContainerRef.createEmbeddedView(this._componentFactoryOrTemplate,e)}else this._componentRef=this.viewContainerRef.createComponent(this._componentFactoryOrTemplate,void 0,this._newInjector);var n=this._newInjector.get(s).containerClass;n&&this._renderer.addClass(this._el.nativeElement,n)},e.prototype.ngDoCheck=function(){this._overlayRef.onResizeScroll()},e.prototype._init=function(e,t){this._componentFactoryOrTemplate=e,this._newInjector=t},e.prototype._startClose=function(){this._state="exit",this._cd.markForCheck()},e.prototype._onAnimationStart=function(e){"enter"===e.toState&&this._overlayRef.onResizeScroll()},e.prototype._onAnimationDone=function(e){if("exit"===e.toState){var t=this._newInjector.get(a);this._destroy(),this._overlayRef.destroy(),this._afterClosed.next(t.result),this._afterClosed.complete()}else"enter"===e.toState&&(this._afterOpened.next(),this._afterOpened.complete())},e.prototype._destroy=function(){this._componentRef?(this._appRef.detachView(this._componentRef.hostView),this._componentRef.destroy()):(this._appRef.detachView(this._embeddedViewRef),this._embeddedViewRef.detach(),this._embeddedViewRef.destroy())},e.prototype._getHostElement=function(){return this._el.nativeElement},e}();p.decorators=[{type:t.Component,args:[{selector:"ly-dialog-container",template:"<ng-template></ng-template>",changeDetection:t.ChangeDetectionStrategy.OnPush,animations:[o.trigger("dialogContainer",[o.state("void, exit",o.style({opacity:0,transform:"scale(0.7)"})),o.state("enter",o.style({transform:"none"})),o.transition("* => enter",o.animate("150ms cubic-bezier(0, 0, 0.2, 1)",o.style({transform:"none",opacity:1}))),o.transition("* => void, * => exit",o.animate("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",o.style({opacity:0})))])],host:{"[@dialogContainer]":"_state","(@dialogContainer.start)":"_onAnimationStart($event)","(@dialogContainer.done)":"_onAnimationDone($event)"},providers:[n.StyleRenderer]}]}],p.ctorParameters=function(){return[{type:n.StyleRenderer},{type:t.ApplicationRef},{type:n.LyOverlayRef},{type:n.LyTheme2},{type:t.ElementRef},{type:t.ChangeDetectorRef},{type:t.Renderer2}]},p.propDecorators={viewContainerRef:[{type:t.ViewChild,args:[t.TemplateRef,{read:t.ViewContainerRef,static:!0}]}]};var f=function(){function e(e){this._injector=e,this.$implicit=this._injector.get(a),this.dialogRef=this._injector.get(a)}return Object.defineProperty(e.prototype,"data",{get:function(){return this._injector.get(l)},enumerable:!1,configurable:!0}),e}(),d=function(){function e(e,t){this._newInjector=e,this._parentInjector=t}return e.prototype.get=function(e,t,n){var o=this._newInjector.get(e,t);return o||this._parentInjector.get(e,t)},e}(),u=["width","maxWidth","minWidth","height","maxHeight","minHeight"],y=function(){function e(e,t,n,o){this._overlay=e,this._componentFactoryResolver=t,this._theme=n,this._injector=o}return e.prototype.open=function(e,o){var r;o=Object.assign(Object.assign({},new s),o),r=e instanceof t.TemplateRef?e:this._componentFactoryResolver.resolveComponentFactory(e);var i=this._overlay.create(p,null,{styles:{top:0,left:0},hasBackdrop:o.hasBackdrop,onResizeScroll:function(){var e=i.containerElement,t=window.innerWidth/2-e.offsetWidth/2,n=window.innerHeight/2-e.offsetHeight/2;e.style.transform="translate3d("+Math.round(t)+"px, "+Math.round(n)+"px, 0)"},disableClose:o.disableClose,backdropClass:o.backdropClass||this._theme.style(n.STYLES_BACKDROP_DARK),fnDestroy:function(){h.close()}}),c=i.componentRef.instance;u.forEach((function(e){o[e]&&n.createStyle(c,{key:e,"и":n.LyStyle.и},o[e],n.LyStyle[e])}));var f=[{provide:a,useValue:new a(i.componentRef.injector.get(n.LyOverlayRef))},{provide:s,useValue:o}];null!=o.data&&f.push({provide:l,useValue:o.data});var y=new d(t.Injector.create(f,i.componentRef.injector),this._injector);c._init(r,y);var h=y.get(a);return h},e}();y.decorators=[{type:t.Injectable}],y.ctorParameters=function(){return[{type:n.LyOverlay},{type:t.ComponentFactoryResolver},{type:n.LyTheme2},{type:t.Injector}]};var h=function(e){return function(t){return t+"{display:block;flex:0 0 auto;margin:20px 0 16px;padding:0 24px;font-size:20px;line-height:24px;font-weight:500;font-family:"+e.typography.fontFamily+";}"}},m=function(){function e(e,t,n){this._renderer=e,this._el=t,this._theme=n}return e.prototype.ngOnInit=function(){this._renderer.addClass(this._el.nativeElement,this._theme.renderStyle(h,-2))},e}();m.decorators=[{type:t.Directive,args:[{selector:"[ly-dialog-title], [lyDialogTitle]",exportAs:"lyDialogTitle"}]}],m.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ElementRef},{type:n.LyTheme2}]};var _=function(){return function(e){return e+"{display:block;overflow-y:auto;flex:1 1 auto;padding:0 24px 24px;-webkit-overflow-scrolling:touch;}"}},g=function(){function e(e,t,n){this._renderer=e,this._el=t,this._theme=n}return e.prototype.ngOnInit=function(){this._renderer.addClass(this._el.nativeElement,this._theme.renderStyle(_,-2))},e}();g.decorators=[{type:t.Directive,args:[{selector:"ly-dialog-content, [ly-dialog-content], [lyDialogContent]",exportAs:"lyDialogContent"}]}],g.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ElementRef},{type:n.LyTheme2}]};var v=function(){return function(e){return e+"{display:flex;flex:0 0 auto;padding:8px;flex-wrap:wrap;min-height:52px;align-items:center;}"}},R=function(){function e(e,t,n){this._renderer=e,this._el=t,this._theme=n}return e.prototype.ngOnInit=function(){this._renderer.addClass(this._el.nativeElement,this._theme.renderStyle(v,-2))},e}();R.decorators=[{type:t.Directive,args:[{selector:"ly-dialog-actions, [ly-dialog-actions], [lyDialogActions]",exportAs:"lyDialogActions"}]}],R.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ElementRef},{type:n.LyTheme2}]};var b=function(){};b.decorators=[{type:t.NgModule,args:[{entryComponents:[p],declarations:[p,m,g,R],imports:[i.CommonModule,n.LyCommonModule,n.LyOverlayModule],exports:[n.LyCommonModule,p,m,g,R],providers:[y]}]}],e.LY_DIALOG_DATA=l,e.LyDialog=y,e.LyDialogModule=b,e.LyDialogRef=a,e.ɵa=p,e.ɵb=m,e.ɵc=g,e.ɵd=R,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=alyle-ui-dialog.umd.min.js.map