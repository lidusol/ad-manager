!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@alyle/ui"),require("rxjs"),require("@angular/common"),require("@angular/animations"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@alyle/ui/expansion",["exports","@angular/core","@alyle/ui","rxjs","@angular/common","@angular/animations","rxjs/operators"],n):n(((e="undefined"!=typeof globalThis?globalThis:e||self).ly=e.ly||{},e.ly.expansion={}),e.ng.core,e.ly.core,e.rxjs,e.ng.common,e.ng.animations,e.rxjs.operators)}(this,(function(e,n,t,o,a,i,r){"use strict";var s=function(e,n){var t=n.selectorsOf(s),o=e.after;return{$priority:-.9,$name:l.и,$global:function(){return function(n){return n+" "+t.panelTitle+","+n+" "+t.panelDescription+"{display:flex;margin-"+o+":16px;}"+n+" "+t.panel+":not("+t.disabled+") "+t.panelTitle+"{color:"+e.text.default+";}"+n+" "+t.panel+":not("+t.disabled+") "+t.panelDescription+"{color:"+e.text.secondary+";}"}},root:e.expansion&&e.expansion.root?function(){return e.expansion.root(t)}:null,panel:function(){return function(e){return e+"{display:block;overflow:hidden;position:relative;}"+e+":not("+t.disabled+") "+t.panelHeader+"{cursor:pointer;}"}},panelHeader:function(){return function(n){return n+"{display:flex;position:relative;flex-direction:row;align-items:center;padding:0 24px;transition:height "+e.animations.durations.entering+"ms "+e.animations.curves.standard+";font-family:"+e.typography.fontFamily+";font-size:"+e.pxToRem(15)+";font-weight:400;}"+t.panel+":not("+t.expanded+"):not("+t.disabled+") "+n+":hover{background:"+e.hover+";}@media (hover: none){"+t.panel+":not("+t.expanded+"):not("+t.disabled+") "+n+":hover{background:none;}}"}},panelHeaderContent:function(e){return e+"{display:flex;flex:1;flex-direction:row;align-items:center;overflow:hidden;}"},panelContent:function(e){return e+"{display:flex;flex-direction:column;overflow:visible;}"},panelBody:function(n){return n+"{visibility:hidden;padding:0 24px 16px;transition:visibility "+e.animations.durations.entering+"ms "+e.animations.curves.standard+";font-family:"+e.typography.fontFamily+";font-size:"+e.pxToRem(14)+";font-weight:400;line-height:"+e.pxToRem(20)+";}"},panelTitle:function(e){return e+"{flex-grow:1;}"},panelDescription:function(e){return e+"{flex-grow:2;}"},panelActionRow:function(n){return n+"{border-top:1px solid "+e.divider+";display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;}"},expanded:function(){return function(e){return e+" "+t.panelBody+"{visibility:visible;}"}},disabled:function(n){return n+"{color:"+e.disabled.contrast+";}"}}},l=function(){function e(e,n,t){this._theme=e,this._renderer=n,this._el=t,this.classes=this._theme.addStyleSheet(s),this._hasToggle=!0,this._openCloseAllActions=new o.Subject}return Object.defineProperty(e.prototype,"appearance",{get:function(){return this._appearance},set:function(e){this._appearance=e,this._appearanceClass=this._theme.addStyle("lyAccordion.appearance:"+e,(function(n,t){if(!n.expansion.appearance||!n.expansion.appearance[e])throw new Error("Value expansion.appearance['"+e+"'] not found in ThemeVariables");var o=t.selectorsOf(s);return n.expansion.appearance[e](o)}),this._el.nativeElement,this._appearanceClass,-.9)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multiple",{get:function(){return this._multiple},set:function(e){this._multiple=t.toBoolean(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasToggle",{get:function(){return this._hasToggle},set:function(e){this._hasToggle=t.toBoolean(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this._theme.variables.expansion;if(!e)throw t.getLyThemeVariableUndefinedError("expansion");this._renderer.addClass(this._el.nativeElement,this.classes.root),e.defaultConfig&&e.defaultConfig.appearance&&null==this.appearance&&(this.appearance=e.defaultConfig.appearance)},e.prototype.closeAll=function(){this._openCloseAll(!0)},e.prototype.openAll=function(){this._openCloseAll(!1)},e.prototype._openCloseAll=function(e){this.multiple&&this._openCloseAllActions.next(e)},e}();l.и="LyAccordion",l.decorators=[{type:n.Directive,args:[{selector:"ly-accordion",exportAs:"lyAccordion"}]}],l.ctorParameters=function(){return[{type:t.LyTheme2},{type:n.Renderer2},{type:n.ElementRef}]},l.propDecorators={appearance:[{type:n.Input}],multiple:[{type:n.Input}],hasToggle:[{type:n.Input}]};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var p=function(e,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])})(e,n)};Object.create;Object.create;var c={contentExpansion:i.trigger("contentExpansion",[i.state("collapsed, void",i.style({height:"0px",visibility:"hidden"})),i.state("expanded",i.style({height:"*",visibility:"visible"})),i.transition("expanded <=> collapsed, void => collapsed",i.animate("{{panelAnimationTiming}}"))])},d=function(e){this._template=e};d.decorators=[{type:n.Directive,args:[{selector:"ng-template[lyExpansionPanelContent]"}]}],d.ctorParameters=function(){return[{type:n.TemplateRef}]};var u=function(e){this._theme=e},y=t.mixinStyleUpdater(t.mixinBg(t.mixinColor(t.mixinElevation(t.mixinShadowColor(u))))),f=function(e){function a(t,a,i,s,l){var p=e.call(this,s)||this;return p._el=t,p._renderer=a,p._cd=i,p._accordion=l,p.classes=p._accordion.classes,p._panelAnimationTiming=p._theme.variables.animations.durations.entering+"ms "+p._theme.variables.animations.curves.standard,p._openCloseAllSubscription=o.Subscription.EMPTY,p._hasToggle=!!p._accordion.hasToggle,p.closed=new n.EventEmitter,p.opened=new n.EventEmitter,p.afterCollapse=new n.EventEmitter,p.afterExpand=new n.EventEmitter,p.destroyed=new n.EventEmitter,p._bodyAnimationDone=new o.Subject,a.addClass(t.nativeElement,p._accordion.classes.panel),p._openCloseAllSubscription=p._subscribeToOpenCloseAllActions(),p._bodyAnimationDone.pipe(r.distinctUntilChanged((function(e,n){return e.fromState===n.fromState&&e.toState===n.toState}))).subscribe((function(e){"void"!==e.fromState&&("expanded"===e.toState?p.afterExpand.emit():"collapsed"===e.toState&&p.afterCollapse.emit())})),p}return function(e,n){function t(){this.constructor=e}p(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}(a,e),Object.defineProperty(a.prototype,"disabled",{get:function(){return this._disabled},set:function(e){var n=t.toBoolean(e);n!==this.disabled&&(this._disabled=n,n?this._renderer.addClass(this._el.nativeElement,this._accordion.classes.disabled):this._renderer.removeClass(this._el.nativeElement,this._accordion.classes.disabled))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"expanded",{get:function(){return this._expanded},set:function(e){var n=t.toBoolean(e);n===this.expanded||this.disabled||(n&&!this._accordion.multiple&&this._accordion._openCloseAllActions.next(!1),this._expanded=n,n?(this._renderer.addClass(this._el.nativeElement,this._accordion.classes.expanded),this.opened.emit()):(this._renderer.removeClass(this._el.nativeElement,this._accordion.classes.expanded),this.closed.emit()),this._cd.markForCheck())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasToggle",{get:function(){return null==this._hasToggle?this._accordion.hasToggle:this._hasToggle},set:function(e){this._hasToggle=t.toBoolean(e)},enumerable:!1,configurable:!0}),a.prototype.ngOnChanges=function(){this.updateStyle(this._el)},a.prototype.ngOnInit=function(){var e=!1;null==this.bg&&(this.bg="paper",e=!0),null==this.color&&(this.color="text",e=!0),null==this.elevation&&(this.elevation=2,e=!0),e&&this.ngOnChanges()},a.prototype.ngAfterContentInit=function(){var e=this;this._lazyContent&&this.opened.pipe(r.startWith(null),r.filter((function(){return!!e.expanded&&!e._lazyContentRef})),r.first()).subscribe((function(){return e._lazyContentRef=e._lazyContent._template}))},a.prototype.ngOnDestroy=function(){this._openCloseAllSubscription.unsubscribe()},a.prototype.close=function(){this.expanded=!1},a.prototype.open=function(){this.expanded=!0},a.prototype.toggle=function(){this.expanded=!this.expanded},a.prototype._getExpandedState=function(){return this.expanded?"expanded":"collapsed"},a.prototype._subscribeToOpenCloseAllActions=function(){var e=this;return this._accordion._openCloseAllActions.subscribe((function(n){e.expanded=n}))},a}(y);f.decorators=[{type:n.Component,args:[{selector:"ly-expansion-panel",template:'<ng-content select="ly-expansion-panel-header"></ng-content>\n<div [className]="classes.panelContent"\n  [@contentExpansion]="{\n    value: _getExpandedState(),\n    params: {\n      panelAnimationTiming: _panelAnimationTiming\n    }\n  }"\n  (@contentExpansion.done)="_bodyAnimationDone.next($event)"\n>\n  <div [className]="classes.panelBody">\n    <ng-content></ng-content>\n    <ng-template [ngTransclude]="_lazyContentRef"></ng-template>\n  </div>\n  <ng-content select="ly-action-row"></ng-content>\n</div>',changeDetection:n.ChangeDetectionStrategy.OnPush,exportAs:"lyExpansionPanel",animations:[c.contentExpansion],inputs:["bg","color","elevation","shadowColor"]}]}],f.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:n.ChangeDetectorRef},{type:t.LyTheme2},{type:l,decorators:[{type:n.Inject,args:[l]}]}]},f.propDecorators={_lazyContent:[{type:n.ContentChild,args:[d]}],closed:[{type:n.Output}],opened:[{type:n.Output}],afterCollapse:[{type:n.Output}],afterExpand:[{type:n.Output}],destroyed:[{type:n.Output}],disabled:[{type:n.Input}],expanded:[{type:n.Input}],hasToggle:[{type:n.Input}]};var h=function(e,n,t,o){this._accordion=t,this._expansionPanel=o,this.classes=this._accordion.classes,n.addClass(e.nativeElement,this._accordion.classes.panelHeader)};h.decorators=[{type:n.Component,args:[{selector:"ly-expansion-panel-header",template:'<span [className]="classes.panelHeaderContent">\n  <ng-content select="ly-panel-title"></ng-content>\n  <ng-content select="ly-panel-description"></ng-content>\n  <ng-content></ng-content>\n</span>\n<ly-expansion-icon\n  *ngIf="!_expansionPanel.disabled && _expansionPanel.hasToggle"\n  [up]="_expansionPanel.expanded"\n></ly-expansion-icon>',host:{"(click)":"_expansionPanel.toggle()"}}]}],h.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:l,decorators:[{type:n.Inject,args:[l]}]},{type:f,decorators:[{type:n.Inject,args:[f]}]}]};var g=function(e,n,t){n.addClass(e.nativeElement,t.classes.panelTitle)};g.decorators=[{type:n.Directive,args:[{selector:"ly-panel-title"}]}],g.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:l,decorators:[{type:n.Inject,args:[l]}]}]};var m=function(e,n,t){n.addClass(e.nativeElement,t.classes.panelDescription)};m.decorators=[{type:n.Directive,args:[{selector:"ly-panel-description"}]}],m.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:l,decorators:[{type:n.Inject,args:[l]}]}]};var x=function(e,n,t){n.addClass(e.nativeElement,t.classes.panelActionRow)};x.decorators=[{type:n.Directive,args:[{selector:"ly-action-row"}]}],x.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:l,decorators:[{type:n.Inject,args:[l]}]}]};var _=function(){};_.decorators=[{type:n.NgModule,args:[{declarations:[l,f,h,d,g,m,x],imports:[a.CommonModule,t.LyExpansionIconModule,t.NgTranscludeModule],exports:[l,f,h,d,g,m,x]}]}],e.LyAccordion=l,e.LyButtonMixinBase=y,e.LyExpansionModule=_,e.LyExpansionPanel=f,e.LyExpansionPanelBase=u,e.LyExpansionPanelContent=d,e.LyExpansionPanelDescription=m,e.LyExpansionPanelHeader=h,e.LyExpansionPanelTitle=g,e.STYLES=s,e.ɵa=c,e.ɵb=x,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=alyle-ui-expansion.umd.min.js.map