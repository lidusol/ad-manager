{"version":3,"sources":["../../../../node_modules/tslib/tslib.es6.js","../../../lib/select/select.ts","../../../lib/select/select-errors.ts","../../../lib/select/select.module.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","__","this","constructor","create","__read","o","n","m","Symbol","iterator","r","e","i","ar","next","done","push","value","error","__spread","arguments","length","concat","STYLES","theme","ref","select","selectorsOf","after","$priority","root","className","st2c","StyleCollection","setTransformer","fn","container","background","primary","default","borderRadius","boxShadow","shadowBuilder","display","transformOrigin","pointerEvents","overflow","maxHeight","valueText","textOverflow","whiteSpace","option","fontFamily","typography","color","text","-webkit-tap-highlight-color","backgroundColor","border","padding","margin","outline","boxSizing","position","justifyContent","alignItems","alignContent","-webkit-user-select","-moz-user-select","-ms-user-select","userSelect","lineHeight","height","cursor","optionActive","hover","optionText","ly-checkbox ~ &","content","width","source","ANIMATIONS","trigger","transition","animate","keyframes","style","opacity","transform","LySelectMixinBase","mixinTabIndex","LySelectBase","Directive","args","selector","LySelect","_theme","sRenderer","_renderer","_el","_overlay","_field","_cd","_ngZone","ngControl","_parentForm","_parentFormGroup","_this","_super","classes","addStyleSheet","_triggerFontSize","_disabled","_required","stateChanges","Subject","_form","_valueKey","same","_focused","errorState","_panelDoneAnimatingStream","_compareWith","o1","o2","_destroy","optionSelectionChanges","defer","options","changes","pipe","startWith","switchMap","merge","apply","map","onSelectionChange","onStable","take","openedChange","EventEmitter","_openedStream","filter","mapTo","_closedStream","selectionChange","valueChange","onChange","_","onTouched","valueAccessor","_cursorClass","addStyle","& {container}","_getHostElement","FIELD_STYLES","_onFocus","disabled","_onBlur","_opened","markForCheck","defineProperty","_typeaheadDebounceInterval","newVal","coerceNumberProperty","_keyManager","withTypeAhead","_value","newValue","_setSelectionByValue","val","toBoolean","_hasDisabledClass","removeClass","addClass","undefined","_multiple","console","warn","_placeholder","isDevMode","Error","_selectionModel","_initializeSelection","isEmpty","empty","selectedOptions","selected","viewValue","variables","direction","Dir","rtl","reverse","join","multiple","ngOnInit","SelectionModel","distinctUntilChanged","takeUntil","subscribe","emit","_overlayRef","remove","statusChanges","selectArrow","nativeElement","inputNative","ngDoCheck","oldVal","invalid","touched","submitted","errorClass","_errorClass","ngAfterContentInit","_initKeyManager","_resetOptions","changed","event","added","forEach","removed","deselect","Promise","resolve","then","change","activeItem","_selectViaInteraction","ngOnDestroy","complete","destroy","open","templateRef","styles","top","left","fnDestroy","close","bind","onResizeScroll","_updatePlacement","withHorizontalOrientation","parseInt","getComputedStyle","fontSize","_highlightCorrectOption","_a","detach","onContainerClick","focus","writeValue","registerOnChange","_valueString","registerOnTouched","setDisabledState","isDisabled","_handleKeydown","_handleOpenKeydown","_handleClosedKeydown","keyCode","isArrowKey","DOWN_ARROW","UP_ARROW","LEFT_ARROW","RIGHT_ARROW","isOpenKey","ENTER","SPACE","manager","isTyping","hasModifierKey","altKey","preventDefault","onKeydown","A","ctrlKey","hasDeselectedOptions_1","some","opt","previouslyFocusedIndex","activeItemIndex","shiftKey","isArray","clear","currentValue","_selectValue","_sortValues","correspondingOption","updateActiveItem","find","valueKey","updateScroll","panelWidth","el","containerElement","querySelector","triggerFontSize","valueTextDivRef","offsetWidth","setStyle","selectedElement","firstElementChild","offset","y","offsetHeight","offsetTop","x","scrollHeight","scrollTop","Positioning","YPosition","below","XPosition","ox","oy","ActiveDescendantKeyManager","withVerticalOrientation","withHomeAndEnd","withAllowedModifierKeys","tabOut","_scrollActiveOptionIntoView","options_1","toArray","sort","a","sortComparator","indexOf","changedOrDestroyed","_onSelect","isUserInput","wasSelected","isSelected","setActiveItem","_propagateChanges","fallbackValue","valueToEmit","LySelectChange","setFirstItemActive","activeOption","scrollIntoView","Component","template","changeDetection","ChangeDetectionStrategy","OnPush","exportAs","host","[attr.tabindex]","(keydown)","(focus)","(blur)","animations","inputs","providers","StyleRenderer","provide","LyFieldControlBase","useExisting","LyTheme2","Renderer2","ElementRef","LyOverlay","LyField","decorators","type","Optional","ChangeDetectorRef","NgZone","NgControl","Self","NgForm","FormGroupDirective","ViewChild","forwardRef","LyOption","ContentChildren","descendants","ContentChild","LySelectTrigger","Output","Input","_platform","LyOptionMixinBase","mixinDisableRipple","LyOptionBase","colorOf","_select","_rippleService","platform","_selected","_triggerElement","_onClick","coerceBooleanProperty","textContent","trim","disableRipple","ngOnChanges","setActiveStyles","setInactiveStyles","getLabel","_selectedColor","_color","_emitSelectionChangeEvent","_origin","element","_getTabIndex","LyOptionSelectionChange","role","LyRippleService","Platform","HostListener","target","key","desc","c","getOwnPropertyDescriptor","Reflect","decorate","__decorate","Style","Éµ0","NgModule","declarations","imports","CommonModule","LyCommonModule","LyCheckboxModule","LyOverlayModule","exports"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import {\n  animate,\n  keyframes,\n  style,\n  transition,\n  trigger\n  } from '@angular/animations';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  DoCheck,\n  ElementRef,\n  forwardRef,\n  HostListener,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Renderer2,\n  Self,\n  TemplateRef,\n  ViewChild,\n  NgZone,\n  OnChanges,\n  QueryList,\n  ContentChildren,\n  AfterContentInit,\n  Directive,\n  ContentChild,\n  Output,\n  EventEmitter,\n  isDevMode,\n  } from '@angular/core';\nimport {\n  ControlValueAccessor,\n  FormGroupDirective,\n  NgControl,\n  NgForm\n  } from '@angular/forms';\nimport { LyField, LyFieldControlBase, STYLES as FIELD_STYLES } from '@alyle/ui/field';\nimport {\n  LyOverlay,\n  LyTheme2,\n  OverlayFactory,\n  shadowBuilder,\n  ThemeVariables,\n  toBoolean,\n  Positioning,\n  CanDisableCtor,\n  mixinDisableRipple,\n  mixinTabIndex,\n  LyRippleService,\n  XPosition,\n  YPosition,\n  Dir,\n  st2c,\n  StyleCollection,\n  LyClasses,\n  StyleTemplate,\n  ThemeRef,\n  StyleRenderer,\n  Style,\n  WithStyles } from '@alyle/ui';\nimport { Subject, Observable, defer, merge } from 'rxjs';\nimport { take, takeUntil, startWith, switchMap, distinctUntilChanged, filter, mapTo } from 'rxjs/operators';\nimport { Platform } from '@angular/cdk/platform';\nimport { FocusableOption, FocusOrigin, ActiveDescendantKeyManager } from '@angular/cdk/a11y';\nimport { ENTER, SPACE, hasModifierKey, DOWN_ARROW, UP_ARROW, LEFT_ARROW, RIGHT_ARROW, A } from '@angular/cdk/keycodes';\nimport { coerceNumberProperty, coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport { getLySelectNonFunctionValueError, getLySelectNonArrayValueError } from './select-errors';\n\n\nexport interface LySelectTheme {\n  /** Styles for Select Component */\n  root?: StyleCollection<((classes: LyClasses<typeof STYLES>) => StyleTemplate)>\n    | ((classes: LyClasses<typeof STYLES>) => StyleTemplate);\n}\n\nexport interface LySelectVariables {\n  select?: LySelectTheme;\n}\n\nconst DEFAULT_DISABLE_RIPPLE = false;\nconst STYLE_PRIORITY = -2;\nexport const STYLES = (theme: ThemeVariables & LySelectVariables, ref: ThemeRef) => {\n  const select = ref.selectorsOf(STYLES);\n  const { after } = theme;\n  return {\n    $priority: STYLE_PRIORITY,\n    root: () => (className: string) => `${className}{display:block;position:relative;padding-${after}:1em;min-height:1em;-webkit-tap-highlight-color:transparent;}${st2c((\n          (theme.select\n            && theme.select.root\n            && (theme.select.root instanceof StyleCollection\n              ? theme.select.root.setTransformer(fn => fn(select))\n              : theme.select.root(select))\n          )), `${className}`)}`,\n    container: {\n      background: theme.background.primary.default,\n      borderRadius: '2px',\n      boxShadow: shadowBuilder(4),\n      display: 'block',\n      transformOrigin: 'inherit',\n      pointerEvents: 'all',\n      overflow: 'auto',\n      maxHeight: '256px'\n    },\n    valueText: {\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap'\n    },\n    option: {\n      display: 'flex',\n      fontFamily: theme.typography.fontFamily,\n      color: theme.text.default,\n      '-webkit-tap-highlight-color': 'transparent',\n      backgroundColor: `rgba(0, 0, 0, 0)`,\n      border: 0,\n      padding: '0 1em',\n      margin: 0,\n      outline: 'none',\n      boxSizing: 'border-box',\n      position: 'relative',\n      justifyContent: 'flex-start',\n      alignItems: 'center',\n      alignContent: 'center',\n      '-webkit-user-select': 'none',\n      '-moz-user-select': 'none',\n      '-ms-user-select': 'none',\n      userSelect: 'none',\n      lineHeight: 1.125,\n      height: '3em',\n      cursor: 'pointer',\n    },\n    optionActive: (className: string) => `${className}{background:${theme.hover};}`,\n    optionText: {\n      'ly-checkbox ~ &': {\n        display: 'flex',\n        alignItems: 'inherit',\n        alignContent: 'inherit'\n      }\n    },\n    content: {\n      padding: 0,\n      display: 'flex',\n      justifyContent: 'inherit',\n      alignItems: 'inherit',\n      alignContent: 'inherit',\n      width: '100%',\n      height: '100%',\n      boxSizing: 'border-box'\n    }\n  };\n};\n\n/** Change event object that is emitted when the select value has changed. */\nexport class LySelectChange {\n  constructor(\n    /** Reference to the select that emitted the change event. */\n    public source: LySelect,\n    /** Current value of the select that emitted the event. */\n    public value: any) { }\n}\n\n/** @docs-private */\nconst ANIMATIONS = [\n  trigger('selectEnter', [\n    transition('void => in', [\n      animate('125ms cubic-bezier(0, 0, 0.2, 1)', keyframes([\n        style({\n          opacity: 0,\n          transform: 'scaleY(0.9)'\n        }),\n        style({\n          opacity: 1,\n          transform: 'scaleY(1)'\n        })\n      ]))\n    ]),\n    transition('* => void', animate('100ms 25ms linear', style({ opacity: 0 })))\n  ]),\n];\n\n/** @docs-private */\nexport class LySelectBase { }\n/** @docs-private */\nexport const LySelectMixinBase = mixinTabIndex(LySelectBase as CanDisableCtor);\n\n/**\n * Allows the user to customize the trigger that is displayed when the select has a value.\n */\n@Directive({\n  selector: 'ly-select-trigger'\n})\nexport class LySelectTrigger { }\n\n\n@Component({\n  selector: 'ly-select',\n  templateUrl: 'select.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  exportAs: 'lySelect',\n  host: {\n    '[attr.tabindex]': 'tabIndex',\n    '(keydown)': '_handleKeydown($event)',\n    '(focus)': '_onFocus()',\n    '(blur)': '_onBlur()',\n  },\n  animations: [...ANIMATIONS],\n  inputs: ['tabIndex'],\n  providers: [\n    StyleRenderer,\n    { provide: LyFieldControlBase, useExisting: LySelect }\n  ]\n})\nexport class LySelect\n    extends LySelectMixinBase\n    implements ControlValueAccessor, LyFieldControlBase, OnInit, DoCheck, AfterContentInit, OnDestroy {\n  /** @docs-private */\n  readonly classes = this._theme.addStyleSheet(STYLES);\n  /** @internal */\n  _selectionModel: SelectionModel<LyOption>;\n  /** @internal */\n  _value: any;\n\n  /** The cached font-size of the trigger element. */\n  _triggerFontSize = 0;\n\n  private _overlayRef: OverlayFactory | null;\n  protected _disabled = false;\n  protected _required = false;\n  protected _placeholder: string;\n  readonly stateChanges: Subject<void> = new Subject<void>();\n  private _hasDisabledClass?: boolean;\n  private _errorClass?: string;\n  private _form: NgForm | FormGroupDirective | null = this._parentForm || this._parentFormGroup;\n  private _multiple: boolean;\n  private _opened: boolean;\n  private _valueKey: (opt: unknown) => unknown = same;\n  _focused: boolean = false;\n  errorState: boolean = false;\n  private _cursorClass: string;\n\n  /** Manages keyboard events for options in the panel. */\n  _keyManager: ActiveDescendantKeyManager<LyOption>;\n\n  /** Emits when the panel element is finished transforming in. */\n  _panelDoneAnimatingStream = new Subject<string>();\n\n  /** Comparison function to specify which option is displayed. Defaults to object equality. */\n  private _compareWith = (o1: any, o2: any) => o1 === o2;\n\n  /** Emits whenever the component is destroyed. */\n  private readonly _destroy = new Subject<void>();\n\n  /** Combined stream of all of the child options' change events. */\n  readonly optionSelectionChanges: Observable<LyOptionSelectionChange> = defer(() => {\n    const options = this.options;\n\n    if (options) {\n      return options.changes.pipe(\n        startWith(options),\n        switchMap(() => merge(...options.map(option => option.onSelectionChange)))\n      );\n    }\n\n    return this._ngZone.onStable\n      .pipe(take(1), switchMap(() => this.optionSelectionChanges));\n  }) as Observable<LyOptionSelectionChange>;\n\n  @ViewChild('templateRef') templateRef: TemplateRef<any>;\n  @ViewChild('valueText') valueTextDivRef: ElementRef<HTMLDivElement>;\n  /** @internal */\n  @ViewChild(forwardRef(() => LyOption)) _options: QueryList<LyOption>;\n  @ContentChildren(forwardRef(() => LyOption), { descendants: true }) options: QueryList<LyOption>;\n  @ContentChild(LySelectTrigger) customTrigger: LySelectTrigger;\n\n  /** Event emitted when the select panel has been toggled. */\n  @Output() readonly openedChange: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  /** Event emitted when the select has been opened. */\n  @Output('opened') readonly _openedStream: Observable<void> =\n      this.openedChange.pipe(filter(o => o), mapTo(null!));\n\n  /** Event emitted when the select has been closed. */\n  @Output('closed') readonly _closedStream: Observable<void> =\n      this.openedChange.pipe(filter(o => !o), mapTo(null!));\n\n  /** Event emitted when the selected value has been changed by the user. */\n  @Output() readonly selectionChange: EventEmitter<LySelectChange> = new EventEmitter<LySelectChange>();\n\n  /**\n   * Event that emits whenever the raw value of the select changes. This is here primarily\n   * to facilitate the two-way binding for the `value` input.\n   * @docs-private\n   */\n  @Output() readonly valueChange: EventEmitter<any> = new EventEmitter<any>();\n\n  /**\n   * The registered callback function called when a change event occurs on the input element.\n   */\n  onChange = (_: any) => {};\n\n  /**\n   * The registered callback function called when a blur event occurs on the input element.\n   */\n  onTouched = () => {};\n\n  _onFocus() {\n    if (!this.disabled) {\n      this._focused = true;\n      this.stateChanges.next();\n    }\n  }\n  _onBlur() {\n    this._focused = false;\n    if (!this.disabled && !this._opened) {\n      this.onTouched();\n      this._cd.markForCheck();\n      this.stateChanges.next();\n    }\n  }\n\n  /** Time to wait in milliseconds after the last keystroke before moving focus to an item. */\n  @Input()\n  get typeaheadDebounceInterval(): number { return this._typeaheadDebounceInterval; }\n  set typeaheadDebounceInterval(value: number) {\n    const newVal = coerceNumberProperty(value);\n    if (this._typeaheadDebounceInterval !== newVal && this._keyManager) {\n      this._typeaheadDebounceInterval = newVal;\n      this._keyManager.withTypeAhead(newVal);\n    }\n  }\n  private _typeaheadDebounceInterval: number;\n\n  /** Value of the select control. */\n  @Input()\n  get value(): any { return this._value; }\n  set value(newValue: any) {\n    if (newValue !== this._value) {\n      if (this.options) {\n        this._setSelectionByValue(newValue);\n      }\n\n      this._value = newValue;\n    }\n  }\n\n  /** Whether the input is disabled. */\n  @Input()\n  set disabled(val: boolean) {\n    if (val !== this._disabled) {\n      this._disabled = toBoolean(val);\n      if (this._field) {\n        if (!val && this._hasDisabledClass) {\n          this._renderer.removeClass(this._field._getHostElement(), this._field.classes.disabled);\n          if (this._cursorClass) {\n            this._renderer.addClass(this._field._getHostElement(), this._cursorClass);\n          }\n          this._hasDisabledClass = undefined;\n        } else if (val) {\n          this._renderer.addClass(this._field._getHostElement(), this._field.classes.disabled);\n          if (this._cursorClass) {\n            this._renderer.removeClass(this._field._getHostElement(), this._cursorClass);\n          }\n          this._hasDisabledClass = true;\n        }\n      }\n      this.stateChanges.next();\n    }\n  }\n  get disabled(): boolean {\n    if (this.ngControl && this.ngControl.disabled !== null) {\n      return this.ngControl.disabled;\n    }\n    return this._disabled;\n  }\n\n  @Input()\n  set required(value: boolean) {\n    this._required = toBoolean(value);\n  }\n  get required(): boolean { return this._required; }\n\n  @Input()\n  set multiple(value: boolean) {\n    this._multiple = toBoolean(value);\n  }\n  get multiple(): boolean { return this._multiple; }\n\n  /**\n   * @deprecated has been deprecated in favor of `compareWith`\n   */\n  @Input()\n  set valueKey(fn: (opt: unknown) => unknown) {\n    this._valueKey = fn;\n    console.warn('LySelect: `[valueKey]` has been deprecated in favor of `[compareWith]`');\n  }\n  get valueKey(): (opt: unknown) => unknown { return this._valueKey; }\n\n  @Input()\n  set placeholder(val: string) {\n    this._placeholder = val;\n  }\n  get placeholder(): string { return this._placeholder; }\n\n  /**\n   * Function to compare the option values with the selected values. The first argument\n   * is a value from an option. The second is a value from the selection. A boolean\n   * should be returned.\n   */\n  @Input()\n  get compareWith() { return this._compareWith; }\n  set compareWith(fn: (o1: any, o2: any) => boolean) {\n    if (typeof fn !== 'function' && isDevMode) {\n      throw getLySelectNonFunctionValueError();\n    }\n    this._compareWith = fn;\n    if (this._selectionModel) {\n      // A different comparator means the selection could change.\n      this._initializeSelection();\n    }\n  }\n\n  /**\n   * Function used to sort the values in a select in multiple mode.\n   * Follows the same logic as `Array.prototype.sort`.\n   */\n  @Input() sortComparator: (a: LyOption, b: LyOption, options: LyOption[]) => number;\n\n  get focused() {\n    return this._focused;\n  }\n\n  get empty() {\n    return !this._selectionModel || this._selectionModel.isEmpty();\n  }\n\n  get floatingLabel() {\n    return this._opened ? true : !this.empty;\n  }\n\n  /** The value displayed in the trigger. */\n  get triggerValue(): string {\n    if (this._multiple) {\n      const selectedOptions = this._selectionModel.selected.map(option => option.viewValue);\n\n      if (this._theme.variables.direction === Dir.rtl) {\n        selectedOptions.reverse();\n      }\n\n      return selectedOptions.join(', ');\n    }\n\n    return this._selectionModel.selected[0].viewValue;\n  }\n\n  /** Current selecteds */\n  get selected(): LyOption | LyOption[] {\n    const selected = this._selectionModel.selected;\n    return this.multiple ? selected : selected[0];\n  }\n\n  constructor(private _theme: LyTheme2,\n              readonly sRenderer: StyleRenderer,\n              private _renderer: Renderer2,\n              private _el: ElementRef,\n              private _overlay: LyOverlay,\n              /** @internal */\n              @Optional() public _field: LyField,\n              /** @internal */\n              public _cd: ChangeDetectorRef,\n              private _ngZone: NgZone,\n              /** @docs-private */\n              @Optional() @Self() public ngControl: NgControl,\n              @Optional() private _parentForm: NgForm,\n              @Optional() private _parentFormGroup: FormGroupDirective) {\n    super();\n    if (this.ngControl) {\n      // Note: we provide the value accessor through here, instead of\n      // the `providers` to avoid running into a circular import.\n      this.ngControl.valueAccessor = this;\n    }\n\n    this._cursorClass = this._theme.addStyle('lyField.select', {\n      '& {container}': {\n        cursor: 'pointer'\n      }\n    }, this._field._getHostElement(), null, STYLE_PRIORITY, FIELD_STYLES);\n\n  }\n\n  ngOnInit() {\n    this._selectionModel = new SelectionModel<LyOption>(this.multiple);\n    this.stateChanges.next();\n\n    // We need `distinctUntilChanged` here, because some browsers will\n    // fire the animation end event twice for the same animation. See:\n    // https://github.com/angular/angular/issues/24084\n    this._panelDoneAnimatingStream\n      .pipe(distinctUntilChanged(), takeUntil(this._destroy))\n      .subscribe(() => {\n        if (this._opened) {\n          this.openedChange.emit(true);\n        } else {\n          if (this._overlayRef) {\n            this._overlayRef.remove();\n            this._overlayRef = null;\n          }\n          this.openedChange.emit(false);\n          this.stateChanges.next();\n          this._cd.markForCheck();\n        }\n      });\n\n    const ngControl = this.ngControl;\n\n    // update styles on disabled\n    if (ngControl && ngControl.statusChanges) {\n      ngControl.statusChanges.pipe(takeUntil(this._destroy)).subscribe(() => {\n        this.disabled = !!ngControl.disabled;\n      });\n    }\n\n    // apply class {selectArrow} to `<select>`\n    this._renderer.addClass(this._field._getHostElement(), this._field.classes.selectArrow);\n\n    // apply default styles\n    this._renderer.addClass(this._el.nativeElement, this._field.classes.inputNative);\n    this._renderer.addClass(this._el.nativeElement, this.classes.root);\n  }\n\n  ngDoCheck() {\n    const oldVal = this.errorState;\n    const newVal = !!(this.ngControl && this.ngControl.invalid && (this.ngControl.touched || (this._form && this._form.submitted)));\n    if (newVal !== oldVal) {\n      this.errorState = newVal;\n      if (this._field) {\n        const errorClass = this._field.classes.errorState;\n        if (newVal) {\n          this._renderer.addClass(this._field._getHostElement(), errorClass);\n          this._errorClass = errorClass;\n        } else if (this._errorClass) {\n          this._renderer.removeClass(this._field._getHostElement(), errorClass);\n          this._errorClass = undefined;\n        }\n        this.stateChanges.next();\n      }\n    }\n  }\n\n  ngAfterContentInit() {\n    this._initKeyManager();\n\n    this.options.changes.pipe(startWith(null), takeUntil(this._destroy)).subscribe(() => {\n      this._resetOptions();\n      this._initializeSelection();\n    });\n\n    this._selectionModel.changed.pipe(takeUntil(this._destroy)).subscribe(event => {\n      event.added.forEach(option => option.select());\n      event.removed.forEach(option => option.deselect());\n    });\n\n    Promise.resolve().then(() => {\n      this.value = this.ngControl ? this.ngControl.value : this._value;\n      this.stateChanges.next();\n      this._cd.markForCheck();\n    });\n    this._keyManager.change.pipe(takeUntil(this._destroy)).subscribe(() => {\n      if (!this._opened && !this.multiple && this._keyManager.activeItem) {\n        this._keyManager.activeItem._selectViaInteraction();\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this._destroy.next();\n    this._destroy.complete();\n    this.stateChanges.complete();\n    if (this._overlayRef) {\n      this._overlayRef.destroy();\n    }\n  }\n\n  open() {\n    if (this.disabled || !this.options || !this.options.length || this._opened) {\n      return;\n    }\n    this._opened = true;\n    if (this._overlayRef) {\n      this._overlayRef.destroy();\n    }\n    this._overlayRef = this._overlay.create(this.templateRef, null, {\n      styles: {\n        top: 0,\n        left: 0,\n        pointerEvents: null\n      },\n      fnDestroy: this.close.bind(this),\n      onResizeScroll: this._updatePlacement.bind(this)\n    });\n    this._keyManager.withHorizontalOrientation(null);\n    this._triggerFontSize = parseInt(getComputedStyle(this._getHostElement()).fontSize || '0');\n    this._highlightCorrectOption();\n    this._cd.markForCheck();\n    this.stateChanges.next();\n    this._ngZone.onStable.pipe(\n      take(1)\n    ).subscribe(() => this._updatePlacement(true));\n  }\n\n  close() {\n    if (this._opened) {\n      this._opened = false;\n      this._overlayRef?.detach();\n      this._keyManager.withHorizontalOrientation(this._theme.variables.direction);\n      this._cd.markForCheck();\n      this.onTouched();\n    }\n  }\n\n  /** @docs-private */\n  onContainerClick() {\n    this.focus();\n    this.open();\n  }\n\n  /** Focuses the select element. */\n  focus(options?: FocusOptions): void {\n    this._getHostElement().focus(options);\n  }\n\n  _getHostElement() {\n    return this._el.nativeElement;\n  }\n\n  /**\n   * Sets the \"value\" property on the input element.\n   *\n   * @param value The checked value\n   */\n  writeValue(value: any): void {\n    this.value = value;\n  }\n\n  /**\n   * Registers a function called when the control value changes.\n   *\n   * @param fn The callback function\n   */\n  registerOnChange(fn: (value: any) => any): void {\n    this.onChange = (_valueString: string) => {\n      fn(this.value);\n    };\n  }\n\n  /**\n   * Registers a function called when the control is touched.\n   *\n   * @param fn The callback function\n   */\n  registerOnTouched(fn: () => any): void { this.onTouched = fn; }\n\n  /**\n   * Disables the select. Part of the ControlValueAccessor interface required\n   * to integrate with Angular's core forms API.\n   *\n   * @param isDisabled Sets whether the component is disabled.\n   */\n  setDisabledState(isDisabled: boolean) {\n    this.disabled = isDisabled;\n    this._cd.markForCheck();\n    this.stateChanges.next();\n  }\n\n  /** Handles all keydown events on the select. */\n  _handleKeydown(event: KeyboardEvent): void {\n    if (!this.disabled) {\n      this._opened ? this._handleOpenKeydown(event) : this._handleClosedKeydown(event);\n    }\n  }\n\n  /** Handles keyboard events while the select is closed. */\n  private _handleClosedKeydown(event: KeyboardEvent): void {\n    const keyCode = event.keyCode;\n    const isArrowKey = keyCode === DOWN_ARROW || keyCode === UP_ARROW ||\n                       keyCode === LEFT_ARROW || keyCode === RIGHT_ARROW;\n    const isOpenKey = keyCode === ENTER || keyCode === SPACE;\n    const manager = this._keyManager;\n\n    // Open the select on ALT + arrow key to match the native <select>\n    if (!manager.isTyping() && (isOpenKey && !hasModifierKey(event)) ||\n      ((this.multiple || event.altKey) && isArrowKey)) {\n      event.preventDefault(); // prevents the page from scrolling down when pressing space\n      this.open();\n    } else if (!this.multiple) {\n      manager.onKeydown(event);\n    }\n  }\n\n  /** Handles keyboard events when the selected is open. */\n  private _handleOpenKeydown(event: KeyboardEvent): void {\n    const manager = this._keyManager;\n    const keyCode = event.keyCode;\n    const isArrowKey = keyCode === DOWN_ARROW || keyCode === UP_ARROW;\n    const isTyping = manager.isTyping();\n\n    if (isArrowKey && event.altKey) {\n      // Close the select on ALT + arrow key to match the native <select>\n      event.preventDefault();\n      this.close();\n      // Don't do anything in this case if the user is typing,\n      // because the typing sequence can include the space key.\n    } else if (!isTyping && (keyCode === ENTER || keyCode === SPACE) && manager.activeItem &&\n      !hasModifierKey(event)) {\n      event.preventDefault();\n      manager.activeItem._selectViaInteraction();\n    } else if (!isTyping && this._multiple && keyCode === A && event.ctrlKey) {\n      event.preventDefault();\n      const hasDeselectedOptions = this.options.some(opt => !opt.disabled && !opt.selected);\n\n      this.options.forEach(option => {\n        if (!option.disabled) {\n          hasDeselectedOptions ? option.select() : option.deselect();\n        }\n      });\n    } else {\n      const previouslyFocusedIndex = manager.activeItemIndex;\n\n      manager.onKeydown(event);\n\n      if (this._multiple && isArrowKey && event.shiftKey && manager.activeItem &&\n          manager.activeItemIndex !== previouslyFocusedIndex) {\n        manager.activeItem._selectViaInteraction();\n      }\n    }\n  }\n\n  private _initializeSelection(): void {\n    // Defer setting the value in order to avoid the \"Expression\n    // has changed after it was checked\" errors from Angular.\n    Promise.resolve().then(() => {\n      this._setSelectionByValue(this.ngControl ? this.ngControl.value : this._value);\n      this.stateChanges.next();\n    });\n  }\n\n  /**\n   * Sets the selected option based on a value. If no option can be\n   * found with the designated value, the select trigger is cleared.\n   */\n  private _setSelectionByValue(value: any | any[]): void {\n    if (this.multiple && value) {\n      if (!Array.isArray(value) && isDevMode()) {\n        throw getLySelectNonArrayValueError();\n      }\n\n      this._selectionModel.clear();\n      value.forEach((currentValue: any) => this._selectValue(currentValue));\n      this._sortValues();\n    } else {\n      this._selectionModel.clear();\n      const correspondingOption = this._selectValue(value);\n\n      // Shift focus to the active item. Note that we shouldn't do this in multiple\n      // mode, because we don't know what option the user interacted with last.\n      if (correspondingOption) {\n        this._keyManager.updateActiveItem(correspondingOption);\n      } else if (!this._opened) {\n        // Otherwise reset the highlighted option. Note that we only want to do this while\n        // closed, because doing it while open can shift the user's focus unnecessarily.\n        this._keyManager.updateActiveItem(-1);\n      }\n    }\n\n    this._cd.markForCheck();\n  }\n\n  /**\n   * Finds and selects and option based on its value.\n   * @returns Option that has the corresponding value.\n   */\n  private _selectValue(value: any): LyOption | undefined {\n    const correspondingOption = this.options.find((option: LyOption) => {\n      if (this._valueKey !== same) {\n        return this.valueKey(option.value) === this.valueKey(value);\n      }\n      try {\n        // Treat null as a special reset value.\n        return option.value != null && this._compareWith(option.value, value);\n      } catch (error) {\n        if (isDevMode()) {\n          // Notify developers of errors in their comparator.\n          console.warn(error);\n        }\n        return false;\n      }\n    });\n\n    if (correspondingOption) {\n      this._selectionModel.select(correspondingOption);\n    }\n\n    return correspondingOption;\n  }\n\n  private _updatePlacement(updateScroll: boolean) {\n    const el = this._overlayRef!.containerElement as HTMLElement;\n    const container = el.querySelector('div')!;\n    const triggerFontSize = this._triggerFontSize;\n    const { nativeElement } = this.valueTextDivRef;\n    let panelWidth: number;\n\n    if (this.multiple) {\n      panelWidth = nativeElement.offsetWidth + triggerFontSize * 4;\n    } else {\n      panelWidth = nativeElement.offsetWidth + triggerFontSize * 2;\n    }\n\n\n    // reset height & width\n    this._renderer.setStyle(container, 'height', 'initial');\n    this._renderer.setStyle(container, 'width', `${panelWidth}px`);\n\n\n    let selectedElement: HTMLElement | null = this._selectionModel.isEmpty()\n        ? el.querySelector('ly-option')\n        : this._selectionModel.selected[0]._getHostElement() as HTMLElement;\n\n    if (!selectedElement) {\n      selectedElement = (el.firstElementChild!.firstElementChild! || el.firstElementChild!) as HTMLElement;\n    }\n\n    const offset = {\n      y: -(nativeElement.offsetHeight / 2 + selectedElement.offsetTop + selectedElement.offsetHeight / 2),\n      x: -triggerFontSize\n    };\n\n    // scroll to selected option\n    if (container.scrollHeight !== container.offsetHeight) {\n      if (updateScroll) {\n        if (container.scrollTop === selectedElement.offsetTop) {\n          container.scrollTop = container.scrollTop - (container.offsetHeight / 2) + selectedElement.offsetHeight / 2;\n        } else {\n          container.scrollTop = container.scrollTop\n          - (container.offsetHeight / 2 - (selectedElement.offsetTop - container.scrollTop)) + selectedElement.offsetHeight / 2;\n        }\n      }\n      offset.y = container.scrollTop + offset.y;\n    }\n\n    if (this.multiple) {\n      offset.x -= 24;\n    }\n\n    const position = new Positioning(\n      YPosition.below,\n      XPosition.after,\n      null as any,\n      nativeElement,\n      el,\n      this._theme.variables,\n      offset,\n      false\n    );\n\n    // set position\n    this._renderer.setStyle(el, 'transform', `translate3d(${position.x}px, ${position.y}px, 0)`);\n    this._renderer.setStyle(el, 'transform-origin', `${position.ox} ${position.oy} 0`);\n\n    // set height & width\n    this._renderer.setStyle(container, 'height', position.height);\n    const width = position.width === 'initial'\n          ? `${panelWidth}px`\n          : position.width;\n    this._renderer.setStyle(container, 'width', width);\n  }\n\n  /** Sets up a key manager to listen to keyboard events on the overlay panel. */\n  private _initKeyManager() {\n    this._keyManager = new ActiveDescendantKeyManager<LyOption>(this.options)\n      .withTypeAhead(this._typeaheadDebounceInterval)\n      .withVerticalOrientation()\n      .withHorizontalOrientation(this._theme.variables.direction)\n      .withHomeAndEnd()\n      .withAllowedModifierKeys(['shiftKey']);\n\n    this._keyManager.tabOut.pipe(takeUntil(this._destroy)).subscribe(() => {\n      if (this._opened) {\n        // Select the active item when tabbing away. This is consistent with how the native\n        // select behaves. Note that we only want to do this in single selection mode.\n        if (!this.multiple && this._keyManager.activeItem) {\n          this._keyManager.activeItem._selectViaInteraction();\n        }\n\n        // Restore focus to the trigger before closing. Ensures that the focus\n        // position won't be lost if the user got focus into the overlay.\n        this.focus();\n        this.close();\n      }\n    });\n\n    this._keyManager.change.pipe(takeUntil(this._destroy)).subscribe(() => {\n      if (this._opened) {\n        this._scrollActiveOptionIntoView();\n      } else if (!this._opened && !this.multiple && this._keyManager.activeItem) {\n        this._keyManager.activeItem._selectViaInteraction();\n      }\n    });\n  }\n\n  /** Sorts the selected values in the selected based on their order in the panel. */\n  private _sortValues() {\n    if (this.multiple) {\n      const options = this.options.toArray();\n\n      this._selectionModel.sort((a, b) => {\n        return this.sortComparator ? this.sortComparator(a, b, options) :\n                                     options.indexOf(a) - options.indexOf(b);\n      });\n      this.stateChanges.next();\n    }\n  }\n\n  private _resetOptions(): void {\n    const changedOrDestroyed = merge(this.options.changes, this._destroy);\n\n    this.optionSelectionChanges.pipe(takeUntil(changedOrDestroyed)).subscribe(event => {\n      this._onSelect(event.source, event.isUserInput);\n\n      if (event.isUserInput && !this.multiple && this._opened) {\n        this.close();\n        this.focus();\n      }\n    });\n  }\n\n  /** Invoked when an option is clicked. */\n  private _onSelect(option: LyOption, isUserInput: boolean): void {\n    const wasSelected = this._selectionModel.isSelected(option);\n\n    if (option.value == null && !this._multiple) {\n      option.deselect();\n      this._selectionModel.clear();\n\n      if (this.value != null) {\n        this._propagateChanges(option.value);\n      }\n    } else {\n      if (wasSelected !== option.selected) {\n        option.selected ? this._selectionModel.select(option) :\n                          this._selectionModel.deselect(option);\n      }\n\n      if (isUserInput) {\n        this._keyManager.setActiveItem(option);\n      }\n\n      if (this.multiple) {\n        this._sortValues();\n        if (isUserInput) {\n          // In case the user selected the option with their mouse, we\n          // want to restore focus back to the trigger, in order to\n          // prevent the select keyboard controls from clashing with\n          // the ones from `ly-option`.\n          this.focus();\n        }\n      }\n    }\n\n    if (wasSelected !== this._selectionModel.isSelected(option)) {\n      this._propagateChanges();\n    }\n\n    this.stateChanges.next();\n  }\n\n  /** Emits change event to set the model value. */\n  private _propagateChanges(fallbackValue?: any): void {\n    let valueToEmit: any = null;\n\n    if (this.multiple) {\n      valueToEmit = (this.selected as LyOption[]).map(option => option.value);\n    } else {\n      valueToEmit = this.selected ? (this.selected as LyOption).value : fallbackValue;\n    }\n\n    this._value = valueToEmit;\n    this.valueChange.emit(valueToEmit);\n    this.onChange(valueToEmit);\n    this.selectionChange.emit(new LySelectChange(this, valueToEmit));\n    this._cd.markForCheck();\n  }\n\n  /**\n   * Highlights the selected item. If no option is selected, it will highlight\n   * the first item instead.\n   */\n  private _highlightCorrectOption(): void {\n    if (this._keyManager) {\n      if (this.empty) {\n        this._keyManager.setFirstItemActive();\n      } else {\n        this._keyManager.setActiveItem(this._selectionModel.selected[0]);\n      }\n    }\n  }\n\n  /** Scrolls the active option into view. */\n  private _scrollActiveOptionIntoView(): void {\n    const el = this._overlayRef!.containerElement as HTMLElement;\n    const container = el.querySelector('div')!;\n    const activeOption = this._keyManager.activeItem!._getHostElement();\n    // const containerRect = container.getBoundingClientRect();\n    // const activeOptionRect = ;\n    if (typeof activeOption.scrollIntoView === 'function') {\n      if (container.scrollTop > activeOption.offsetTop) {\n        container.scrollTop = activeOption.offsetTop;\n      } else if (\n        container.scrollTop + container.offsetHeight < activeOption.offsetTop + activeOption.offsetHeight\n      ) {\n        container.scrollTop = activeOption.offsetTop - container.offsetHeight + activeOption.offsetHeight;\n      }\n    }\n  }\n\n}\n\n/** Event object emitted by LyOption when selected or deselected. */\nexport class LyOptionSelectionChange {\n  constructor(\n    /** Reference to the option that emitted the event. */\n    public source: LyOption,\n    /** Whether the change in the option's value was a result of a user action. */\n    public isUserInput = false) { }\n}\n\n/** @docs-private */\nexport class LyOptionBase {\n  constructor(\n    public _theme: LyTheme2,\n    public _ngZone: NgZone,\n    public _platform: Platform\n  ) { }\n}\n\n/** @docs-private */\nexport const LyOptionMixinBase = mixinDisableRipple(LyOptionBase);\n\n/**\n * @dynamic\n */\n@Component({\n  selector: 'ly-option',\n  templateUrl: './option.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    'role': 'option',\n    '(keydown)': '_handleKeydown($event)',\n    '[attr.tabindex]': '_getTabIndex()',\n  },\n  inputs: [\n    'disableRipple'\n  ],\n  providers: [\n    StyleRenderer\n  ]\n})\nexport class LyOption extends LyOptionMixinBase implements WithStyles, FocusableOption, OnInit, OnChanges {\n  /** @docs-private */\n  readonly classes = this._theme.addStyleSheet(STYLES, STYLE_PRIORITY);\n  private _value: any;\n  private _selected = false;\n  private _disabled = false;\n\n  @ViewChild('rippleContainer') _rippleContainer: ElementRef;\n\n  /** Event emitted when the option is selected or deselected. */\n  // tslint:disable-next-line: no-output-on-prefix\n  @Output() readonly onSelectionChange = new EventEmitter<LyOptionSelectionChange>();\n\n  @HostListener('click') _onClick() {\n    this._selectViaInteraction();\n  }\n\n  /** Whether or not the option is currently selected. */\n  get selected(): boolean { return this._selected; }\n\n  /** Whether the wrapping component is in multiple selection mode. */\n  get multiple() { return this._select && this._select.multiple; }\n\n  /**\n   * Tracks simple string values bound to the option element.\n   */\n  @Input('value')\n  set value(value: any) {\n    this._value = value;\n  }\n  get value() {\n    return this._value;\n  }\n\n  /** Whether the option is disabled. */\n  @Input()\n  set disabled(value: any) {\n    this._disabled = coerceBooleanProperty(value);\n  }\n  get disabled() {\n    return this._disabled;\n  }\n\n  @Style<string | null>(\n    value => (theme: ThemeVariables) => (className: string) => `${className}{color:${theme.colorOf(value)};}`\n  )\n  _selectedColor: string | null;\n\n  /** The displayed value of the option. */\n  get viewValue(): string {\n    return ((this._getHostElement() as Element).textContent || '').trim();\n  }\n\n  /** The color of Select option */\n  get _color() {\n    return this._selected ? this._select._field.color : null;\n  }\n\n  /**\n   * @deprecated use instead `selected`\n   */\n  get isSelected(): boolean {\n    return this._selected;\n  }\n\n  constructor(readonly sRenderer: StyleRenderer,\n              /** @internal */\n              readonly _select: LySelect,\n              private _el: ElementRef,\n              /** @internal */\n              public _rippleService: LyRippleService,\n              _renderer: Renderer2,\n              _theme: LyTheme2,\n              /** @internal */\n              public _cd: ChangeDetectorRef,\n              _ngZone: NgZone,\n              platform: Platform\n  ) {\n    super(_theme, _ngZone, platform);\n    _renderer.addClass(_el.nativeElement, this.classes.option);\n    this._triggerElement = _el;\n  }\n\n  ngOnInit() {\n    if (this.disableRipple == null) {\n      this.disableRipple = DEFAULT_DISABLE_RIPPLE;\n    }\n  }\n\n  ngOnChanges() { }\n\n  /** Applies the styles for an active item to this item. */\n  setActiveStyles(): void {\n    this.sRenderer.addClass(this.classes.optionActive);\n  }\n\n  /** Applies the styles for an inactive item to this item. */\n  setInactiveStyles(): void {\n    this.sRenderer.removeClass(this.classes.optionActive);\n  }\n\n  /** Gets the label to be used when determining whether the option should be focused. */\n  getLabel(): string {\n    return this.viewValue;\n  }\n\n  /** Selects the option. */\n  select(): void {\n    if (!this._selected) {\n      this._selected = true;\n      this._selectedColor = this._color;\n      this._cd.markForCheck();\n      this._emitSelectionChangeEvent();\n    }\n  }\n\n  /** Deselects the option. */\n  deselect(): void {\n    if (this._selected) {\n      this._selected = false;\n      this._selectedColor = null;\n      this._cd.markForCheck();\n      this._emitSelectionChangeEvent();\n    }\n  }\n\n  /** Sets focus onto this option. */\n  focus(_origin?: FocusOrigin, options?: FocusOptions) {\n    const element = this._getHostElement();\n\n    if (typeof element.focus === 'function') {\n      element.focus(options);\n    }\n  }\n\n  /** Ensures the option is selected when activated from the keyboard. */\n  _handleKeydown(event: KeyboardEvent): void {\n    // tslint:disable-next-line: deprecation\n    if ((event.keyCode === ENTER || event.keyCode === SPACE) && !hasModifierKey(event)) {\n      this._selectViaInteraction();\n\n      // Prevent the page from scrolling down and form submits.\n      event.preventDefault();\n    }\n  }\n\n  /**\n   * `Selects the option while indicating the selection came from the user. Used to\n   * determine if the select's view -> model callback should be invoked.`\n   */\n  _selectViaInteraction(): void {\n    if (!this.disabled) {\n      this._selected = this.multiple ? !this._selected : true;\n      this._selectedColor = this._color;\n      this._cd.markForCheck();\n      this._emitSelectionChangeEvent(true);\n    }\n  }\n\n  /** @internal */\n  _getHostElement(): HTMLElement {\n    return this._el.nativeElement;\n  }\n\n  /** Returns the correct tabindex for the option depending on disabled state. */\n  _getTabIndex(): string {\n    return this.disabled ? '-1' : '0';\n  }\n\n  /** Emits the selection change event. */\n  private _emitSelectionChangeEvent(isUserInput = false): void {\n    this.onSelectionChange.emit(new LyOptionSelectionChange(this, isUserInput));\n  }\n\n}\n\nfunction same(o: unknown): unknown {\n  return o;\n}\n","/**\n * Returns an exception to be thrown when attempting to assign a non-array value to a select\n * in `multiple` mode. Note that `undefined` and `null` are still valid values to allow for\n * resetting the value.\n * @docs-private\n */\nexport function getLySelectNonArrayValueError(): Error {\n  return Error('Value must be an array in multiple-selection mode.');\n}\n\n/**\n * Returns an exception to be thrown when assigning a non-function value to the comparator\n * used to determine if a value corresponds to an option. Note that whether the function\n * actually takes two values and returns a boolean is not checked.\n */\nexport function getLySelectNonFunctionValueError(): Error {\n  return Error('`compareWith` must be a function.');\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LyCommonModule, LyOverlayModule } from '@alyle/ui';\nimport { LyCheckboxModule } from '@alyle/ui/checkbox';\n\nimport { LySelect, LyOption, LySelectTrigger } from './select';\n\n@NgModule({\n  declarations: [LySelect, LyOption, LySelectTrigger],\n  imports: [\n    CommonModule,\n    LyCommonModule,\n    LyCheckboxModule,\n    LyOverlayModule\n  ],\n  exports: [LySelect, LyOption, LySelectTrigger, LyCommonModule]\n})\nexport class LySelectModule { }\n"]}