{"version":3,"sources":["../../../lib/skeleton/skeleton.ts","../../../lib/skeleton/skeleton.module.ts"],"names":["STYLES","theme","id","keyframesUniqueId","next","_a","background","primary","secondary","tertiary","dir","direction","Dir","ltr","lum","default","luminance","one","two","darken","$name","LySkeleton","и","$priority","$global","className","root","sRenderer","this","classes","renderSheet","Object","defineProperty","prototype","_skeleton","val","newVal","toBoolean","toggleClass","Directive","args","selector","providers","StyleRenderer","exportAs","Input","NgModule","declarations","exports"],"mappings":"0XAQA,IACaA,EAAS,SAACC,GACrB,IAAMC,EAAKC,EAAAA,kBAAkBC,OACvBC,EAAmCJ,EAAMK,WAAvCC,EAAOF,EAAAE,QAAEC,EAASH,EAAAG,UAAEC,EAAQJ,EAAAI,SAC9BC,EAAMT,EAAMU,YAAcC,EAAAA,IAAIC,KAAO,EAAI,EACzCC,EAAMP,EAAQQ,QAAQC,YACxBC,EAAOH,EAAM,GACbL,EACAD,EACAU,EAAOJ,EAAM,GACbN,EACAC,EAIJ,OAHAQ,EAAMA,EAAIE,OAAO,GAAKL,EAAM,IAAM,GAAK,IACvCI,EAAMA,EAAIC,OAAO,KAAOL,EAAM,IAAM,EAAI,IAEjC,CACLM,MAAOC,EAAWC,EAClBC,WAjBmB,GAkBnBC,QAAS,SAACC,GAAsB,MAAA,cAAcvB,EAAE,IAAIuB,EAAS,2BAAkC,KAANf,EAAS,UAAUe,EAAS,6BAAmC,IAANf,EAAS,YAC3JgB,KAAM,SAACD,GAAsB,OAAGA,EAAAA,kDAE1BR,EACF,KACEC,EACF,KACEA,EACF,KACED,EAR0BQ,yCASevB,EAAE,gGA4BnD,SAAAmB,EACWM,GAAAC,KAAAD,UAAAA,EAdFC,KAAAC,QAAUD,KAAKD,UAAUG,YAAY9B,UAE9C+B,OAAAC,eACIX,EAAAY,UAAA,WAAQ,KADZ,WAEE,OAAOL,KAAKM,eAEd,SAAaC,GACX,IAAMC,EAASC,EAAAA,UAAUF,GACzBP,KAAKM,UAAYE,EACjBR,KAAKD,UAAUW,YAAYV,KAAKC,QAAQH,KAAMU,yCAXhCf,EAAAC,EAAI,iCATrBiB,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,eACVC,UAAW,CACTC,EAAAA,eAEFC,SAAU,0DAzCVD,EAAAA,mDAiDCE,EAAAA,MAAKL,KAAA,CAAC,uBC9CT,iCAJCM,EAAAA,SAAQN,KAAA,CAAC,CACRO,aAAc,CAAC1B,GACf2B,QAAS,CAAC3B","sourcesContent":["import { Directive, Input } from '@angular/core';\nimport {\n  ThemeVariables,\n  keyframesUniqueId,\n  StyleRenderer,\n  toBoolean,\n  Dir } from '@alyle/ui';\n\nconst STYLE_PRIORITY = -0.5;\nexport const STYLES = (theme: ThemeVariables) => {\n  const id = keyframesUniqueId.next();\n  const { primary, secondary, tertiary } = theme.background;\n  const dir = theme.direction === Dir.ltr ? -1 : 1;\n  const lum = primary.default.luminance();\n  let one = (lum < .5\n    ? tertiary\n    : secondary);\n  let two = (lum < .5\n    ? secondary\n    : tertiary);\n  one = one.darken(1 * (lum < .5 ? -.5 : 0));\n  two = two.darken(.25 * (lum < .5 ? -1 : 1));\n\n  return {\n    $name: LySkeleton.и,\n    $priority: STYLE_PRIORITY,\n    $global: (className: string) => `@keyframes ${id}{${className} 0%{background-position:${-dir * 200}% 50%;}${className} 100%{background-position:${dir * 200}% 50%;}}`,\n    root: (className: string) => `${className}{content:'';background:${\n        `linear-gradient(270deg, ${\n          one\n        }, ${\n          two\n        }, ${\n          two\n        }, ${\n          one\n        })`};background-size:400% 400%;animation:${id} 8s ease-in-out infinite;color:transparent;cursor:progress;user-select:none;}`\n  };\n};\n\n@Directive({\n  selector: '[lySkeleton]',\n  providers: [\n    StyleRenderer\n  ],\n  exportAs: 'lySkeleton'\n})\nexport class LySkeleton {\n  /** @docs-private */\n  static readonly и = 'LySkeleton';\n  /** @docs-private */\n  readonly classes = this.sRenderer.renderSheet(STYLES);\n\n  @Input('lySkeleton')\n  get skeleton() {\n    return this._skeleton;\n  }\n  set skeleton(val: boolean) {\n    const newVal = toBoolean(val);\n    this._skeleton = newVal;\n    this.sRenderer.toggleClass(this.classes.root, newVal);\n  }\n  private _skeleton: boolean;\n\n  constructor(\n    readonly sRenderer: StyleRenderer\n  ) { }\n}\n","import { NgModule } from '@angular/core';\nimport { LySkeleton } from './skeleton';\n\n@NgModule({\n  declarations: [LySkeleton],\n  exports: [LySkeleton]\n})\nexport class LySkeletonModule { }\n"]}