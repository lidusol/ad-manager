{"version":3,"sources":["../../../lib/src/shadow.ts","../../../lib/src/platform/passive-listeners.ts","../../../lib/src/alyle-config-service.ts","../../../lib/src/platform/platform.ts","../../../../node_modules/tslib/tslib.es6.js","../../../lib/src/theme/theme-config.ts","../../../lib/src/minimal/memoize.ts","../../../lib/src/theme/style.ts","../../../lib/src/parse.ts","../../../lib/src/style-utils.ts","../../../lib/src/position/position.ts","../../../lib/src/theme/core-theme.service.ts","../../../lib/src/theme/theme2.service.ts","../../../lib/src/minimal/common.ts","../../../lib/src/common/build-common-behaviors.ts","../../../lib/src/minimal/is-boolean.ts","../../../lib/src/ripple/ripple.ts","../../../lib/src/styles/core-styles.ts","../../../lib/src/ripple/ripple.service.ts","../../../lib/src/common/disable-ripple.ts","../../../lib/src/common/color.ts","../../../lib/src/common/bg.ts","../../../lib/src/common/raised.ts","../../../lib/src/common/outlined.ts","../../../lib/src/common/elevation.ts","../../../lib/src/common/shadow-color.ts","../../../lib/src/theme/paper.ts","../../../lib/src/theme/with-class.directive.ts","../../../lib/src/minimal/renderer-style.ts","../../../lib/src/theme/style.directive.ts","../../../lib/src/theme/common.module.ts","../../../lib/src/minimal/scroll-to.ts","../../../lib/src/focus-state/focus-state.ts","../../../lib/src/minimal/host-class.ts","../../../lib/src/gesture/gesture-config.ts","../../../lib/src/theme.module.ts","../../../lib/src/undefined.ts","../../../lib/src/dom/overlay-ref.ts","../../../lib/src/dom/overlay-container.ts","../../../lib/src/dom/overlay-config.ts","../../../lib/src/dom/overlay-backdrop.ts","../../../lib/src/dom/overlay-injector.ts","../../../lib/src/dom/overlay-factory.ts","../../../lib/src/dom/overlay.ts","../../../lib/src/dom/overlay.module.ts","../../../lib/src/dom/mutation-observer-factory.ts","../../../lib/src/dom/resize.ts","../../../lib/src/dom/scroll.ts","../../../lib/src/position/align.ts","../../../lib/src/position/overlay-position.ts","../../../lib/src/selection/selection.ts","../../../lib/src/expansion-icon/expansion-icon.ts","../../../lib/src/expansion-icon/expansion-icon.module.ts","../../../lib/src/version.ts","../../../lib/src/dom/overlay-styles.ts","../../../lib/src/minimal/default-entry.ts","../../../lib/src/palette.ts","../../../lib/src/error/theme-variable-undefined.ts","../../../lib/src/common/disabled.ts","../../../lib/src/common/tabindex.ts","../../../lib/src/minimal/to-number.ts","../../../lib/src/minimal/component-destroyed.ts"],"names":["Shadows","shadowBuilder","elevation","color","_color","Color","rgb","rgba","darken","saturate","colors","alpha","css","e","supportsPassive","THEME_VARIABLES","InjectionToken","IS_CORE_THEME","hasV8BreakIterator","Intl","v8BreakIterator","supportsPassiveEventListeners","opts","Object","defineProperty","get","window","addEventListener","removeEventListener","Platform","isBrowser","document","EDGE","test","navigator","userAgent","TRIDENT","BLINK","chrome","CSS","WEBKIT","IOS","MSStream","FIREFOX","ANDROID","SAFARI","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","__","this","constructor","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","__values","o","s","Symbol","iterator","m","next","value","done","TypeError","__read","n","ar","push","error","__spread","concat","LY_THEME_GLOBAL_VARIABLES","LY_THEME","LY_THEME_NAME","LY_CLASS_NAME_PREFIX","memoize","fn","cache","undefined","TypeStyle","_STYLE_MAP","Map","getThemeNameForSelectors","themeId","id","LylParse","_template","_className","toCss","_this","selectors","selector","rules","replace","_ex","fullLine","trim","endsWith","line_1","slice","includes","has","set","split","map","_","_resolveSelectors","pop","startsWith","lin","content","createUniqueCommentSelector","Error","forEach","val","matchArray","match","media","after","sel_1","newValue","reduce","previous","current","last","transformCC","isArray","item","join","delete","from","entries","filter","rule","sel","contents","contentRendered","Set","index","add","prev","result","cu","apply","expression","text","Math","floor","Date","valueOf","random","toString","StyleCollection","templates","_i","_templates","bind","_a","setTransformer","transformer","_transformer","className","st2c","Dir","DirAlias","DirPosition","StringIdGenerator","chars","_chars","_nextId","_b","_c","char","unshift","_increment","LyStyleUtils","above","below","getDirection","before","pxToRem","size","typography","fontSize","htmlFontSize","colorOf","optional","hexColorToInt","obj","path","_path","posibleOb","getBreakpoint","breakpoints","selectorsOf","styles","styleMap","classes","name","direction","parseMediaQueryFromString","valItem","strValue","shift","len","isNaN","re","j","parseMediaQueriesFromString","resolveMediaEachItemStyle","styleCollection","styl","isObject","isObjectForTheme","mergeThemes","sources","source","assign","targetKey","sourceKey","YPosition","XPosition","CoreTheme","rendererFactory","_document","platform","_classNamePrefix","themes","_themeMap","_styleMap","isDevMode","classNamePrefix","nodes","body","querySelectorAll","element","removeChild","firstElement","firstChild","renderer","createRenderer","encapsulation","ViewEncapsulation","None","data","initializeTheme","themeConfig","globalVariables","allThemes","hasTheme","items","_add","theme","updateClassName","newClassname","oldClassname","removeClass","addClass","Injectable","args","providedIn","RendererFactory2","Inject","DOCUMENT","Optional","type","Positioning","placement","xPosition","yPosition","origin","overlayElement","_themeVariables","_offset","_flip","_offsetCheck","_originRect","getBoundingClientRect","_overlayElementRect","width","height","offsetCheckx2","createPosition","checkAll","requireUpdateOrigin","_max_width","innerWidth","innerHeight","y","checkBottom","checkTop","x","checkRight","checkLeft","updateOrigin","round","ax","ay","ox","oy","offsetY","dir","left","offsetX","right","returnVal","invertIfNeed","rest","invertPlacement","_origin","oax","oay","vax","vay","REF_REG_EXP","nextKeyFrameId","yClassID","keyframesUniqueId","styleContainers","styleElementGlobalMap","THEME_MAP","LyTheme2","stylesInDocument","core","themeName","_ngZone","_platform","_elementsMap","_directionChanged","Subject","themeMap","isDevOrServer","setUpTheme","asObservable","config","elements","initialTheme","base","change","renderStyleSheet","_createStyleContent2","Multiple","renderStyle","styleOrId","priorityOrStyle","priority","LylStyle","addStyle","style","el","instance","parentStyle","newClass","OnlyOne","classList","remove","updateClass","oldClass","setTheme","_updateAllStyles","toggleDirection","ltr","rtl","styleData","requireUpdate","addSimpleStyle","addStyleSheet","existStyle","stylesOrId","isNewStyle","themeNameForSelectors","selectorOf","forChangeTheme","newId","toValidClassName","createNextClassId","createLylStyle","groupStyleToString","newEl","_createElementStyle","appendChild","_createStyleContainer","innerText","_css","createElement","setAttribute","insertBefore","refChild","findNode","keys","sort","find","styleElement","styleText","createText","requestAnimationFrame","runOutsideAngular","typeStyle","themeVariables","styleToString","styleMapOfParentStyle","replaceRefs","classesMap","selectorsMap","styleGroup","$name","$priority","st","keyframesToString","currentClassName","str","_match","token","ob","currentKey","parentKey","newKey","subContent","keyAndValue","styleKey","indexOf","convertToStyleValue","newStyleKey","STYLE_KEYS_MAP","converterToCssKeyAndStyle","converterToCssKeyAndStyleCache","styleName","keysMap","keyframes","keyframe","newUniqueName","newName","createNextKeyframeId","percent","hyphenCase","g","toLowerCase","toHyphenCase","dirCache","YPositionCache","TOP","BOTTOM","charCodeAt","StylesInDocument","NgZone","ignoreCSSKEY","break-after","break-before","page-break-after","page-break-before","original","dirAlias","pos","to","NgTranscludeDirective","vcr","templateRef","_ngTransclude","_timeoutId","clearTimeout","clear","createEmbeddedView","timeout","setTimeout","ngOnDestroy","Directive","exportAs","ViewContainerRef","Input","getNativeElement","ElementRef","nativeElement","NgModule","exports","declarations","mixinStyleUpdater","_super","class_1","setAutoContrast","_autoContrast","updateStyle","__bg","_superHyperInternalPropertyBg","__color","_superHyperInternalPropertyColor","__raised","_superHyperInternalPropertyRaised","__elevation","_superHyperInternalPropertyElevation","__disabled","_superHyperInternalPropertyDisabled","__outlined","_superHyperInternalPropertyOutlined","__shadowColor","_superHyperInternalPropertyShadowColor","__isContrast","_theme","sColor","sBackground","sBorder","sPointerEvents","sBoxShadow","sBoxShadowActive","disabled","contrast","default","lum","luminance","light","dark","background","primary","backgroundColorCss","shadowColor","shadow","_classNameAnonymous","toBoolean","RippleRef","state","timestamp","now","container","end","Ripple","_containerElement","_triggerElement","_eventHandlers","_transitionDuration","ripple","duration","_eventOptions","passive","PointerEvent","TouchEvent","onPointerDown","onPointerLeave","setTriggerElement","setConfig","createRipple","_rippleRef","rippleContainer","getComputedStyle","getPropertyValue","transform","event","endRipple","startRipple","_event","rippleConfig","containerRect","_rectContainer","clientX","clientY","centered","top","rect","radius","max","distX","abs","distY","bottom","sqrt","rippleRadius","percentageToIncrease","transitionDuration","runTimeoutOutsideZone","delay","rippleRef","opacity","parentNode","removeEvents","LY_COMMON_STYLES","fill","visuallyHidden","button","LY_COMMON_STYLES_DEPRECATED","position","border","clip","margin","overflow","padding","outline","-webkit-appearance","-moz-appearance","-webkit-tap-highlight-color","backgroundColor","boxSizing","textDecorationLine","-webkit-text-decoration-line","&::-moz-focus-inner","borderRadius","transition","pointerEvents","mixinDisableRipple","_rippleConfig","_disableRipple","newVal","_removeRippleEvents","Promise","resolve","then","triggerElement","_rippleContainer","_ripple","variables","mixinColor","defaultColor","mixinBg","bg","mixinRaised","mixinOutlined","mixinElevation","mixinShadowColor","LyPaperMixinBase","LyPaperBase","LyPaper","ngZone","_el","_renderer","_hasText","ngOnChanges","ngOnInit","hasText","display","inputs","Renderer2","LyWithClass","StyleRenderer","_set","_nEl","renderSheet","applyRootClass","root","customClass","render","removeClasses","rawClassVal","klass","toggleClass","enabled","newClassName","oldClassName","Style","propertyKey","descriptor","_propertyKey","set_1","createStyle","configurable","enumerable","propertyKeyConfig","_propertyKeyClass","oldValue","classesForRemove","sRenderer","values","valAndMediaKey","_renderStyle","comp","styleTemplate","и","getComponentPriority","ɵ1$3","ɵ2$2","to8Px","ɵ3","ɵ4","ɵ5","ɵ6","ɵ7","ɵ8","ɵ9","ɵ10","ɵ11","ɵ12","ɵ13","ɵ14","ɵ15","ɵ16","ɵ17","ɵ18","ɵ19","ɵ20","ɵ21","ɵ22","ɵ23","ɵ24","ɵ25","ɵ26","ɵ27","ɵ28","ɵ29","ɵ30","ɵ31","ɵ32","ɵ33","ɵ34","ɵ35","ɵ36","LyStyle","providers","ɵ0$4","LyStyleDeprecated","changes","message","charAt","toUpperCase","console","warn","strTo8Px","num","strToPx","createScrollWithAnimation","xFrom","xTo","t01","speed","step","motion","scrollT","easeOutCuaic","t","FocusStatus","LyHostClass","log","toggle","update","LyFocusState","_elementMap","_count","listen","keyElement","subject","focusState","unlisten","_incrementCount","focusListener","_on","blurListener","focusElement","options","_currentEvent","focus","focusStateInfo","_decrementCount","by","run","_addGlobalListeners","eventListenerOptions","capture","documentKeydownListener","documentMousedownListener","_removeGlobalListeners","LY_HAMMER_OPTIONS","HAMMER_GESTURES_EVENTS","noopHammerInstance","on","off","LyHammerGestureConfig","_hammerOptions","events","buildHammer","hammer","Hammer","mc","pan","Pan","swipe","Swipe","slide","_createRecognizer","threshold","recognizeWith","inheritances","recognizer","HammerGestureConfig","LyThemeModule","ngModule","provide","useValue","UndefinedValue","Undefined","overlay","zIndex","LyOverlayContainer","_classes","_items","elementAfter","parentElement","containerElement","_update","_remove","_isActiveOverlayContainer","hasBackdrop","disableClose","STYLES_BACKDROP_ROOT","LyOverlayBackdrop","_config","backdropClass","onclick","fnDestroy","createOverlayInjector","parent","overlayFactory","Injector","LyOverlayConfig","LyOverlayRef","Component","template","HostListener","OverlayFactory","_componentFactoryResolver","_appRef","_templateRefOrComponent","_overlayContainer","_context","_injector","_scrollDispatcher","_viewportRuler","_windowSRSub","Subscription","EMPTY","__styles","justifyContent","alignItems","newInjector","_newInjector","injector","destroy","_updateStyles","onResizeScroll","merge","scrolled","subscribe","updateBackdrop","_appendComponentToBody","_updateBackdropPosition","_compRef","_compRefOverlayBackdrop","_generateComponent","attachView","hostView","_backdropElement","location","detachView","styleVal","context","TemplateRef","viewRef","_viewRef","rootNodes","resolveComponentFactory","detach","unsubscribe","LyOverlay","templateOrComponent","ComponentFactoryResolver","ApplicationRef","ScrollDispatcher","ViewportRuler","entryComponents","MUTATION_OBSERVER_INIT","characterData","childList","subtree","MutationObserverFactory","callback","MutationObserver","ElementObserver","_mutationObserverFactory","_observedElements","observe","elementOrRef","observer","disconnect","resize$","fromEvent","pipe","auditTime","documentElement","clientHeight","share","empty","scroll$","scrollY","scrollTop","AlignAlias","LyOverlayPosition","_trigger","_overlay","_xAxis","_yAxis","_viewportOffset","_viewportHeight","_viewportWidth","_x","_y","_xo","_yo","_width","_height","build","_updateRects","_setDefaultAnchor","_updateDir","_callTransformIfExists","_calculateResponsive","_calculateOrigin","_round","_triggerRect","getMutableClientRect","_overlayRect","getViewportSize","_xAnchor","_yAnchor","_transform","_anchorDir","_axisDir","_calculate","_isOverflowX","_xa","setXAxis","flipPosition","setXAnchor","_isOverflowY","_ya","setYAxis","setYAnchor","_isOverflowLeft","_isOverflowRight","_isOverflowTop","_isOverflowBottom","_calculateAnchorPosition","_calculateAxis","xAnchorCenter","yAnchorCenter","xOverlayCenter","yOverlayCenter","xo","yo","setFlip","flip","setViewportOffset","setTransform","clientRect","same","LySelectionModel","_selectionMap","_getKeyFn","multiple","getKey","_multiple","selecteds","select","_markSelected","_selected","isSelected","deselect","_clearSelectedValues","_unmarkSelected","isEmpty","hasValue","isMultipleSelection","_unmarkAll","STYLES","line","animations","durations","entering","curves","standard","&:first-of-type","-webkit-transform","&:last-of-type","up","{line}:first-of-type","{line}:last-of-type","LyExpansionIcon","_up","_colorClass","{line}","changeDetection","ChangeDetectionStrategy","OnPush","defaultValue","withStyleCollection","medias","ii","hexcolor","parseInt","substr","input","variable","literals","placeholders","exMap","placeholder","newID","mergeDeep","_tabIndex","offsetTop","scrollToFromTo","_motion","scrollLeft","_default","component","takeUntil","modifiedComponent","__componentDestroyed$","oldNgOnDestroy","stop$","ReplaySubject","complete","componentDestroyed"],"mappings":"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","sourcesContent":["import { Color } from '@alyle/ui/color';\n\nconst shadowKeyUmbraOpacity = 0.2;\nconst shadowKeyPenumbraOpacity = 0.14;\nconst shadowAmbientShadowOpacity = 0.12;\nexport const Shadows = [\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  [0, 1, 3, 0, 0, 1, 1, 0, 0, 2, 1, -1],\n  [0, 1, 5, 0, 0, 2, 2, 0, 0, 3, 1, -2],\n  [0, 1, 8, 0, 0, 3, 4, 0, 0, 3, 3, -2],\n  [0, 2, 4, -1, 0, 4, 5, 0, 0, 1, 10, 0],\n  [0, 3, 5, -1, 0, 5, 8, 0, 0, 1, 14, 0],\n  [0, 3, 5, -1, 0, 6, 10, 0, 0, 1, 18, 0],\n  [0, 4, 5, -2, 0, 7, 10, 1, 0, 2, 16, 1],\n  [0, 5, 5, -3, 0, 8, 10, 1, 0, 3, 14, 2],\n  [0, 5, 6, -3, 0, 9, 12, 1, 0, 3, 16, 2],\n  [0, 6, 6, -3, 0, 10, 14, 1, 0, 4, 18, 3],\n  [0, 6, 7, -4, 0, 11, 15, 1, 0, 4, 20, 3],\n  [0, 7, 8, -4, 0, 12, 17, 2, 0, 5, 22, 4],\n  [0, 7, 8, -4, 0, 13, 19, 2, 0, 5, 24, 4],\n  [0, 7, 9, -4, 0, 14, 21, 2, 0, 5, 26, 4],\n  [0, 8, 9, -5, 0, 15, 22, 2, 0, 6, 28, 5],\n  [0, 8, 10, -5, 0, 16, 24, 2, 0, 6, 30, 5],\n  [0, 8, 11, -5, 0, 17, 26, 2, 0, 6, 32, 5],\n  [0, 9, 11, -5, 0, 18, 28, 2, 0, 7, 34, 6],\n  [0, 9, 12, -6, 0, 19, 29, 2, 0, 7, 36, 6],\n  [0, 10, 13, -6, 0, 20, 31, 3, 0, 8, 38, 7],\n  [0, 10, 13, -6, 0, 21, 33, 3, 0, 8, 40, 7],\n  [0, 10, 14, -6, 0, 22, 35, 3, 0, 8, 42, 7],\n  [0, 11, 14, -7, 0, 23, 36, 3, 0, 9, 44, 8],\n  [0, 11, 15, -7, 0, 24, 38, 3, 0, 9, 46, 8]\n];\n\nexport function shadowBuilder(elevation: number | string, color?: Color) {\n  let _color = color || new Color(0, 0, 0);\n  const rgb = _color.rgba();\n\n  if (!(rgb[0] === rgb[1] && rgb[0] === rgb[2])) {\n    // Darken and saturate if the color is not in the grayscale\n    _color = _color.darken().saturate(2);\n  }\n\n  const colors = [\n    _color.alpha(shadowKeyUmbraOpacity).css(),\n    _color.alpha(shadowKeyPenumbraOpacity).css(),\n    _color.alpha(shadowAmbientShadowOpacity).css()\n  ];\n\n  const e = Shadows[elevation];\n  // tslint:disable-next-line:max-line-length\n  return `${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px ${colors[0]},${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px ${colors[1]},${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px ${colors[2]}`;\n\n}\n","let supportsPassive;\nexport function supportsPassiveEventListeners(): boolean {\n  if (supportsPassive === void 0) {\n    try {\n      const opts = Object.defineProperty({}, 'passive', {\n        get: () => {\n          supportsPassive = true;\n        }\n      });\n      window.addEventListener('testPassive', null as any, opts);\n      window.removeEventListener('testPassive', null as any, opts);\n    } catch (e) { }\n  }\n  return supportsPassive;\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const THEME_VARIABLES = new InjectionToken<PaletteVariables>('ly.theme.variables');\nexport const IS_CORE_THEME = new InjectionToken<true>('ly.is.root');\n\nexport interface Default {\n  [key: string]: any;\n}\n\nexport interface PaletteVariables {\n  default?: string;\n  contrast?: string;\n  [key: string]: string | undefined;\n}\n\nexport interface ColorScheme {\n  background?: {\n    default?: string,\n    paper?: string,\n    [key: string]: any;\n  };\n  text?: {\n    default: string,\n    primary?: string,\n    secondary?: string,\n    disabled?: string,\n    hint?: string,\n    [key: string]: any;\n  };\n  divider?: string;\n  /** Components variables */\n  colorShadow?: string;\n  bar?: string;\n  input?: {\n    label?: string,\n    underline?: string\n  };\n  [key: string]: any;\n}\n","\n// Whether the current platform supports the V8 Break Iterator. The V8 check\n// is necessary to detect all Blink based browsers.\nconst hasV8BreakIterator = (typeof(Intl) !== 'undefined' && (Intl as any).v8BreakIterator);\n/**\n * Service to detect the current platform by comparing the userAgent strings and\n * checking browser-specific global properties.\n * @deprecated Use Angular CDK instead\n * `import { Platform } from '@angular/cdk/platform'`\n */\nexport class Platform {\n  static readonly isBrowser: boolean = typeof document === 'object' && !!document;\n  /** Layout Engines */\n  static readonly EDGE = Platform.isBrowser && /(edge)/i.test(navigator.userAgent);\n  static readonly TRIDENT = Platform.isBrowser && /(msie|trident)/i.test(navigator.userAgent);\n\n  // EdgeHTML and Trident mock Blink specific things and need to be excluded from this check.\n  static readonly BLINK = Platform.isBrowser &&\n      (!!((window as any).chrome || hasV8BreakIterator) && !!CSS && !Platform.EDGE && !Platform.TRIDENT);\n\n  // Webkit is part of the userAgent in EdgeHTML, Blink and Trident. Therefore we need to\n  // ensure that Webkit runs standalone and is not used as another engine's base.\n  static readonly WEBKIT = Platform.isBrowser &&\n      /AppleWebKit/i.test(navigator.userAgent) && !Platform.BLINK && !Platform.EDGE && !Platform.TRIDENT;\n\n  /** Browsers and Platform Types */\n  static readonly IOS = Platform.isBrowser && /iPad|iPhone|iPod/.test(navigator.userAgent) && !(window as any).MSStream;\n\n  // It's difficult to detect the plain Gecko engine, because most of the browsers identify\n  // them self as Gecko-like browsers and modify the userAgent's according to that.\n  // Since we only cover one explicit Firefox case, we can simply check for Firefox\n  // instead of having an unstable check for Gecko.\n  static readonly FIREFOX = Platform.isBrowser && /(firefox|minefield)/i.test(navigator.userAgent);\n\n  // Trident on mobile adds the android platform to the userAgent to trick detections.\n  static readonly ANDROID = Platform.isBrowser && /android/i.test(navigator.userAgent) && !Platform.TRIDENT;\n\n  // Safari browsers will include the Safari keyword in their userAgent. Some browsers may fake\n  // this and just place the Safari keyword in the userAgent. To be more safe about Safari every\n  // Safari browser should also use Webkit as its layout engine.\n  static readonly SAFARI = Platform.isBrowser && /safari/i.test(navigator.userAgent) && Platform.WEBKIT;\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { InjectionToken } from '@angular/core';\nimport { LyStyleUtils, Dir } from '../style-utils';\nimport { RippleVariables } from './variables/ripple';\nimport { Color } from '@alyle/ui/color';\n\nexport const LY_THEME_GLOBAL_VARIABLES = new InjectionToken<PartialThemeVariables>('ly.theme.global.variables');\nexport const LY_THEME = new InjectionToken<ThemeConfig | ThemeConfig[]>('ly_theme_config');\nexport const LY_THEME_NAME = new InjectionToken<string>('ly.theme.name');\n\n/**\n * Add a prefix to the class name that will be generated for styles.\n * Only works in production mode.\n */\nexport const LY_CLASS_NAME_PREFIX = new InjectionToken<string>('LY_CLASS_NAME_PREFIX');\n\nexport interface ThemeConfig {\n  name: string;\n  primary: DefaultVal & PaletteColor;\n  accent: DefaultVal & PaletteColor;\n  warn: DefaultVal & PaletteColor;\n  disabled: {\n    default: Color\n    contrast: Color\n  };\n  paper: DefaultVal & PaletteColor;\n  background: {\n    /** secondary */\n    default: Color\n    primary: DefaultVal & PaletteColor\n    secondary: Color\n    tertiary: Color\n  };\n  hover: Color;\n  text: {\n    default: Color\n    primary: Color\n    secondary: Color\n    disabled: Color\n    hint: Color\n    /** When a contrast is needed for a dark background */\n    light: Color\n    /** When a contrast is needed for a light background */\n    dark: Color\n  };\n  /** color for divider */\n  divider: Color;\n  shadow: Color;\n  drawer: {\n    /** color for drawer:backdrop */\n    backdrop: Color\n  };\n  iconButton: {\n    size: string\n  };\n  icon: {\n    fontSize: string\n  };\n  zIndex: {\n    toolbar: number\n    drawer: number\n    overlay: number\n    [key: string]: number\n  };\n  direction?: Dir;\n  animations: {\n    curves: {\n      standard: string\n      deceleration: string\n      acceleration: string\n      sharp: string\n    },\n    durations: {\n      complex: number\n      entering: number\n      exiting: number\n    }\n  };\n  ripple: RippleVariables;\n}\n\nexport type ThemeVariables = LyStyleUtils & ThemeConfig;\nexport type PartialThemeVariables = RecursivePartial<ThemeVariables>;\n\nexport interface DefaultVal {\n  default: Color;\n}\nexport interface PaletteColor {\n  contrast?: Color;\n  /** shadow color */\n  shadow?: Color;\n}\n\ntype primitive = string | number | boolean | undefined | null;\ntype RecursivePartialObject<T> = {\n  [P in keyof T]?: RecursivePartial<T[P]>;\n};\nexport type RecursivePartial<T> = T extends primitive ? T : RecursivePartialObject<T>;\n\n","\nexport function memoize<T extends (key: number) => unknown>(fn: T): T;\nexport function memoize<T extends (key: string) => unknown>(fn: T): T;\nexport function memoize<T extends (key: string | number) => unknown>(fn: T): T {\n  const cache: {\n    [key: string]: unknown\n  } = {};\n\n  return ((key: string | number) => {\n    if (cache[key] === undefined) {\n      cache[key] = fn(key);\n    }\n    return cache[key] as unknown;\n  }) as T;\n}\n","import { ThemeVariables } from './theme-config';\nimport { StyleTemplate } from '../parse';\nimport { Color } from '@alyle/ui/color';\nimport { memoize } from '../minimal/memoize';\n\n/**\n * For internal use only\n * @docsPrivate\n */\nexport const _STYLE_MAP: Map<any, StyleMap5> = new Map();\n\n/**\n * For internal use only\n * @docs-private\n */\nexport interface StyleMap5 {\n  styles: Styles;\n  type: TypeStyle;\n  priority?: number | null;\n  css: {\n    [themeName: string]: string\n  } | string;\n  /** global theme */\n  classes?: {\n    [key: string]: string\n  } | string;\n  /** requireUpdate */\n  classesWithTheme?: {\n    [themeName: string]: {\n      [key: string]: string\n    } | string\n  };\n  /** Only for styles of TypeStyle.one */\n  parentStyle?: Styles;\n  requireUpdate?: boolean;\n  id: string | null;\n  isNewStyle?: boolean;\n  /** This is used when a instance contains multiple styles */\n  keys?: string[];\n}\n\nexport enum TypeStyle {\n  Multiple,\n  OnlyOne,\n  /**\n   * A lyl Style\n   */\n  LylStyle\n}\n\n\n/**\n * Style Object\n */\nexport interface StyleContainer {\n  [key: string]: StyleContainer | string | number | string[] | null | undefined | StyleTemplate | Color;\n}\n\nexport interface StyleGroup {\n  /** Prefix name */\n  $name?: string;\n  $keyframes?: KeyframesDeprecated;\n  $priority?: number;\n  [key: string]: StyleContainer | (() => StyleTemplate) | StyleTemplate | string | number | undefined | null;\n}\n\nexport interface LyStyleGroup {\n  /** Prefix name */\n  $name?: string;\n  $priority?: number;\n  [key: string]: (() => (StyleTemplate | null | undefined)) | StyleTemplate | string | number | undefined | null;\n}\n\n/**\n * CSS declarations block\n */\nexport type StyleDeclarationsBlock = ((T: any, theme: any) => StyleContainer | string) | StyleContainer | string | null | undefined;\n\nexport type LyStyles = ((T: any, theme: any) => LyStyleGroup) | undefined | null;\nexport type Styles = (((T: any, theme: any) => StyleGroup) | StyleGroup | undefined | null) | LyStyles;\n\nexport interface KeyframesDeprecated {\n  [name: string]: {\n    [percent: number]: StyleContainer\n  };\n}\n\ntype LyClassesProperties<T> = {\n  [\n    P in keyof (\n      T extends ((theme: any, ref?: any) => infer R) ? R : T\n    )\n  ]: string;\n};\n\n// Convert all properties to `string` type, and exclude properties that not is class name\nexport type LyClasses<T> = Omit<LyClassesProperties<T>, '$name' | '$keyframes' | '@global' | '$priority' | '$global'>;\n\ntype Omit<T, K> = Pick<T, Exclude<keyof T, K>>;\n\ntype LyComponentStyleItem<COMPONENT, INPUTS extends keyof COMPONENT> = {\n  [P in INPUTS]: (theme: ThemeVariables, value: COMPONENT[P]) => StyleContainer\n};\n\nexport interface LyComponentStyle<COMPONENT, INPUTS extends keyof COMPONENT> {\n  [key: string]: LyComponentStyleItem<COMPONENT, INPUTS>;\n}\n\nexport const getThemeNameForSelectors = memoize((themeId: string) => {\n  return `${themeId}<~(selectors)`;\n});\n","import { Color } from '@alyle/ui/color';\n\nconst LINE_FEED_REGEX = () => /(\\n?[^\\n]+\\n?)/g;\nconst AMPERSAND_REGEX = () => /&/g;\nconst STYLE_TEMPLATE_REGEX = () => /__LY_EXPRESSION__\\[[\\w]+\\]/g;\nlet id: number = 0;\n\n/**\n * Transform a lyl style block to CSS\n */\nexport class LylParse {\n\n  constructor(\n    private _template: string,\n    private _className: string = '${className}'\n  ) { }\n\n  toCss() {\n    const selectors: (string[])[] = [];\n    let selector: null | string = null;\n    const rules = new Map<string, string[]>();\n    this._template\n      .replace(/(\\/\\/\\s[^\\n\\r]*(?:[\\n\\r]+|$))/g, '')\n      .replace(/,\\n/g, ',')\n      .replace(LINE_FEED_REGEX(), (_ex, fullLine: string) => {\n      fullLine = fullLine.trim();\n\n      if (fullLine.endsWith('{')) {\n        if (selectors.length === 0) {\n          selectors.push([this._className]);\n          selector = selectors[0][0];\n        } else {\n          const line_1 = fullLine.slice(0, fullLine.length - 1).trim();\n          const isMediaQuery = line_1.includes('@');\n          if (isMediaQuery) {\n            selectors.push(\n              [line_1.trim()]\n            );\n            if (!rules.has(line_1)) {\n              rules.set(line_1, []);\n            }\n          } else {\n            selectors.push(\n              line_1\n              .split(',')\n              .map(_ => _.trim())\n            );\n          }\n          selector = this._resolveSelectors(selectors);\n\n        }\n\n\n        if (!rules.has(selector)) {\n          rules.set(selector, []);\n        }\n      } else if (fullLine.length === 1 && fullLine.endsWith('}')) {\n        selectors.pop();\n        if (selectors.length) {\n          selector = this._resolveSelectors(selectors);\n          if (!rules.has(selector)) {\n            rules.set(selector, []);\n          }\n        }\n      } else if (fullLine.startsWith('/* >> ds')) {\n        selector = this._resolveSelectors(selectors);\n        const lin = fullLine;\n\n        // Ignore compiled css\n        rules.get(selector)!.push(lin);\n        // fullLine = lin;\n        // /** For non LylModule< */else {\n        //   fullLine = `\\${(${lin.slice(2, lin.length - 1)})(\\`${selector}\\`)}`;\n        //   rules.set(createUniqueCommentSelector('ds'), fullLine);\n        // } /** for non LylModule>  */\n      } else if (fullLine.startsWith('...')) {\n        // for non LylModule>\n        const content = fullLine.slice(3);\n        selector = this._resolveSelectors(selectors);\n        // Ignore compiled css\n        rules.get(selector)!.push(`${createUniqueCommentSelector('cc')}${content}`);\n      } else {\n        if (fullLine) {\n          if (fullLine.includes('undefined') || fullLine.startsWith('// ')) {\n            return '';\n          }\n          if (fullLine.endsWith(';')) {\n            throw new Error(`Do not require semicolon in [${fullLine}]`);\n          }\n          if (fullLine.includes(': ')) {\n            fullLine = fullLine.replace(': ', ':');\n          }\n          fullLine += ';';\n          rules.get(selector!)!.push(fullLine);\n        }\n      }\n      return '';\n    });\n\n    // Join media queries & keyframes\n    rules.forEach((val, key) => {\n      const matchArray = key.match(/(@[^\\${]*(?:\\${[^{]*)*){/);\n      if (matchArray) {\n        const media = matchArray[1];\n        if (media !== key && val.length) {\n          const after = rules.get(media)!;\n          const sel = key.replace(media + '{', '');\n          const newValue = after + val.reduce((previous, current) => {\n\n            const last = previous[previous.length - 1];\n            // __READY__ is added to be ignored by content.startsWith ('/ * >> xx')\n            if (current.startsWith('/* >> ds')) {\n              previous.push('/* __READY__ */' + current.replace(/\\|\\|\\&\\|\\|/g, sel));\n            } else if (current.startsWith('/* >> cc')) {\n              previous.push('/* __READY__ */' + transformCC(current, sel));\n            } else {\n              if (Array.isArray(last)) {\n                last.push(current);\n              } else {\n                previous.push([current]);\n              }\n            }\n            return previous;\n          }, [] as (string | string[])[])\n            .map(item => Array.isArray(item) ? `${sel}{${item.join('')}}` : item).join('');\n          // const newValue = after\n          // + sel\n          // + `{${val.join('')}}`;\n          rules.set(media, [newValue]);\n          rules.delete(key);\n        }\n      }\n    });\n\n    return Array.from(rules.entries())\n      .filter(rule => rule[1])\n      .map(rule => {\n        const sel = rule[0];\n        const contents = rule[1];\n        const css: string[] = [];\n        const contentRendered: string[] = [];\n        const set = new Set<string[]>();\n\n        for (let index = 0; index < contents.length; index++) {\n          const content = contents[index];\n          if (content) {\n            if (content.startsWith('/* >> ds')) {\n              contentRendered.push(content.replace(/\\|\\|\\&\\|\\|/g, sel));\n              set.add(contentRendered);\n            } else if (content.startsWith('/* >> cc')) {\n              contentRendered.push(transformCC(content, sel));\n              set.add(contentRendered);\n            } else {\n              // css += `${sel}{${content}}`;\n              css.push(content);\n              set.add(css);\n            }\n          }\n        }\n        return Array.from(set).map((_) => {\n          if (_ === css) {\n            return css.length\n            ? `${sel}{${css.join('')}}`\n            : '';\n          } else {\n            return _.join('');\n          }\n        }).join('');\n      }).join('');\n\n  }\n\n  private _resolveSelectors(selectors: (string[])[]) {\n    let media: string | null = null;\n    const sel = selectors\n      .map(_ => _.filter(__ => {\n        if (__.startsWith('@')) {\n          // save media\n          media = __;\n          return false;\n        }\n        return __;\n      }))\n      .filter(_ => _.length)\n      .reduce((prev, current) => {\n        const result = prev.map(item => current.map(cu => {\n          if (cu.includes('&')) {\n            return cu.replace(AMPERSAND_REGEX(), item);\n          }\n          return `${item} ${cu}`;\n        }));\n        return Array.prototype.concat.apply([], result);\n      })\n      .join(',');\n\n    if (media) {\n      return `${media}{${sel}`;\n    }\n    return sel;\n  }\n\n}\n\nfunction transformCC(content: string, sel: string) {\n  content = content.replace(/\\/\\* >> cc[^\\/\\*]+\\*\\//g, '');\n  let expression = content.slice(2, content.length - 1);\n  expression = `st2c((${expression}), \\`${sel}\\`)`;\n  return `\\${${expression}}`;\n}\n\nexport type StyleTemplate = (className: string) => string;\n\nexport function lyl(literals: TemplateStringsArray, ...placeholders: (string | Color | StyleCollection | number | StyleTemplate | null | undefined)[]) {\n  return (className: string) => {\n    let result = '';\n    // Save expressions\n    const exMap: {[key: string]: string} = {};\n    for (let i = 0; i < placeholders.length; i++) {\n      const placeholder = placeholders[i];\n      result += literals[i];\n      if (result.endsWith('...')) {\n        result = result.slice(0, result.length - 3);\n        if (typeof placeholder === 'function'\n          || placeholder instanceof StyleCollection\n        ) {\n          result += `${createUniqueCommentSelector('ds')}${st2c(placeholder, '||&||')}`;\n        }\n      } else {\n        const newID = `__LY_EXPRESSION__[__${(id++).toString(36)}]`;\n        result += newID;\n        exMap[newID] = `${placeholder}`;\n      }\n    }\n\n    // add the last literal\n    result += literals[literals.length - 1];\n    const css = new LylParse(result, className).toCss();\n    return css.replace(STYLE_TEMPLATE_REGEX(), (str) => {\n      if (str in exMap) {\n        return exMap[str];\n      }\n      return '';\n    });\n  };\n}\n\nfunction createUniqueCommentSelector(text = 'id') {\n  return `/* >> ${text} -- ${Math.floor(new Date().valueOf() * Math.random()).toString(36)} */`;\n}\n\ntype Transformer<T> = (st: T) => (StyleTemplate);\n\nexport class StyleCollection<T = any> {\n  private _templates: (StyleTemplate | T)[];\n  private _transformer?: Transformer<T>;\n\n  constructor(...templates: (T)[])\n  constructor(...templates: (StyleTemplate | T)[]) {\n    this._templates = templates;\n    this.css = this.css.bind(this);\n  }\n\n  add(...templates: (T)[]): StyleCollection<T>;\n  add(...templates: (StyleTemplate | T)[]): StyleCollection;\n  add(...templates: (StyleTemplate | T)[]): StyleCollection | StyleCollection<T> {\n    // return new StyleCollection(...[...this._templates, ...templates]);\n    this._templates.push(...templates);\n    return this;\n  }\n\n  /** Transform style */\n  setTransformer(transformer: Transformer<T>) {\n    this._transformer = transformer;\n    return this;\n  }\n\n  /**\n   * @return StyleTemplate\n   * @docs-private\n   */\n  css(className: string) {\n    let lin = '';\n    const templates = this._templates;\n    for (let index = 0; index < templates.length; index++) {\n      let template: StyleTemplate;\n      if (this._transformer) {\n        template = ((this._transformer(templates[index] as T)));\n      } else {\n        template = (templates[index] as StyleTemplate);\n      }\n      lin += template(className);\n    }\n    return lin;\n  }\n\n}\n\n/**\n * Transform a ...{style} to css\n * For internal use purposes only\n * @param fn StyleTemplate or StyleCollection\n * @param className class name\n */\nexport function st2c(\n  fn: StyleTemplate | StyleCollection | null | undefined,\n  className: string) {\n  if (fn == null) {\n    return '';\n  }\n  if (fn instanceof StyleCollection) {\n    return fn.css(className);\n  }\n  return fn(className);\n}\n\n// export function normalizeStyleTemplate(\n//   fn: StyleTemplate\n//   ) {\n//   if (fn.length) {\n//     return fn as StyleTemplate;\n//   } else {\n//     return (fn as (() => StyleTemplate))();\n//   }\n// }\n\nexport class StringIdGenerator {\n  private _chars: string;\n  private _nextId: number[];\n  constructor(chars = 'abcdefghijklmnopqrstuvwxyz') {\n    this._chars = chars;\n    this._nextId = [0];\n  }\n\n  next() {\n    const r: string[] = [];\n    for (const char of this._nextId) {\n      r.unshift(this._chars[char]);\n    }\n    this._increment();\n    return r.join('');\n  }\n\n  private _increment() {\n    for (let i = 0; i < this._nextId.length; i++) {\n      const val = ++this._nextId[i];\n      if (val >= this._chars.length) {\n        this._nextId[i] = 0;\n      } else {\n        return;\n      }\n    }\n    this._nextId.push(0);\n  }\n}\n","import { Color, hexColorToInt } from '@alyle/ui/color';\nimport { _STYLE_MAP, Styles, LyClasses } from './theme/style';\nimport { StyleCollection, StyleTemplate } from './parse';\nimport { memoize } from './minimal/memoize';\n\nexport class LyStyleUtils {\n  name: string;\n  typography: {\n    fontFamily?: string;\n    htmlFontSize: number,\n    fontSize: number;\n  };\n  breakpoints: {\n    XSmall: string,\n    Small: string,\n    Medium: string,\n    Large: string,\n    XLarge: string,\n\n    Handset: string,\n    Tablet: string,\n    Web: string,\n\n    HandsetPortrait: string,\n    TabletPortrait: string,\n    WebPortrait: string,\n\n    HandsetLandscape: string,\n    TabletLandscape: string,\n    WebLandscape: string,\n    [key: string]: string\n  };\n  direction: Dir;\n\n  /** Returns left or right according to the direction */\n  get before() {\n    return this.getDirection(DirAlias.before);\n  }\n\n  /** Returns left or right according to the direction */\n  get after() {\n    return this.getDirection(DirAlias.after);\n  }\n\n  /** Returns top */\n  readonly above = 'top';\n\n  /** Returns bottom */\n  readonly below = 'bottom';\n\n  pxToRem(value: number) {\n    const size = this.typography.fontSize / 14;\n    return `${value / this.typography.htmlFontSize * size}rem`;\n  }\n  colorOf(value: string | number, optional?: string): Color {\n    if (typeof value === 'number') {\n      return new Color(value);\n    }\n    if (value[0] === '#' && value.length === 7) {\n      return new Color(hexColorToInt(value));\n    }\n    const color = get(this, value, optional);\n    if (color) {\n      return color;\n    }\n    /** Create invalid color */\n    return new Color();\n  }\n  getBreakpoint(key: string) {\n    return `@media ${this.breakpoints[key] || key}`;\n  }\n\n  selectorsOf<T>(styles: T & Styles): LyClasses<T> {\n    const styleMap = _STYLE_MAP.get(styles);\n    if (styleMap) {\n      return styleMap.classes || styleMap[this.name];\n    } else {\n      throw Error('Classes not found');\n    }\n  }\n\n  getDirection(val: DirAlias | 'before' | 'after' | 'above' | 'below') {\n    if (val === DirAlias.before) {\n      return this.direction === 'rtl' ? 'right' : 'left';\n    } else if (val === DirAlias.after) {\n      return this.direction === 'rtl' ? 'left' : 'right';\n    } else if (val === 'above') {\n      return 'top';\n    } else if (val === 'below') {\n      return 'bottom';\n    }\n    return val;\n  }\n}\n\nexport enum Dir {\n  rtl = 'rtl',\n  ltr = 'ltr'\n}\nexport enum DirAlias {\n  before = 'before',\n  after = 'after'\n}\nexport enum DirPosition {\n  left = 'left',\n  right = 'right'\n}\n\n/**\n * get color of object\n * @param obj object\n * @param path path\n * @param optional get optional value, if not exist return default if not is string\n */\nfunction get(obj: Object, path: string[] | string, optional?: string): Color {\n  if (path === 'transparent') {\n    return new Color(0, 0, 0, 0);\n  }\n  const _path: string[] = path instanceof Array ? path : path.split(':');\n  for (let i = 0; i < _path.length; i++) {\n    const posibleOb = obj[_path[i]];\n    if (posibleOb) {\n      obj = posibleOb;\n    } else {\n      /** if not exist */\n      return new Color();\n    }\n  }\n  if (obj instanceof Color) {\n    return obj;\n  } else if (optional) {\n    return obj[optional] || obj['default'];\n  } else {\n    return obj['default'];\n  }\n  // return typeof obj === 'string' ? obj as string : obj['default'] as string;\n}\n\nexport type MediaQueryArray = (string | number)[];\n\nexport type MediaQueryArrayDeprecated = (\n  (number | string | [(string | number), string])\n)[];\n\n/**\n * Extract breakpoints from a string to make it a unique `StyleTemplate`\n * @param str Media Queries in inline style\n * @param transformer A function with parameters to create a `StyleTemplate`\n * @deprecated\n */\nexport function withMediaInline(\n  str: string | number | MediaQueryArray,\n  transformer: ((val: string | number, media: string | null) => StyleTemplate)\n) {\n  const styleCollection = new StyleCollection();\n  if (typeof str === 'string') {\n    const values = parseMediaQueriesFromString(str);\n    for (let index = 0; index < values.length; index++) {\n      parseMediaQueryFromString(values[index]).forEach((_) => {\n        styleCollection.add(transformer(_[0], _[1]));\n      });\n    }\n  } else if (typeof str === 'number' || str === null || str === undefined) {\n    styleCollection.add(transformer(str as any, null));\n  } else {\n    for (let index = 0; index < str.length; index++) {\n      const val = str[index];\n      if (typeof val === 'number' || val === null || val === undefined) {\n        styleCollection.add(transformer(val, null));\n      } if (typeof val === 'string') {\n        parseMediaQueryFromString(val).forEach((_) => {\n          styleCollection.add(transformer(_[0], _[1]));\n        });\n      }\n    }\n  }\n  return styleCollection.css;\n}\n\n/**\n * Extract media query from a string\n */\nexport const parseMediaQueryFromString = memoize((key: string) => {\n  const valItem = key.split(/\\@/g);\n  const strValue = valItem.shift()!;\n  const len = valItem.length;\n  const value = isNaN(+strValue) ? strValue : +strValue;\n  const re: [string | number, string | null][] = [];\n  if (len) {\n    for (let j = 0; j < len; j++) {\n      re.push([value, valItem[j]]);\n    }\n  } else {\n    re.push([value, null]);\n  }\n  return re;\n});\n\n/**\n * Extract media queries from a string\n */\nexport const parseMediaQueriesFromString = memoize((key: string) => {\n  return key.split(' ');\n});\n\n/**\n * @depracated use `withMediaInline` instead.\n */\nexport function eachMedia(\n  str: string | number | MediaQueryArrayDeprecated,\n  fn: ((val: string | number, media: string | null, index: number) => void)\n): void;\n/**\n * @depracated use `withMediaInline` instead.\n */\nexport function eachMedia(\n  str: string | number | MediaQueryArrayDeprecated,\n  fn: ((val: string | number, media: string | null, index: number) => StyleTemplate),\n  styleCollection: boolean\n): StyleTemplate;\n/**\n * @depracated use `withMediaInline` instead.\n */\nexport function eachMedia(\n  str: string | number | MediaQueryArrayDeprecated,\n  fn: ((val: string | number, media: string | null, index: number) => (void | StyleTemplate)),\n  withStyleCollection?: boolean\n): StyleTemplate | void {\n  let styleCollection: StyleCollection | undefined;\n  if (withStyleCollection) {\n    styleCollection = new StyleCollection();\n  }\n  if (typeof str === 'string') {\n    const values = str.split(/\\ /g);\n    for (let index = 0; index < values.length; index++) {\n      const valItem = values[index].split(/\\@/g);\n      const strValue = valItem.shift()!;\n      const len = valItem.length;\n      const value = isNaN(+strValue) ? strValue : +strValue;\n      if (len) {\n        for (let j = 0; j < len; j++) {\n          resolveMediaEachItemStyle(fn, value, valItem[j], index, styleCollection);\n        }\n      } else {\n        resolveMediaEachItemStyle(fn, value, null, index, styleCollection);\n      }\n    }\n  } else if (typeof str === 'number' || typeof str === 'string' || str === null || str === undefined) {\n    resolveMediaEachItemStyle(fn, str as any, null, 0, styleCollection);\n  } else {\n    // is array\n    for (let index = 0; index < str.length; index++) {\n      const val = str[index];\n      if (typeof val === 'number' || typeof val === 'string') {\n        resolveMediaEachItemStyle(fn, val, null, index, styleCollection);\n      } else {\n        const medias = val[1].split(/\\@/g).filter(media => media);\n        const strValue = val[0];\n        const len = medias.length;\n        if (len) {\n          for (let ii = 0; ii < len; ii++) {\n            resolveMediaEachItemStyle(fn, strValue, medias[ii], index, styleCollection);\n          }\n        } else {\n          resolveMediaEachItemStyle(fn, strValue, null, index, styleCollection);\n        }\n      }\n\n    }\n  }\n  if (styleCollection) {\n    return styleCollection.css;\n  }\n}\n\nfunction resolveMediaEachItemStyle(\n  fn: (val: string | number, media: string | null, index: number) => void | StyleTemplate,\n  val: string | number,\n  media: string | null,\n  index: number,\n  styleCollection?: StyleCollection\n) {\n  const styl = fn(val, media, index);\n  if (styleCollection && styl) {\n    styleCollection.add(styl);\n  }\n}\n\n/**\n * Simple object check.\n * @param item\n */\nfunction isObject(item) {\n  return (item && typeof item === 'object' && !Array.isArray(item));\n}\n\nexport function mergeDeep<T, U>(target: T, source: U): T & U;\nexport function mergeDeep<T, U, V>(target: T, source1: U, source2: V): T & U & V;\nexport function mergeDeep<T, U, V, W>(target: T, source1: U, source2: V, source3: W): T & U & V & W;\nexport function mergeDeep(target: object, ...sources: any[]): any;\n\n/**\n * Deep merge two objects.\n * @param target\n * @param ...sources\n */\nexport function mergeDeep(target: any, ...sources: any[]) {\n  if (!sources.length) { return target; }\n  const source = sources.shift();\n\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) { Object.assign(target, { [key]: {} }); }\n        mergeDeep(target[key], source[key]);\n      } else {\n        Object.assign(target, { [key]: source[key] });\n      }\n    }\n  }\n\n  return mergeDeep(target, ...sources);\n}\n\n/**\n * Simple object check.\n * @param item\n */\nfunction isObjectForTheme(item: any) {\n  return (item && typeof item === 'object' && !Array.isArray(item))\n  && !(item instanceof StyleCollection)\n  && !(item instanceof Color);\n}\n\nexport function mergeThemes<T, U>(target: T, source: U): T & U;\nexport function mergeThemes<T, U, V>(target: T, source1: U, source2: V): T & U & V;\nexport function mergeThemes<T, U, V, W>(target: T, source1: U, source2: V, source3: W): T & U & V & W;\nexport function mergeThemes(target: object, ...sources: any[]): any;\nexport function mergeThemes(target: any, ...sources: any[]): any {\n  if (!sources.length) { return target; }\n  const source = sources.shift();\n\n  if (isObjectForTheme(target) && isObjectForTheme(source)) {\n    for (const key in source) {\n      if (isObjectForTheme(source[key])) {\n        if (!target[key]) { Object.assign(target, { [key]: {} }); }\n        mergeThemes(target[key], source[key]);\n      } else {\n        const targetKey = target[key];\n        const sourceKey = source[key];\n        // Merge styles\n        if (targetKey instanceof StyleCollection && typeof sourceKey === 'function') {\n          target[key] = (target[key] as StyleCollection).add(sourceKey);\n        } else if (sourceKey instanceof Color) {\n          target[key] = sourceKey;\n        } else {\n          Object.assign(target, { [key]: source[key] });\n        }\n      }\n    }\n  }\n\n  return mergeThemes(target, ...sources);\n}\n","import { ThemeVariables } from '../theme/theme-config';\nimport { DirPosition } from '../style-utils';\n\nexport enum YPosition {\n  above = 'above',\n  below = 'below'\n}\n\nexport enum XPosition {\n  before = 'before',\n  after = 'after',\n  left = 'left',\n  right = 'right'\n}\n\nexport type Placement = XPosition | YPosition;\n\nconst INITIAL_V = 'initial';\n\n/**\n * @deprecated Use `OverlayPosition` instead.\n */\nexport class Positioning {\n  private _offsetCheck = 16;\n  private readonly _originRect = this.origin.getBoundingClientRect() as DOMRect;\n  private readonly _overlayElementRect = this.overlayElement.getBoundingClientRect() as DOMRect;\n  x: number;\n  y: number;\n  ax: number;\n  ay: number;\n  /** Origin X */\n  ox: string;\n  /** Origin Y */\n  oy: string;\n  width: string = INITIAL_V;\n  height: string = INITIAL_V;\n  private _origin: boolean;\n  get offsetX(): number {\n    return typeof this._offset === 'number'\n    ? this._offset\n    : this._offset.x || 0;\n  }\n  get offsetY(): number {\n    return typeof this._offset === 'number'\n    ? this._offset\n    : this._offset.y || 0;\n  }\n  constructor(\n    private placement: Placement,\n    private xPosition: XPosition,\n    private yPosition: YPosition,\n    private origin: Element,\n    private overlayElement: Element,\n    private _themeVariables: ThemeVariables,\n    private _offset: number | {\n      x?: number\n      y?: number\n    } = 0,\n    _flip = true\n  ) {\n\n    const offsetCheckx2 = this._offsetCheck * 2;\n    this.createPosition();\n\n    if (_flip) {\n      for (let index = 0; index < 2; index++) {\n        if (this.checkAll(false, true)) {\n          this.createPosition();\n        }\n      }\n    }\n\n    // when there is not enough space\n    if (this.checkAll(true, false)) {\n      let requireUpdateOrigin = false;\n      const _max_width = this._overlayElementRect.width + offsetCheckx2 > window.innerWidth;\n      const _max_height = this._overlayElementRect.height + offsetCheckx2 > window.innerHeight;\n      if (_max_height) {\n        this.y = this._offsetCheck;\n        this.height = `${window.innerHeight - offsetCheckx2}px`;\n        requireUpdateOrigin = true;\n      } else if (this.checkBottom(false, false)) {\n        this.y += this.checkBottom(true, false) as number;\n        requireUpdateOrigin = true;\n      } else if (this.checkTop(false, false)) {\n        this.y -= this.checkTop(true, false) as number;\n        requireUpdateOrigin = true;\n      }\n\n      if (_max_width) {\n        this.x = this._offsetCheck;\n        this.width = `${window.innerWidth - offsetCheckx2}px`;\n        requireUpdateOrigin = true;\n      } else if (this.checkRight(false, false)) {\n        this.x += this.checkRight(true, false) as number;\n        requireUpdateOrigin = true;\n      } else if (this.checkLeft(false, false)) {\n        this.x -= this.checkLeft(true, false) as number;\n        requireUpdateOrigin = true;\n      }\n\n      if (requireUpdateOrigin) {\n        this.updateOrigin();\n      }\n    }\n\n    if (this._offset) {\n      this.updateOrigin();\n    }\n\n    // round result\n    this.x = Math.round(this.x);\n    this.y = Math.round(this.y);\n    this.ax = Math.round(this.ax);\n    this.ay = Math.round(this.ay);\n\n  }\n\n  private createPosition(\n  ) {\n    if (this.xPosition && this.yPosition) {\n      throw new Error(`You can not use \\`xPosition\\` and \\`yPosition\\` together, use only one of them.`);\n    }\n    // if ((this.xPosition || this.yPosition) && !this.placement) {\n    //   throw new Error(`\\`placement\\` is required.`);\n    // }\n    let x = this._originRect.x,\n        y = this._originRect.y,\n        ox = 'center',\n        oy = 'center';\n    // if (this.placement) {\n    if (this.placement === YPosition.above) {\n        x += (this._originRect.width - this._overlayElementRect.width) / 2;\n        y += -this._overlayElementRect.height;\n        oy = 'bottom';\n\n        // set offset\n        y -= this.offsetY;\n      } else if (this.placement === YPosition.below) {\n        x += (this._originRect.width - this._overlayElementRect.width) / 2;\n        y += this._originRect.height;\n        oy = 'top';\n\n        // set offset\n        y += this.offsetY;\n      } else {\n        const dir = this._themeVariables.getDirection(this.placement as any);\n        if (dir === DirPosition.left) {\n          ox = '100%';\n          x += -this._overlayElementRect.width;\n          y += (this._originRect.height - this._overlayElementRect.height) / 2;\n\n          // set offset\n          x -= this.offsetX;\n        } else if (dir === DirPosition.right) {\n          ox = '0%';\n          x += this._originRect.width;\n          y += (this._originRect.height - this._overlayElementRect.height) / 2;\n\n          // set offset\n          x += this.offsetX;\n        }\n      }\n\n    if (this.xPosition) {\n        const dir = this._themeVariables.getDirection(this.xPosition as any);\n        if (dir === DirPosition.right) {\n          ox = '0%';\n          x = this._originRect.x;\n\n          // set offset\n          x += this.offsetX;\n        } else if (dir === DirPosition.left) {\n          ox = '100%';\n          x = this._originRect.x + this._originRect.width - this._overlayElementRect.width;\n\n          // set offset\n          x -= this.offsetX;\n        }\n      } else if (this.yPosition) {\n        if (this.yPosition === YPosition.above) {\n          y = this._originRect.y + this._originRect.height - this._overlayElementRect.height;\n          oy = '100%';\n\n          // set offset\n          y += this.offsetY;\n        } else if (this.yPosition === YPosition.below) {\n          y = this._originRect.y;\n          oy = '0%';\n\n          // set offset\n          y -= this.offsetY;\n        }\n      }\n    // }\n    this.x = x;\n    this.y = y;\n    this.ax = x;\n    this.ay = y;\n    this.ox = ox;\n    this.oy = oy;\n    return {\n      x: Math.round(x),\n      y: Math.round(y),\n      ox,\n      oy\n    };\n  }\n\n  private checkLeft(returnVal: boolean, invertIfNeed: boolean): boolean | number {\n    const rest = this.ax - this._offsetCheck;\n    if (returnVal) {\n      return rest;\n    }\n    if (rest < 0) {\n      if (invertIfNeed) {\n        if (this.placement !== YPosition.above && this.placement !== YPosition.below) {\n          this.placement = invertPlacement(this.placement);\n        }\n        if (this.xPosition) {\n          this.xPosition = invertPlacement(this.xPosition) as XPosition;\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n  private checkRight(returnVal: boolean, invertIfNeed: boolean): boolean | number {\n    const rest = window.innerWidth - (this.ax + this._overlayElementRect.width + this._offsetCheck);\n    if (returnVal) {\n      return rest;\n    }\n    if (rest < 0) {\n      if (invertIfNeed) {\n        if (this.placement !== YPosition.above && this.placement !== YPosition.below) {\n          this.placement = invertPlacement(this.placement);\n        }\n        if (this.xPosition) {\n          this.xPosition = invertPlacement(this.xPosition) as XPosition;\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n  private checkTop(returnVal: boolean, invertIfNeed: boolean): boolean | number {\n    const rest = this.ay - this._offsetCheck;\n    if (returnVal) {\n      return rest;\n    }\n    if (rest < 0) {\n      if (invertIfNeed) {\n        if (this.placement === YPosition.above || this.placement === YPosition.below) {\n          this.placement = invertPlacement(this.placement);\n        }\n        if (this.yPosition) {\n          this.yPosition = invertPlacement(this.yPosition) as YPosition;\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n  private checkBottom(returnVal: boolean, invertIfNeed: boolean): boolean | number {\n    const rest = window.innerHeight - (this.ay + this._overlayElementRect.height + this._offsetCheck);\n    if (returnVal) {\n      return rest;\n    }\n    if (rest < 0) {\n      if (invertIfNeed) {\n        if (this.placement === YPosition.above || this.placement === YPosition.below) {\n          this.placement = invertPlacement(this.placement);\n        }\n        if (this.yPosition) {\n          this.yPosition = invertPlacement(this.yPosition) as YPosition;\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n\n  private checkAll(returnVal: boolean, invertIfNeed: boolean) {\n    return this.checkLeft(returnVal, invertIfNeed) ||\n    this.checkRight(returnVal, invertIfNeed) ||\n    this.checkTop(returnVal, invertIfNeed) ||\n    this.checkBottom(returnVal, invertIfNeed);\n  }\n\n  private updateOrigin() {\n    // do not update if it is defined\n    if (this._origin) {\n      return;\n    }\n\n    this._origin = true;\n    const oax = this._originRect.x + this._originRect.width / 2;\n    const oay = this._originRect.y + this._originRect.height / 2;\n    const vax = this.x + this._overlayElementRect.width / 2;\n    const vay = this.y + this._overlayElementRect.height / 2;\n    this.ox = `${oax - vax + this._overlayElementRect.width / 2}px`;\n    this.oy = `${oay - vay + this._overlayElementRect.height / 2}px`;\n  }\n\n}\nexport function invertPlacement(placement: Placement): Placement {\n  if (placement === YPosition.above) {\n    return YPosition.below;\n  } else if (placement === YPosition.below) {\n    return YPosition.above;\n  } else if (placement === XPosition.after) {\n    return XPosition.before;\n  } else if (placement === XPosition.before) {\n    return XPosition.after;\n  } else if (placement === XPosition.right) {\n    return XPosition.left;\n  } else if (placement === XPosition.left) {\n    return XPosition.right;\n  }\n  return placement;\n}\n","import { Injectable, Inject, Renderer2, RendererFactory2, ViewEncapsulation, Optional, isDevMode } from '@angular/core';\nimport { ThemeConfig, ThemeVariables, LY_CLASS_NAME_PREFIX } from './theme-config';\nimport { DOCUMENT } from '@angular/common';\nimport { DataStyle } from '../theme.service';\nimport { mergeThemes } from '../style-utils';\nimport { Platform } from '@angular/cdk/platform';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CoreTheme {\n  readonly classNamePrefix?: string;\n  renderer: Renderer2;\n  mediaStyleContainer: HTMLElement;\n  primaryStyleContainer: HTMLElement;\n  secondaryStyleContainer: HTMLElement;\n  firstElement: HTMLElement;\n  readonly themes = new Set<string>();\n  private _themeMap = new Map<string, ThemeVariables>();\n  private _styleMap = new Map<string, Map<string, DataStyle>>();\n  private _document: Document;\n  constructor(\n    private rendererFactory: RendererFactory2,\n    @Inject(DOCUMENT) _document: any,\n    platform: Platform,\n    @Optional() @Inject(LY_CLASS_NAME_PREFIX) readonly _classNamePrefix?: string\n  ) {\n    this._document = _document;\n\n    if (!isDevMode() && _classNamePrefix) {\n      this.classNamePrefix = _classNamePrefix;\n    }\n\n    if (platform.isBrowser) {\n      // Clean\n      const nodes: NodeList = this._document.body.querySelectorAll('ly-s-c');\n      if (nodes.length) {\n        for (let index = 0; index < nodes.length; index++) {\n          const element = nodes.item(index)!;\n          (this._document.body as HTMLBodyElement).removeChild(element);\n        }\n      }\n    }\n\n    this.firstElement = this._document.body.firstChild! as HTMLElement;\n\n    this.renderer = this.rendererFactory.createRenderer(null, {\n      id: 'ly',\n      encapsulation: ViewEncapsulation.None,\n      styles: [],\n      data: {}\n    });\n  }\n\n  initializeTheme(themeConfig: ThemeConfig[] | ThemeConfig, globalVariables: ThemeConfig) {\n\n    const allThemes = Array.isArray(themeConfig) ? themeConfig : [themeConfig];\n\n    const themes = new Map<string, ThemeConfig[]>();\n\n    allThemes.forEach(item => {\n      // Do not install themes that are already initialized.\n      if (this.hasTheme(item.name)) {\n        // throw new Error(`Theme '${item.name}' is already initialized.`);\n      // }\n      }\n      if (themes.has(item.name)) {\n        themes.get(item.name)!.push(item);\n      } else {\n        themes.set(item.name, [item]);\n      }\n    });\n\n    themes.forEach((items) => {\n      if (globalVariables) {\n        items.push(globalVariables);\n      }\n      if (items.length > 1) {\n        mergeThemes(items[0], ...items.slice(1));\n      }\n      this._add(items[0] as any);\n      this.themes.add(items[0].name);\n    });\n  }\n\n  /**\n   * add new theme\n   * @param theme: ThemeVariables\n   */\n  private _add(theme: ThemeVariables) {\n    this._themeMap.set(theme.name, theme);\n    this._styleMap.set(theme.name, new Map());\n  }\n\n  hasTheme(theme: ThemeVariables | string) {\n    const name = typeof theme === 'string' ? theme : theme.name;\n    return this._themeMap.has(name);\n  }\n\n  get(name: string) {\n    return this._themeMap.get(name);\n  }\n\n  updateClassName(element: any, renderer: Renderer2, newClassname: string, oldClassname?: string) {\n    if (oldClassname) {\n      renderer.removeClass(element, oldClassname);\n    }\n    renderer.addClass(element, newClassname);\n  }\n\n}\n","import { Injectable, Renderer2, Inject, isDevMode, NgZone, Optional } from '@angular/core';\nimport { LY_THEME_NAME, ThemeVariables, LY_THEME, LY_THEME_GLOBAL_VARIABLES, ThemeConfig } from './theme-config';\nimport { CoreTheme } from './core-theme.service';\nimport { DataStyle } from '../theme.service';\nimport { DOCUMENT } from '@angular/common';\nimport { DirAlias, Dir } from '../style-utils';\nimport { YPosition } from '../position/position';\nimport { StyleMap5,\n  StyleGroup,\n  TypeStyle,\n  StyleContainer,\n  _STYLE_MAP,\n  Styles,\n  StyleDeclarationsBlock,\n  KeyframesDeprecated,\n  LyClasses,\n  getThemeNameForSelectors,\n  LyStyles } from './style';\nimport { Subject } from 'rxjs';\nimport { StyleTemplate, StringIdGenerator } from '../parse';\nimport { Platform } from '@angular/cdk/platform';\n\nconst REF_REG_EXP = /\\{([\\w-]+)\\}/g;\n\nlet nextKeyFrameId = 0;\nconst yClassID = new StringIdGenerator();\nexport const keyframesUniqueId = new StringIdGenerator();\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StylesInDocument {\n  styles: {\n    [themeName: string]: Map<string | Styles, HTMLStyleElement>\n  } = {};\n  styleContainers = new Map<number, HTMLElement>();\n  styleElementGlobalMap = new Map<string | Styles, HTMLStyleElement>();\n}\n\nconst THEME_MAP = new Map<string, {\n  base: string\n  change: string | null\n}>();\n\n@Injectable()\nexport class LyTheme2 {\n  /**\n   * @deprecated use `themeVariables` instead\n   */\n  config: ThemeVariables;\n  _styleMap: Map<string, DataStyle>;\n  initialTheme: string;\n  elements: Map<string | Styles, HTMLStyleElement>;\n  _elementsMap = new Map<any, HTMLStyleElement>();\n\n  /** Event emitted when the direction has changed. */\n  private _directionChanged = new Subject<void>();\n  get directionChanged() {\n    return this._directionChanged.asObservable();\n  }\n\n  /** Get Theme Variables */\n  get variables(): ThemeVariables {\n    return this.config;\n  }\n  private themeMap = THEME_MAP;\n  /** ssr or hmr */\n  private isDevOrServer = isDevMode() || !this._platform.isBrowser;\n\n\n  constructor(\n    private stylesInDocument: StylesInDocument,\n    public core: CoreTheme,\n    @Inject(LY_THEME_NAME) themeName,\n    @Optional() @Inject(LY_THEME) themeConfig: ThemeConfig[] | ThemeConfig,\n    @Optional() @Inject(LY_THEME_GLOBAL_VARIABLES) globalVariables: ThemeConfig,\n    @Inject(DOCUMENT) private _document: any,\n    private _ngZone: NgZone,\n    private _platform: Platform\n  ) {\n    if (themeConfig) {\n      core.initializeTheme(themeConfig, globalVariables);\n    }\n    if (themeName) {\n      this.setUpTheme(themeName);\n    }\n  }\n  setUpTheme(themeName: string) {\n    if (!this.config) {\n      const theme = this.core.get(themeName);\n      if (theme === undefined) {\n        throw new Error(`Theme ${themeName} not found in CoreTheme`);\n      }\n      this.config = theme;\n      this._styleMap = new Map<string, DataStyle>();\n      this.elements = themeName in this.stylesInDocument.styles\n      ? this.stylesInDocument.styles[themeName]\n      : this.stylesInDocument.styles[themeName] = new Map();\n      if (!this.initialTheme) {\n        this.initialTheme = this.config.name;\n      }\n      if (!this.themeMap.has(this.initialTheme)) {\n        this.themeMap.set(this.initialTheme, {\n          base: this.initialTheme,\n          change: null\n        });\n      }\n    }\n  }\n\n  /**\n   * Build multiple styles and render them in the DOM\n   */\n  renderStyleSheet<T>(styles: T & LyStyles): LyClasses<T> {\n    return this._createStyleContent2(styles, null, null, TypeStyle.Multiple);\n  }\n\n  renderStyle<THEME_VARIABLES>(\n    id: string,\n    style: (theme: THEME_VARIABLES, ref: ThemeRef) => StyleTemplate,\n    priority?: number\n  ): string;\n\n  renderStyle<THEME_VARIABLES>(\n    style: (theme: THEME_VARIABLES, ref: ThemeRef) => StyleTemplate,\n    priority?: number\n  ): string;\n  /**\n   * Build the styles and render them in the DOM\n   */\n  renderStyle<THEME_VARIABLES>(\n    styleOrId: ((theme: THEME_VARIABLES, ref: ThemeRef) => StyleTemplate) | string,\n    priorityOrStyle?: number | ((theme: THEME_VARIABLES, ref: ThemeRef) => StyleTemplate),\n    priority?: number\n  ): string {\n    if (typeof styleOrId === 'string') {\n      return this._createStyleContent2(priorityOrStyle as (theme: THEME_VARIABLES, ref: ThemeRef) => StyleTemplate,\n        styleOrId,\n        priority,\n        TypeStyle.LylStyle);\n    }\n    return this._createStyleContent2(styleOrId,\n      null,\n      priorityOrStyle as number,\n      TypeStyle.LylStyle);\n  }\n\n  /**\n   * Add a new dynamic style, use only within @Input()\n   * @param id Unique id\n   * @param style Styles\n   * @param el Element\n   * @param instance The instance of this, this replaces the existing style with a new one when it changes\n   * @param parentStyle Parent Style\n   */\n  addStyle(id: string,\n           style?: StyleDeclarationsBlock,\n           el?: any,\n           instance?: string | null,\n           priority?: number | null,\n           parentStyle?: Styles) {\n    const newClass = this._createStyleContent2(style, id, priority, TypeStyle.OnlyOne, false, parentStyle) as string;\n    if (newClass === instance) {\n      return newClass;\n    }\n    if (el) {\n      if (instance) {\n        el.classList.remove(instance);\n      }\n      el.classList.add(newClass);\n    }\n    return newClass;\n  }\n\n  /**\n   * Create basic style\n   * @param style Styles.\n   * Note: Use only with immutable variable.\n   * @param priority Priority of style\n   * @param parentStyle\n   */\n  style(style: StyleDeclarationsBlock, priority?: number | null, parentStyle?: Styles): string {\n    return this._createStyleContent2(style,\n      null,\n      priority,\n      TypeStyle.OnlyOne,\n      false, parentStyle) as string;\n  }\n\n  private updateClassName(element: any, renderer: Renderer2, newClassname: string, oldClassname?: string) {\n    this.core.updateClassName(element, renderer, newClassname, oldClassname);\n  }\n  updateClass(element: any, renderer: Renderer2, newClass: string, oldClass?: string) {\n    if (newClass === oldClass) {\n      return newClass;\n    }\n    this.updateClassName(element, renderer, newClass, oldClass);\n    return newClass;\n  }\n\n  /**\n   * Change the current theme for another.\n   * @param themeName theme name\n   */\n  setTheme(themeName: string) {\n    if (!this._platform.isBrowser) {\n      throw new Error(`\\`theme.setTheme('theme-name')\\` is only available in browser platform`);\n    }\n    if (themeName !== this.config.name) {\n      const theme = this.themeMap.get(this.initialTheme);\n      if (theme == null) {\n        throw new Error(`Theme ${themeName} not found in themeMap`);\n      }\n      theme.change = themeName;\n      this.config = this.core.get(themeName)!;\n      this._updateAllStyles();\n    }\n  }\n\n  /** Toggle right-to-left/left-to-right */\n  toggleDirection() {\n    const current = this.config.direction;\n    this.config.direction = current === Dir.ltr ? Dir.rtl : Dir.ltr;\n    this._updateAllStyles();\n    this._directionChanged.next();\n  }\n\n  private _updateAllStyles() {\n    this.elements.forEach((_, key) => {\n      const styleData = _STYLE_MAP.get(key)!;\n      if (styleData.requireUpdate) {\n        this._createStyleContent2(styleData.styles, styleData.id, styleData.priority, styleData.type, true, styleData.parentStyle);\n      }\n    });\n  }\n\n  /**\n   * Create a simple style\n   * return className\n   * @param id id of style\n   * @param css style object or string\n   * @param priority style priority(default: 0)\n   */\n  addSimpleStyle(id: string, css: StyleContainer | ((theme) => StyleContainer), priority?: number, parentStyle?: Styles): string {\n    return this._createStyleContent2(css as any, id, priority, TypeStyle.OnlyOne, false, parentStyle) as string;\n  }\n\n\n  /**\n   * Add new add a new style sheet\n   * @param styles styles\n   * @param priority priority for style\n   */\n  addStyleSheet<T>(styles: T & Styles, priority?: number): LyClasses<T> {\n    return this._createStyleContent2(styles, null, priority, TypeStyle.Multiple);\n  }\n\n  /**\n   * Check if a style exist\n   * @param stylesOrId Style or Id of a style\n   */\n  existStyle(stylesOrId: string | Styles | StyleDeclarationsBlock): boolean {\n    if (_STYLE_MAP.has(stylesOrId)) {\n      const styleMap = _STYLE_MAP.get(stylesOrId)!;\n      return !!(styleMap.classes || styleMap[this.initialTheme]);\n    }\n    return false;\n  }\n\n  /**\n   * return selectors if exists\n   *\n   * e.g.\n   *\n   * ```ts\n   * {\n   *   root: '.c'\n   * }\n   * ```\n   * @param styles id\n   */\n  selectorsOf<T>(styles: T): LyClasses<T> {\n    const themeName = this.initialTheme;\n    if (!_STYLE_MAP.has(styles)) {\n      _STYLE_MAP.set(styles, {\n        isNewStyle: true,\n        styles: styles as unknown as Styles,\n        type: TypeStyle.Multiple,\n        css: {},\n        id: null\n      });\n    }\n    const styleMap = _STYLE_MAP.get(styles)!;\n    const themeNameForSelectors = getThemeNameForSelectors(themeName);\n    const classesMap = styleMap[themeNameForSelectors] || (styleMap[themeNameForSelectors] = {});\n    return classesMap;\n  }\n\n  selectorOf(styles: string | StyleTemplate): string {\n    const themeName = this.initialTheme;\n    const styleMap = _STYLE_MAP.get(styles)!;\n    return styleMap.classes || styleMap[themeName];\n  }\n\n  /**\n   * For internal use only\n   * @docs-private\n   */\n  _createStyleContent2(\n    styles: Styles\n      | StyleDeclarationsBlock\n      | ((theme: any, ref: ThemeRef) => StyleTemplate),\n    id: string | null,\n    priority: number | undefined | null,\n    type: TypeStyle,\n    forChangeTheme?: boolean,\n    parentStyle?: Styles\n  ) {\n    const newId = id || styles as Styles;\n    if (!_STYLE_MAP.has(newId)) {\n      _STYLE_MAP.set(newId, {\n        isNewStyle: true,\n        priority,\n        styles: styles as Styles,\n        type,\n        css: {},\n        id,\n        parentStyle\n      });\n    }\n    const styleMap = _STYLE_MAP.get(newId)!;\n    const themeName = this.initialTheme;\n    const isCreated = styleMap.isNewStyle || !(styleMap.classes || styleMap[themeName]);\n    if (isCreated || forChangeTheme) {\n      styleMap.isNewStyle = false;\n      // create new style for new theme\n      let css: string | { [themeName: string]: string; };\n      const themeMap = this.themeMap.get(this.initialTheme)!;\n      const config = this.core.get(themeMap.change || themeName) as ThemeVariables;\n      if (typeof styles === 'function') {\n        styleMap.requireUpdate = true;\n        css = type === TypeStyle.LylStyle\n          ? createLylStyle(\n              styleMap,\n              (styles as ((theme: any, ref: ThemeRef) => StyleTemplate))(config, this),\n              themeName, this.core.classNamePrefix)\n          : groupStyleToString(styleMap, styles(config, this) as StyleGroup, themeName, id, type, config, this.core.classNamePrefix);\n        if (!forChangeTheme) {\n          styleMap.css[themeName] = css;\n        }\n      } else {\n        /** create a new id for style that does not <-<require>-> changes */\n        css = groupStyleToString(styleMap, styles as StyleGroup, themeName, newId as string, type, config, this.core.classNamePrefix);\n        styleMap.css = css;\n      }\n      if (!this.elements.has(newId)) {\n        const newEl = this._createElementStyle(css);\n        if (styleMap.requireUpdate) {\n          // This is required for when a theme changes\n          this.elements.set(newId, newEl);\n        } else if (this.isDevOrServer) {\n          // in dev mode or server it is not necessary\n          // since the styles will not change\n          this.stylesInDocument.styleElementGlobalMap.set(newId, newEl);\n        }\n        this.core.renderer.appendChild(this._createStyleContainer(styleMap.priority), newEl);\n      }\n      if (forChangeTheme) {\n        const el = this.elements.get(newId) as HTMLStyleElement;\n        el.innerText = css;\n      }\n    } else if (this.isDevOrServer) {\n      /**\n       * append child style if not exist in dom\n       * for ssr or hmr\n       */\n      if (!this.elements.has(newId)) {\n        const _css = styleMap.css[themeName] || styleMap.css;\n        const map = this.stylesInDocument.styleElementGlobalMap;\n        if (styleMap.requireUpdate) {\n          this.elements.set(newId, this._createElementStyle(_css));\n          this.core.renderer.appendChild(this._createStyleContainer(styleMap.priority), this.elements.get(newId));\n        } else if (!map.has(newId)) {\n          map.set(newId, this._createElementStyle(_css));\n          this.core.renderer.appendChild(this._createStyleContainer(styleMap.priority), map.get(newId));\n        }\n      }\n    }\n    return styleMap.classes || styleMap[themeName];\n  }\n\n  private _createStyleContainer(priority: number | null | undefined) {\n    priority = priority || 0;\n    const { styleContainers } = this.stylesInDocument;\n    if (!styleContainers.has(priority)) {\n      const el = this.core.renderer.createElement(`ly-s-c`);\n      if (isDevMode()) {\n        this.core.renderer.setAttribute(el, 'priority', `${priority}`);\n      }\n      styleContainers.set(priority, el);\n      if (styleContainers.size === 0) {\n        this.core.renderer.insertBefore(this._document.body, el, this._document.body.firstChild);\n        return el;\n      }\n    } else {\n      return styleContainers.get(priority);\n    }\n    const refChild = this.findNode(priority);\n    this.core.renderer.insertBefore(this._document.body, styleContainers.get(priority), refChild);\n    return styleContainers.get(priority);\n  }\n\n  private findNode(index: number) {\n    const { styleContainers } = this.stylesInDocument;\n    const keys = (Array.from(styleContainers.keys())).sort();\n    const key = keys.find(_ => index < _);\n    return (key !== undefined && styleContainers.get(key)) || this.core.firstElement;\n  }\n\n  private _createElementStyle(css: string) {\n    const styleElement = this.core.renderer.createElement('style');\n    const styleText = this.core.renderer.createText(css);\n    this.core.renderer.appendChild(styleElement, styleText);\n    return styleElement;\n  }\n\n  requestAnimationFrame(fn: (...args: any[]) => void) {\n    if (typeof requestAnimationFrame === 'function') {\n      this._ngZone.runOutsideAngular(() => {\n        requestAnimationFrame(() => {\n          fn();\n        });\n      });\n    } else {\n      fn();\n    }\n  }\n\n}\n\nfunction createLylStyle(\n  styleMap: StyleMap5,\n  styles: StyleTemplate,\n  themeName: string,\n  classNamePrefix?: string\n) {\n\n  // use current class or set new\n  let className: string;\n  className = styleMap[themeName]\n    || (\n      styleMap[themeName] = isDevMode()\n        ? styleMap.id\n          ? `${toValidClassName(styleMap.id!)}-${createNextClassId(classNamePrefix)}`\n          : `${(styleMap.styles as Function).name || 'ii'}-${createNextClassId(classNamePrefix)}`\n        : createNextClassId(classNamePrefix)\n    );\n\n  return styles(`.${className}`);\n}\n\nfunction groupStyleToString(\n  styleMap: StyleMap5,\n  styles: StyleGroup,\n  themeName: string,\n  id: string | null,\n  typeStyle: TypeStyle,\n  themeVariables: ThemeVariables,\n  classNamePrefix?: string\n) {\n\n  // for styles type string\n  if (typeStyle === TypeStyle.OnlyOne) {\n    // use current class or set new\n    const className = styleMap.requireUpdate\n    ? styleMap[themeName] || (styleMap[themeName] = createNextClassId(classNamePrefix))\n    : styleMap.classes\n      ? styleMap.classes\n      : styleMap.classes = createNextClassId(classNamePrefix);\n    let rules: string;\n    if (typeof styles === 'string') {\n      rules = `.${className}{${styles}}`;\n    } else {\n      rules = styleToString(id, null, styles as StyleContainer, themeVariables, className as any);\n    }\n    if (styleMap.parentStyle) {\n      const styleMapOfParentStyle = _STYLE_MAP.get(styleMap.parentStyle);\n      if (!styleMapOfParentStyle) {\n        throw new Error(`The parentStyle not exist or is called before being created.`);\n      }\n      return replaceRefs(rules, styleMapOfParentStyle[themeName]);\n    }\n    return rules;\n  }\n\n  // for multiples styles\n  const themeNameForSelectors = getThemeNameForSelectors(themeName);\n  const classesMap = styleMap[themeName] || (styleMap[themeName] = {});\n  const selectorsMap = styleMap[themeNameForSelectors] || (styleMap[themeNameForSelectors] = {});\n  const styleGroup = styles as StyleGroup;\n  let content = '';\n  const name = styleGroup.$name ? `${styleGroup.$name}-` : '';\n\n  // set priority\n  if (styleGroup.$priority != null) {\n    styleMap.priority = styleGroup.$priority;\n  }\n\n  if (!styleMap.keys) {\n    styleMap.keys = Object.keys(styles);\n  }\n\n  const keys = styleMap.keys;\n\n  /** This loop creates the classes if necessary */\n  for (let index = 0; index < keys.length; index++) {\n    const key = keys[index];\n    const value = styles[key];\n    if (key === '$global' || key === '$keyframes') {\n      continue;\n    }\n\n    if (typeof value === 'function') {\n      // lyl\n      // set new id if not exist\n      if (!(key in classesMap)) {\n        classesMap[key] = isDevMode()\n          ? `${toValidClassName(name + key)}-${createNextClassId(classNamePrefix)}`\n          : createNextClassId(classNamePrefix);\n      }\n\n    } else if (typeof value === 'object' || value === null) {\n      // set new id if not exist\n      if (!(key in classesMap)) {\n        classesMap[key] = isDevMode()\n        ? toValidClassName(`y-${name}${key}-${createNextClassId(classNamePrefix)}`)\n        : createNextClassId(classNamePrefix);\n      }\n\n    } else {\n      continue;\n    }\n\n    if (!(key in selectorsMap)) {\n      selectorsMap[key] = `.${classesMap[key]}`;\n    }\n\n  }\n\n  for (let index = 0; index < keys.length; index++) {\n    const key = keys[index];\n    const value = styles[key];\n    if (typeof value === 'function') {\n      // lyl\n      if (key === '$global') {\n        if (value.length) {\n          content += value(`/* Global Style */`);\n        } else {\n          content += (value as (() => StyleTemplate))()(`/* Global Style */`);\n        }\n      } else {\n        const selector = selectorsMap[key];\n        if (value.length) {\n          content += value(selector);\n        } else {\n          const st = (value as (() => StyleTemplate | null))();\n          if (st) {\n            content += st(selector);\n          }\n        }\n      }\n\n    } else if (key === '$keyframes') {\n      content += keyframesToString(name, classesMap, value as KeyframesDeprecated, themeVariables);\n    } else if (typeof value === 'object' || value === null) {\n      const currentClassName = classesMap[key];\n      const style = styleToString(key, styleGroup.$name, value as StyleContainer, themeVariables, currentClassName);\n      content += style;\n    }\n  }\n\n  return replaceRefs(content, classesMap);\n}\n\nfunction replaceRefs(str: string, data: Object) {\n  return str.replace(REF_REG_EXP, (_match, token) => {\n    const className = data[token];\n    if (className) {\n      return `.${data[token]}`;\n    } else {\n      return data[`@г.->-${token}`];\n    }\n  }\n  );\n}\n\n/**\n * {color:'red'} to .className{color: red}\n */\nfunction styleToString(\n  key: string | null,\n  $name: string | null | undefined,\n  ob: StyleContainer,\n  themeVariables: ThemeVariables,\n  currentKey: string,\n  parentKey?: string\n) {\n\n  let content = '';\n  let subContent = '';\n  let keyAndValue = '';\n  let newKey: string;\n  if (parentKey) {\n    if (currentKey.indexOf('&') !== -1) {\n      newKey = currentKey.replace(/&/g, parentKey);\n    } else if (currentKey.indexOf('@media') === 0) {\n      newKey = `${currentKey}`;\n    } else if (currentKey === '@global' || parentKey === '@global') {\n      newKey = currentKey;\n    } else {\n      newKey = `${parentKey} ${currentKey}`;\n    }\n  } else if (key === '@global') {\n    newKey = key;\n  } else {\n    newKey = `.${currentKey}`;\n  }\n  for (const styleKey in ob) {\n    if (ob.hasOwnProperty(styleKey)) {\n      const element = ob[styleKey];\n      // Omit style with value null\n      if (element != null) {\n        // Check if is Object literal\n        if (element.constructor === Object) {\n          subContent += styleToString(key, $name, element as StyleContainer, themeVariables, styleKey, newKey);\n        } else {\n          keyAndValue += convertToStyleValue(styleKey, element as string | string[], themeVariables);\n        }\n      }\n    }\n  }\n  if (keyAndValue) {\n    if (isDevMode()) {\n      let lin = '\\n\\n';\n      if ($name) {\n        lin += `/** Style Sheet name: ${$name} */\\n`;\n      }\n      lin += `/** Style Key: ${key} */\\n`;\n      content += `${lin}`;\n    }\n    if (newKey.indexOf('@media') === 0) {\n      content += `${newKey}`;\n      keyAndValue = `${parentKey}{${keyAndValue}}`;\n    } else if (parentKey && parentKey === '@global') {\n      content += `${currentKey}`;\n    } else {\n      content += `${newKey}`;\n    }\n    content += `{${keyAndValue}}`;\n  }\n  return content + subContent;\n}\n\nfunction convertToStyleValue(key: string, value: string | string[], themeVariables: ThemeVariables) {\n  const newStyleKey = converterToCssKeyAndStyleCache(key, themeVariables);\n  if (value.constructor === Array) {\n    let lin = '';\n    for (let index = 0; index < value.length; index++) {\n      lin += `${newStyleKey}:${value[index]};`;\n    }\n    return lin;\n  } else {\n    return `${newStyleKey}:${value};`;\n  }\n}\n\nfunction keyframesToString(styleName: string, keysMap: object, keyframes: KeyframesDeprecated, themeVariables: ThemeVariables) {\n  let content = '';\n\n  for (const name in keyframes) {\n    if (keyframes.hasOwnProperty(name)) {\n      const keyframe = keyframes[name];\n      // Sometimes the name of a class can be the same as the name of a keyframe,\n      // so we add a character to be different\n      const newUniqueName = `@г.->-${name}`;\n      // set new id if not exist\n      const newName = newUniqueName in keysMap\n      ? keysMap[newUniqueName]\n      : keysMap[newUniqueName] = isDevMode() ? toValidClassName(`${styleName}${name}-${createNextKeyframeId()}-v`) : createNextKeyframeId();\n      content += `@keyframes ${newName}{`;\n      for (const percent in keyframe) {\n        if (keyframe.hasOwnProperty(percent)) {\n          content += `${percent}%{`;\n          const styles = keyframe[percent];\n          for (const key in styles) {\n            if (styles.hasOwnProperty(key)) {\n              const val = styles[key];\n              content += convertToStyleValue(key, val as string | string[], themeVariables);\n            }\n          }\n          content += `}`;\n        }\n      }\n      content += `}`;\n    }\n  }\n  return content;\n}\n\nexport function converterToCssKeyAndStyle(str: string, themeVariables: ThemeVariables) {\n  const hyphenCase = toHyphenCase(str);\n  if (hyphenCase.indexOf(DirAlias.before) !== -1) {\n    return dirCache(str, hyphenCase, themeVariables, DirAlias.before);\n  } else if (hyphenCase.indexOf(DirAlias.after) !== -1) {\n    return dirCache(str, hyphenCase, themeVariables, DirAlias.after);\n  } else if (hyphenCase.indexOf(YPosition.above) !== -1) {\n    return YPositionCache(str, hyphenCase, themeVariables, YPosition.above, TOP);\n  } else if (hyphenCase.indexOf(YPosition.below) !== -1) {\n    return YPositionCache(str, hyphenCase, themeVariables, YPosition.below, BOTTOM);\n  }\n  return hyphenCase;\n}\n\nfunction toValidClassName(str: string) {\n  const s = str.replace(/^[0-9]|[^\\w\\-]/g, _ => {\n    return `_${_.charCodeAt(0)}`;\n  });\n  return s;\n}\n\n\nfunction toHyphenCase(str: string) {\n  return str.replace(/([A-Z])/g, (g) => `-${g[0].toLowerCase()}`);\n}\n\nfunction converterToCssKeyAndStyleCache(str: string, themeVariables: ThemeVariables): string {\n  const map = STYLE_KEYS_MAP[themeVariables.direction];\n  return str in map\n  ? map[str]\n  : map[str] = converterToCssKeyAndStyle(str, themeVariables);\n}\n\nconst ignoreCSSKEY = {\n  'break-after': 'break-after',\n  'break-before': 'break-before',\n  'page-break-after': 'page-break-after',\n  'page-break-before': 'page-break-before'\n};\n\nconst STYLE_KEYS_MAP = {\n  rtl: {\n    ...ignoreCSSKEY\n  },\n  ltr: {\n    ...ignoreCSSKEY\n  }\n};\n\nconst BOTTOM = 'bottom';\nconst TOP = 'top';\n\nfunction dirCache(original, val: string, themeVariables: ThemeVariables, dirAlias: DirAlias) {\n  const map = STYLE_KEYS_MAP[themeVariables.direction];\n  // Replace in original, for do not repeat this again\n  return map[original] = val.replace(dirAlias, themeVariables.getDirection(dirAlias));\n}\n\nfunction YPositionCache(original, val: string, themeVariables: ThemeVariables, pos: YPosition, to: 'top' | 'bottom') {\n  const map = STYLE_KEYS_MAP[themeVariables.direction];\n  // Replace in original, for do not repeat this again\n  return map[original] = val.replace(pos, to);\n}\n\nexport function capitalizeFirstLetter(str: string) {\n  return str[0].toUpperCase() + str.slice(1);\n}\n\nfunction createNextClassId(classNamePrefix?: string) {\n  return classNamePrefix\n    ? `${classNamePrefix}${yClassID.next()}`\n    : yClassID.next();\n}\nfunction createNextKeyframeId() {\n  return `k${(nextKeyFrameId++).toString(36)}`;\n}\n\nexport interface ThemeRef extends Pick<LyTheme2, 'selectorsOf' | 'renderStyleSheet'> { }\n","import {\n  Directive, Input, TemplateRef, ViewContainerRef, OnDestroy, NgModule, ElementRef\n} from '@angular/core';\nimport { Platform } from '@angular/cdk/platform';\n\nexport interface KeyAttribute {\n  [key: string]: any;\n}\n\n@Directive({\n  selector: '[ngTransclude]',\n  exportAs: 'ngTransclude'\n})\nexport class NgTranscludeDirective implements OnDestroy {\n\n  private _ngTransclude: TemplateRef<any> | null;\n\n  /**\n   * Time in ms it takes before it is destroyed\n   */\n  @Input() timeout: number;\n\n  _timeoutId: number;\n\n  @Input()\n  set ngTransclude(templateRef: TemplateRef<any>) {\n    if (templateRef && !this._ngTransclude) {\n      if (this._platform.isBrowser && this._timeoutId != null) {\n        window.clearTimeout(this._timeoutId);\n        this._timeoutId = null!;\n        this.vcr.clear();\n      }\n      this._ngTransclude = templateRef;\n      this.vcr.createEmbeddedView(templateRef);\n    } else if (this._ngTransclude && !templateRef) {\n      this._ngTransclude = null;\n      this.clear();\n    }\n  }\n\n  get getNgTransclude() {\n    return this._ngTransclude;\n  }\n\n  constructor(\n    readonly vcr: ViewContainerRef,\n    private _platform: Platform\n  ) { }\n\n  clear() {\n    if (this._platform.isBrowser && this.timeout) {\n      this._timeoutId = window.setTimeout(() => {\n        this.vcr.clear();\n        this._timeoutId = null!;\n      }, this.timeout);\n    } else {\n      this.vcr.clear();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this._platform.isBrowser) {\n      window.clearTimeout(this._timeoutId);\n    }\n    this.vcr.clear();\n  }\n}\n@NgModule({\n  exports: [NgTranscludeDirective],\n  declarations: [NgTranscludeDirective]\n})\nexport class NgTranscludeModule {\n\n}\n\n/**\n * @ignore\n */\nexport function getNativeElement(element: HTMLElement | ElementRef<HTMLElement>): HTMLElement {\n  return element instanceof ElementRef ? element.nativeElement : element;\n}\n","import { Color } from '@alyle/ui/color';\nimport { Constructor } from './constructor';\nimport { shadowBuilder } from '../shadow';\nimport { CanColor } from './color';\nimport { CanBg } from './bg';\nimport { CanDisable } from './disabled';\nimport { CanRaised } from './raised';\nimport { CanElevation } from './elevation';\nimport { CanOutlined } from './outlined';\nimport { CanShadowColor } from './shadow-color';\nimport { LyTheme2 } from '../theme/theme2.service';\nimport { ElementRef } from '@angular/core';\nimport { getNativeElement } from '../minimal/common';\nimport { ThemeVariables } from '../theme/theme-config';\nimport {\n   } from '../parse';\n\nconst DEFAULT_VALUE = '';\nconst STYLE_PRIORITY = -1;\n\nexport interface RequireParamsStyleUpdater {\n  _theme: LyTheme2;\n}\n\nexport interface CanStyleUpdater {\n  _theme: LyTheme2;\n  updateStyle: (element: ElementRef | Element) => void;\n  setAutoContrast: () => void;\n}\nexport type CanStyleUpdaterCtor = Constructor<RequireParamsStyleUpdater & Partial<CanColor & CanBg & CanDisable & CanRaised & CanElevation & CanOutlined & CanShadowColor>>;\n\nexport function mixinStyleUpdater<T extends CanStyleUpdaterCtor>(base: T): Constructor<CanStyleUpdater> & T {\n  return class extends base {\n    _classNameAnonymous: string;\n    _autoContrast: boolean;\n    setAutoContrast() {\n      this._autoContrast = true;\n    }\n    updateStyle(element: ElementRef<any> | HTMLElement) {\n      const __bg = this._superHyperInternalPropertyBg;\n      const __color = this._superHyperInternalPropertyColor === 'auto'\n        ? ''\n        : this._superHyperInternalPropertyColor;\n      const __raised = this._superHyperInternalPropertyRaised;\n      const __elevation = this._superHyperInternalPropertyElevation;\n      const __disabled = this._superHyperInternalPropertyDisabled;\n      const __outlined = this._superHyperInternalPropertyOutlined;\n      const __shadowColor = this._superHyperInternalPropertyShadowColor;\n      const __isContrast = this._autoContrast || this._superHyperInternalPropertyColor === 'auto';\n      const el = getNativeElement(element);\n\n      const newKey = `c--${\n        __bg || DEFAULT_VALUE}_${\n          __color || DEFAULT_VALUE}_${\n            __raised || DEFAULT_VALUE}_${\n              __elevation || DEFAULT_VALUE}_${\n                __disabled || DEFAULT_VALUE}_${\n                  __outlined || DEFAULT_VALUE}_${\n                    __shadowColor || DEFAULT_VALUE}_${\n                      __isContrast || DEFAULT_VALUE}`;\n      const newClass = this._theme.renderStyle(newKey, (theme: ThemeVariables) => {\n        let sColor: Color | undefined;\n        let sBackground: Color | undefined;\n        let sBorder: string | undefined;\n        let sPointerEvents: string | undefined;\n        let sBoxShadow: string | undefined;\n        let sBoxShadowActive: string | undefined;\n\n        if (__outlined) {\n          sBorder = '1px solid currentColor';\n        }\n        if (__disabled) {\n          sColor = theme.disabled.contrast;\n          sPointerEvents = 'none';\n          if (__bg || __raised) {\n            sBackground = theme.disabled.default;\n          }\n        } else {\n          if (__bg) {\n            sBackground = colorOf(theme, __bg);\n            if (__isContrast && !__color) {\n              sColor = theme.colorOf(`${__bg}:contrast`);\n\n              // Generate auto contrast if is necessary\n              if (sColor.css().includes('invalid')) {\n                const lum = (__bg instanceof Color ? __bg : theme.colorOf(__bg)).luminance();\n                sColor = lum < 0.5 ? theme.text.light : theme.text.dark;\n              }\n            }\n          }\n          if (!sColor && __color) {\n            sColor = colorOf(theme, __color);\n          }\n          if (__raised || (__elevation != null)) {\n            if (!__bg) {\n              sBackground = theme.background.primary.default;\n            }\n            const backgroundColorCss = sBackground !== __bg && colorOf(theme, __bg || 'background:primary', 'shadow');\n            const shadowColor = (__shadowColor && colorOf(theme, __shadowColor)) || backgroundColorCss || sBackground || sColor || theme.shadow;\n            if (__elevation != null) {\n              sBoxShadow = shadowBuilder(__elevation, shadowColor);\n            } else {\n              sBoxShadow = shadowBuilder(3, shadowColor);\n              sBoxShadowActive = shadowBuilder(8, shadowColor);\n            }\n          }\n        }\n        return (className: string) => `${className}{${sColor ? 'color:' + sColor : ''};${sBackground ? 'background:' + sBackground : ''};${sBorder ? 'border:' + sBorder : ''};${sPointerEvents ? 'pointer-events:' + sPointerEvents : ''};${sBoxShadow ? 'box-shadow:' + sBoxShadow : ''};}${className}:active{${sBoxShadowActive ? 'box-shadow:' + sBoxShadowActive : ''};}`;\n      }, STYLE_PRIORITY);\n\n      el.classList.remove(this._classNameAnonymous);\n      el.classList.add(newClass);\n      this._classNameAnonymous = newClass;\n    }\n\n    constructor(...args: any[]) { super(...args); }\n  };\n}\n\nfunction colorOf(theme: ThemeVariables, color: string | number | Color, optional?: string) {\n  return color instanceof Color ? color : theme.colorOf(color, optional);\n}\n","export function toBoolean(value: any) {\n  return value != null && `${value}` !== 'false';\n}\n","import { NgZone } from '@angular/core';\nimport { ThemeVariables } from '../theme/theme-config';\nimport { Platform } from '@angular/cdk/platform';\n\nexport interface RippleConfig {\n  centered?: boolean;\n  disabled?: boolean;\n  sensitive?: boolean;\n  radius?: 'containerSize' | number;\n  percentageToIncrease?: number;\n}\n\nexport class RippleRef {\n  state = true;\n  timestamp = -Date.now();\n  readonly container: HTMLElement = document.createElement('span');\n  end() {\n    this.state = false;\n    this.timestamp += Date.now();\n  }\n}\n\nexport class Ripple {\n  private _rippleRef?: RippleRef;\n  private _eventHandlers: Map<string, (e: Event) => void> = new Map<string, (e: Event) => void>();\n  config: RippleConfig = {};\n  private _transitionDuration = this._themeVariables.ripple.duration;\n  private _eventOptions = {passive: true} as any;\n  constructor(\n    private _themeVariables: ThemeVariables,\n    private _ngZone: NgZone,\n    private classes: any,\n    private _containerElement: HTMLElement,\n    platform: Platform,\n    private _triggerElement?: HTMLElement,\n  ) {\n    if (platform.isBrowser) {\n      if (typeof PointerEvent === 'function' && typeof TouchEvent  === 'function') {\n        this._eventHandlers.set('pointerdown', this.onPointerDown.bind(this));\n      } else {\n        this._eventHandlers.set('mousedown', this.onPointerDown.bind(this));\n      }\n      this._eventHandlers.set('touchend', this.onPointerLeave.bind(this));\n      this._eventHandlers.set('touchcancel', this.onPointerLeave.bind(this));\n      this._eventHandlers.set('mouseup', this.onPointerLeave.bind(this));\n      this._eventHandlers.set('mouseleave', this.onPointerLeave.bind(this));\n      if (!_triggerElement) {\n        _triggerElement = _containerElement;\n      }\n      this.setTriggerElement(_triggerElement);\n    }\n  }\n\n  setConfig(config: RippleConfig) {\n    this.config = config;\n  }\n\n  private get _rectContainer(): ClientRect {\n    return this._containerElement.getBoundingClientRect();\n  }\n\n  private setTriggerElement(element: HTMLElement) {\n    if (element) {\n      this._ngZone.runOutsideAngular(() => {\n        this._eventHandlers.forEach((fn, type) => element.addEventListener(type, fn, this._eventOptions));\n      });\n    }\n\n    this._triggerElement = element;\n  }\n\n  private createRipple(styles: {[key: string]: number | string}) {\n    this._rippleRef = new RippleRef();\n    const container = this._rippleRef.container;\n    container.className = this.classes.rippleContainer;\n    for (const key in styles) {\n      if (styles.hasOwnProperty(key)) {\n        const element = styles[key];\n        if (typeof element === 'number') {\n          container.style[key] = `${element}px`;\n        } else {\n          container.style[key] = element;\n        }\n      }\n    }\n    this._containerElement.appendChild(container);\n    window.getComputedStyle(container).getPropertyValue('opacity');\n    container.style.transform = `scale(1)`;\n  }\n\n  private onPointerDown(event: MouseEvent) {\n    if (!this.config.disabled) {\n      /**Destroy previous ripple if exist */\n      this.endRipple();\n      this.startRipple(event, this.config);\n    }\n  }\n  private onPointerLeave(_event: MouseEvent) {\n    if (!this.config.disabled) {\n      this.endRipple();\n    }\n  }\n\n  startRipple(event: MouseEvent | PointerEvent, rippleConfig: RippleConfig) {\n    const containerRect = this._rectContainer;\n    let x = event.clientX,\n    y = event.clientY;\n    if (rippleConfig.centered) {\n      x = containerRect.left + containerRect.width / 2;\n      y = containerRect.top + containerRect.height / 2;\n    }\n    const left = x - containerRect.left;\n    const top = y - containerRect.top;\n    let radius = rippleConfig.radius === 'containerSize' ? maxSize(containerRect) / 2 : rippleConfig.radius || rippleRadius(x, y, containerRect);\n    if (rippleConfig.percentageToIncrease) {\n      radius += radius * rippleConfig.percentageToIncrease / 100;\n    }\n    this.createRipple({\n      left: left - radius,\n      top: top - radius,\n      width: radius * 2,\n      height: radius * 2,\n      transitionDuration: `${this._transitionDuration}ms`\n    });\n  }\n\n  private runTimeoutOutsideZone(fn: Function, delay = 0) {\n    this._ngZone.runOutsideAngular(() => setTimeout(fn, delay));\n  }\n\n  endRipple() {\n    const rippleRef: RippleRef | undefined = this._rippleRef;\n    const duration = this._transitionDuration;\n    if (rippleRef && rippleRef.state) {\n      rippleRef.end();\n      this.runTimeoutOutsideZone(() => {\n        rippleRef.container.style.opacity = '0';\n        rippleRef.container.style.transitionDuration = `${this._transitionDuration / 5}ms`;\n      // }, rippleRef.timestamp < duration ? duration : 0);\n      // }, rippleRef.timestamp < duration ? duration / (duration * .001 + 1) : 0);\n      }, rippleRef.timestamp < duration ? duration * .15 : 0);\n      this.runTimeoutOutsideZone(() => {\n        rippleRef.container.parentNode!.removeChild(rippleRef.container);\n      // }, rippleRef.timestamp < duration ? duration * 2 : duration);\n      // }, rippleRef.timestamp < duration ? duration / (duration * .001 + 1) * 2 : duration);\n      }, rippleRef.timestamp < duration ? duration * 2 : duration);\n      this._rippleRef = undefined;\n    }\n  }\n  removeEvents() {\n    if (this._triggerElement) {\n      this._eventHandlers.forEach((fn, type) => {\n        this._triggerElement!.removeEventListener(type, fn, this._eventOptions);\n      });\n    }\n  }\n\n}\n\nfunction rippleRadius(x: number, y: number, rect: ClientRect) {\n  const distX = Math.max(Math.abs(x - rect.left), Math.abs(x - rect.right));\n  const distY = Math.max(Math.abs(y - rect.top), Math.abs(y - rect.bottom));\n  return Math.sqrt(distX * distX + distY * distY);\n}\n\nfunction maxSize(rect: ClientRect) {\n  return Math.max(rect.width, rect.height);\n}\n","import { Injectable } from '@angular/core';\nimport { LyTheme2 } from '../theme/theme2.service';\nimport {\n   } from '../parse';\n\nexport const LY_COMMON_STYLES = {\n  fill: (className: string) => `${className}{position:absolute;top:0;bottom:0;left:0;right:0;}`,\n  visuallyHidden: (className: string) => `${className}{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none;}`,\n  button: (className: string) => `${className}{-webkit-tap-highlight-color:transparent;background-color:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;margin:0;outline:none;box-sizing:border-box;position:relative;text-decoration-line:none;-webkit-text-decoration-line:none;}${className}::-moz-focus-inner:{border:0;}`\n};\n\nexport const LY_COMMON_STYLES_DEPRECATED = {\n  fill: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    width: '1px',\n    outline: 0,\n    '-webkit-appearance': 'none',\n    '-moz-appearance': 'none'\n  },\n  button: {\n    '-webkit-tap-highlight-color': 'transparent',\n    backgroundColor: `transparent`,\n    border: 0,\n    '-moz-appearance': 'none',\n    '-webkit-appearance': 'none',\n    margin: 0,\n    outline: 'none',\n    boxSizing: 'border-box',\n    position: 'relative',\n    textDecorationLine: 'none',\n    '-webkit-text-decoration-line': 'none',\n    '&::-moz-focus-inner': {\n      border: 0\n    }\n  }\n};\n\n@Injectable({ providedIn: 'root' })\nexport class LyCoreStyles {\n  classes = this.theme.addStyleSheet(LY_COMMON_STYLES_DEPRECATED);\n  constructor(private theme: LyTheme2) { }\n}\n","import { Injectable } from '@angular/core';\nimport { ThemeVariables } from '../theme/theme-config';\nimport { LY_COMMON_STYLES_DEPRECATED } from '../styles/core-styles';\nimport { LyTheme2 } from '../theme/theme2.service';\n\nexport const styles = (theme: ThemeVariables) => ({\n  rippleContainer: {\n    position: 'absolute',\n    width: '2px',\n    height: '2px',\n    background: 'currentColor',\n    opacity: '.2',\n    borderRadius: '50%',\n    transform: 'scale(0)',\n    transition: `opacity ${theme.ripple.transition.opacity},transform ${theme.ripple.transition.transform\n    }`,\n    pointerEvents: 'none'\n  },\n  container: {\n    ...LY_COMMON_STYLES_DEPRECATED.fill,\n    overflow: 'hidden',\n    pointerEvents: 'none',\n    borderRadius: 'inherit'\n  }\n});\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LyRippleService {\n  classes = this.theme.addStyleSheet(styles);\n  constructor(\n    private theme: LyTheme2\n  ) { }\n\n}\n","import { ElementRef, NgZone } from '@angular/core';\nimport { Constructor } from './constructor';\nimport { toBoolean } from '../minimal/is-boolean';\nimport { LyTheme2 } from '../theme/theme2.service';\nimport { Ripple, RippleConfig } from '../ripple/ripple';\nimport { styles } from '../ripple/ripple.service';\nimport { Platform } from '@angular/cdk/platform';\n\nexport interface RequireParams {\n  _theme: LyTheme2;\n  _ngZone: NgZone;\n  _platform: Platform;\n}\n\nexport interface CanDisableRipple {\n  _triggerElement: ElementRef;\n  _rippleContainer: ElementRef;\n  disableRipple: boolean;\n  _rippleConfig: RippleConfig;\n  _removeRippleEvents: () => void;\n}\n\nexport function mixinDisableRipple<T extends Constructor<RequireParams>>(base: T): Constructor<CanDisableRipple> & T {\n  return class extends base {\n    _rippleContainer: ElementRef;\n    _triggerElement: ElementRef;\n    _rippleConfig: RippleConfig = {};\n    private _ripple: Ripple | null;\n    private _disableRipple;\n\n    get disableRipple(): boolean { return this._disableRipple; }\n    set disableRipple(val: boolean) {\n      if (this._platform.isBrowser && val !== this._disableRipple) {\n        const newVal = this._disableRipple = toBoolean(val);\n        // remove previous ripple if exist\n        this._removeRippleEvents();\n        if (!newVal) {\n          // add ripple\n          Promise.resolve(null).then(() => {\n            const triggerElement: HTMLElement = this._triggerElement.nativeElement;\n            const rippleContainer = (this._rippleContainer && this._rippleContainer.nativeElement) || triggerElement;\n            this._ripple = new Ripple(this._theme.variables, this._ngZone, this._theme.addStyleSheet(styles), rippleContainer, this._platform, triggerElement);\n            this._ripple.setConfig(this._rippleConfig);\n          });\n        }\n      }\n    }\n\n    constructor(...args: any[]) {\n      super(...args);\n    }\n\n    _removeRippleEvents() {\n      if (this._platform.isBrowser) {\n        if (this._ripple) {\n          this._ripple.removeEvents();\n          this._ripple = null;\n        }\n      }\n    }\n  };\n}\n","import { Constructor } from './constructor';\nimport { Color } from '@alyle/ui/color';\n\nexport interface CanColor {\n  color: string | number | Color;\n  /**\n   * It is only used for common behavior, therefore, it should not be used for other purposes.\n   */\n  readonly _superHyperInternalPropertyColor: string | number | Color;\n}\n\nexport function mixinColor<T extends Constructor>(base: T): Constructor<CanColor> & T {\n  return class extends base {\n    _superHyperInternalPropertyColor: string | number | Color;\n\n    get color(): string | number | Color { return this._superHyperInternalPropertyColor; }\n    set color(val: string | number | Color) {\n      const defaultColor = val;\n      if (defaultColor !== this.color) {\n        this._superHyperInternalPropertyColor = defaultColor;\n      }\n    }\n\n    constructor(...args: any[]) {\n      super(...args);\n    }\n  };\n}\n","import { Constructor } from './constructor';\nimport { Color } from '@alyle/ui/color';\n\nexport interface CanBg {\n  bg: string | number | Color;\n  /**\n   * It is only used for common behavior, therefore, it should not be used for other purposes.\n   */\n  readonly _superHyperInternalPropertyBg: string | number | Color;\n}\n\nexport function mixinBg<T extends Constructor>(base: T): Constructor<CanBg> & T {\n  return class extends base {\n    _superHyperInternalPropertyBg: string | number | Color;\n\n    get bg(): string | number | Color { return this._superHyperInternalPropertyBg; }\n    set bg(val: string | number | Color) {\n      const defaultColor = val;\n      if (defaultColor !== this.bg) {\n        this._superHyperInternalPropertyBg = defaultColor;\n      }\n    }\n\n    constructor(...args: any[]) {\n      super(...args);\n    }\n  };\n}\n","import { Constructor } from './constructor';\nimport { toBoolean } from '../minimal/is-boolean';\n\nexport interface CanRaised {\n  raised: boolean;\n  /**\n   * It is only used for common behavior, therefore, it should not be used for other purposes.\n   */\n  readonly _superHyperInternalPropertyRaised: boolean;\n}\n\nexport function mixinRaised<T extends Constructor>(base: T): Constructor<CanRaised> & T {\n  return class extends base {\n    _superHyperInternalPropertyRaised: boolean;\n\n    get raised() { return this._superHyperInternalPropertyRaised; }\n    set raised(value: any) { this._superHyperInternalPropertyRaised = toBoolean(value); }\n\n    constructor(...args: any[]) { super(...args); }\n  };\n}\n","import { Constructor } from './constructor';\nimport { toBoolean } from '../minimal/is-boolean';\n\nexport interface CanOutlined {\n  outlined: boolean;\n  /**\n   * It is only used for common behavior, therefore, it should not be used for other purposes.\n   */\n  readonly _superHyperInternalPropertyOutlined: boolean;\n}\n\nexport function mixinOutlined<T extends Constructor>(base: T): Constructor<CanOutlined> & T {\n  return class extends base {\n    _superHyperInternalPropertyOutlined: boolean;\n\n    get outlined() { return this._superHyperInternalPropertyOutlined; }\n    set outlined(value: any) { this._superHyperInternalPropertyOutlined = toBoolean(value); }\n\n    constructor(...args: any[]) { super(...args); }\n  };\n}\n","import { Constructor } from './constructor';\n\nexport interface CanElevation {\n  elevation: number;\n  /**\n   * It is only used for common behavior, therefore, it should not be used for other purposes.\n   */\n  readonly _superHyperInternalPropertyElevation: number;\n}\n\nexport function mixinElevation<T extends Constructor>(base: T): Constructor<CanElevation> & T {\n  return class extends base {\n    _superHyperInternalPropertyElevation: number;\n\n    get elevation() { return this._superHyperInternalPropertyElevation; }\n    set elevation(value: any) { this._superHyperInternalPropertyElevation = value; }\n\n    constructor(...args: any[]) { super(...args); }\n  };\n}\n","import { Constructor } from './constructor';\nimport { Color } from '@alyle/ui/color';\n\nexport interface CanShadowColor {\n  shadowColor: string | number | Color;\n  /**\n   * It is only used for common behavior, therefore, it should not be used for other purposes.\n   */\n  readonly _superHyperInternalPropertyShadowColor: string | number | Color;\n}\n\nexport function mixinShadowColor<T extends Constructor>(base: T): Constructor<CanShadowColor> & T {\n  return class extends base {\n    _superHyperInternalPropertyShadowColor: string | number | Color;\n\n    get shadowColor(): string | number | Color { return this._superHyperInternalPropertyShadowColor; }\n    set shadowColor(value: string | number | Color) { this._superHyperInternalPropertyShadowColor = value; }\n\n    constructor(...args: any[]) { super(...args); }\n  };\n}\n","import { Directive, OnChanges, ElementRef, NgZone, OnDestroy, Input, OnInit, Renderer2 } from '@angular/core';\nimport { LyTheme2 } from './theme2.service';\nimport { mixinStyleUpdater, mixinBg, mixinRaised, mixinOutlined, mixinElevation, mixinShadowColor, mixinDisableRipple, mixinColor } from '../common/index';\nimport { toBoolean } from '../minimal/is-boolean';\nimport { Platform } from '@angular/cdk/platform';\n\nconst DEFAULT_BG = 'paper';\n\nexport class LyPaperBase {\n  constructor(\n    public _theme: LyTheme2,\n    public _ngZone: NgZone,\n    public _platform: Platform\n  ) { }\n}\n\nexport const LyPaperMixinBase = mixinStyleUpdater(\nmixinBg(\n  mixinColor(\n    mixinRaised(\n      mixinOutlined(\n        mixinElevation(\n          mixinShadowColor(\n            mixinDisableRipple(LyPaperBase))))))));\n\n@Directive({\n  selector: `ly-paper, [ly-paper], [ly-text]`,\n  inputs: [\n    'bg',\n    'color',\n    'raised',\n    'outlined',\n    'elevation',\n    'shadowColor',\n    'disableRipple'\n  ]\n})\nexport class LyPaper extends LyPaperMixinBase implements OnChanges, OnInit, OnDestroy {\n  _hasText: boolean;\n\n  @Input('ly-text')\n  set hasText(val: any) {\n    this._hasText = toBoolean(val);\n  }\n  get hasText() {\n    return this._hasText;\n  }\n\n  constructor(\n    theme: LyTheme2,\n    ngZone: NgZone,\n    private _el: ElementRef,\n    private _renderer: Renderer2,\n    platform: Platform\n  ) {\n    super(theme, ngZone, platform);\n    this.setAutoContrast();\n    this._triggerElement = this._el;\n    this._rippleContainer = this._el;\n  }\n\n  ngOnChanges() {\n    this.updateStyle(this._el);\n  }\n\n  ngOnInit() {\n    if (!this.bg && !this.hasText) {\n      this.bg = DEFAULT_BG;\n      this.updateStyle(this._el);\n      this._renderer.addClass(this._el.nativeElement, this._theme.addSimpleStyle(\n        'lyPaper',\n        ({\n          display: 'block'\n        })\n        ));\n    }\n  }\n\n  ngOnDestroy() {\n    this._removeRippleEvents();\n  }\n}\n","import { Directive, ElementRef, Input } from '@angular/core';\n\n@Directive({\n  selector: '[withClass]'\n})\nexport class LyWithClass {\n\n  @Input()\n  set withClass(val: string) {\n    if (!val) {\n      throw new Error(`'${val}' is not valid className`);\n    }\n    this.el.nativeElement.classList.add(val);\n  }\n  constructor(\n    private el: ElementRef\n  ) { }\n}\n","import { Injectable, ElementRef, Renderer2, Optional } from '@angular/core';\nimport { LyTheme2, ThemeRef } from '../theme/theme2.service';\nimport { StyleTemplate } from '../parse';\nimport { TypeStyle, LyStyles, LyClasses } from '../theme/style';\nimport { parseMediaQueriesFromString, parseMediaQueryFromString, MediaQueryArray } from '../style-utils';\n\n@Injectable()\nexport class StyleRenderer {\n  private readonly _set: Set<string> = new Set<string>();\n  private _nEl: HTMLElement;\n\n  constructor(\n    private _theme: LyTheme2,\n    @Optional() _el: ElementRef,\n    @Optional() private _renderer: Renderer2\n  ) {\n    if (_el) {\n      this._nEl = _el.nativeElement;\n      this._set = new Set<string>();\n    }\n  }\n\n  /**\n   * Build multiple styles and render them in the DOM.\n   * @param styles Styles\n   * @param applyRootClass If `applyToRoot` is `true` and the root property is defined,\n   * it will automatically be added to the component.\n   *\n   * e.g.\n   *\n   * ```ts\n   * const STYLES = () => ({\n   *   root: lyl `{...}`, // this class will be added to the root component\n   *   item: lyl `{...}`\n   * })\n   * ```\n   *\n   * Also accepts the name of a class.\n   *\n   * e.g.\n   *\n   * ```ts\n   * renderSheet(STYLES, 'item')\n   * ```\n   */\n  renderSheet<T>(styles: T & LyStyles, applyRootClass?: boolean | keyof LyClasses<T>): LyClasses<T> {\n    const classes = this._theme.renderStyleSheet(styles);\n    if (applyRootClass === true && (classes as any).root) {\n      this.addClass((classes as any).root);\n      return classes;\n    }\n    if (applyRootClass) {\n      const customClass = (classes as any)[applyRootClass];\n      if (customClass) {\n        this.addClass(customClass);\n      }\n    }\n    return classes;\n  }\n\n  add(\n    style: (theme: any, ref: ThemeRef) => StyleTemplate\n  ): string;\n  add(\n    style: (theme: any, ref: ThemeRef) => StyleTemplate,\n    priority: number\n  ): string;\n  add(\n    style: (theme: any, ref: ThemeRef) => StyleTemplate,\n    oldClass: string\n  ): string;\n  add(\n    id: string,\n    style: (theme: any, ref: ThemeRef) => StyleTemplate\n  ): string;\n\n  add(\n    style: (theme: any, ref: ThemeRef) => StyleTemplate,\n    priority: number,\n    oldClass: string | null\n  ): string;\n  add(\n    id: string,\n    style: (theme: any, ref: ThemeRef) => StyleTemplate,\n    priority: number\n  ): string;\n  add(\n    id: string,\n    style: (theme: any, ref: ThemeRef) => StyleTemplate,\n    oldClass: string | null\n  ): string;\n\n  add(\n    id: string,\n    style: (theme: any, ref: ThemeRef) => StyleTemplate,\n    priority: number,\n    oldClass: string | null\n  ): string;\n\n  /**\n   * Render style and apply class name to host Component or Directive,\n   * require provide `StyleRenderer` in your Component.\n   * e.g.\n   * @Component({\n   *   ...\n   *   providers: [ StyleRenderer ]\n   * })\n   */\n  add(\n    id: string | ((theme: any, ref: ThemeRef) => StyleTemplate),\n    style?: ((theme: any, ref: ThemeRef) => StyleTemplate) | number | string,\n    priority?: number | string | undefined | null,\n    oldClass?: string | undefined | null\n  ): string {\n    const args = arguments;\n    /** Class name or keyframe name */\n    let className: string | undefined;\n    let len = args.length;\n\n    // clean\n    if (len === 4 && args[3] == null) {\n      len -= 1;\n    }\n    if (len === 3 && args[2] == null) {\n      len -= 1;\n    }\n\n    if (len === 1) {\n      className = this._theme._createStyleContent2(id,\n        null,\n        null,\n        TypeStyle.LylStyle);\n    } else if (len === 2) {\n      if (typeof id === 'string') {\n        className = this._theme._createStyleContent2(style as (theme: any, ref: ThemeRef) => StyleTemplate,\n          id,\n          null,\n          TypeStyle.LylStyle);\n      } else if (typeof style === 'number') {\n        className = this._theme._createStyleContent2(id as (theme: any, ref: ThemeRef) => StyleTemplate,\n          null,\n          style,\n          TypeStyle.LylStyle);\n      } else {\n        className = this._theme._createStyleContent2(id as (theme: any, ref: ThemeRef) => StyleTemplate,\n          null,\n          null,\n          TypeStyle.LylStyle);\n        oldClass = style as string;\n      }\n    } else if (len === 3) {\n      if (typeof id === 'string') {\n        if (typeof priority === 'number') {\n          // (id, style, priority)\n          className = this._theme._createStyleContent2(style as (theme: any, ref: ThemeRef) => StyleTemplate,\n          id,\n          priority,\n          TypeStyle.LylStyle);\n        } else {\n          // (id, style, oldClass)\n          className = this._theme._createStyleContent2(style as (theme: any, ref: ThemeRef) => StyleTemplate,\n          id,\n          null,\n          TypeStyle.LylStyle);\n          oldClass = priority;\n        }\n      } else {\n        // (style, priority, oldClass)\n        className = this._theme._createStyleContent2(id as (theme: any, ref: ThemeRef) => StyleTemplate,\n          null,\n          style as number,\n          TypeStyle.LylStyle);\n        oldClass = priority as string;\n      }\n    } else if (len === 4) {\n      className = this._theme._createStyleContent2(style as (theme: any, ref: ThemeRef) => StyleTemplate,\n        id as string,\n        priority as number,\n        TypeStyle.LylStyle);\n    }\n    if (this._nEl) {\n      return this.updateClass(className!, oldClass);\n    }\n    throw new Error(\n      `StyleRenderer is required on the Component!\\n`\n      + `Add provider for StyleRenderer in Component or Directive:\\n\\n`\n      + `e.g:\\n\\n`\n      + `@Component({\\n`\n      + `  providers: [ StyleRenderer ]\\n`\n      + `})\\n`\n    );\n  }\n\n  render(\n    style: (theme: any, ref: ThemeRef) => StyleTemplate\n  ): string;\n  render(\n    style: (theme: any, ref: ThemeRef) => StyleTemplate,\n    priority: number\n  ): string;\n  render(\n    id: string,\n    style: (theme: any, ref: ThemeRef) => StyleTemplate\n  ): string;\n  render(\n    id: string,\n    style: (theme: any, ref: ThemeRef) => StyleTemplate,\n    priority: number\n  ): string;\n\n  /**\n   * Only render style and return class name.\n   */\n  render(\n    styleOrId: string | ((theme: any, ref: ThemeRef) => StyleTemplate),\n    priorityOrStyle?: ((theme: any, ref: ThemeRef) => StyleTemplate) | number | string,\n    priority?: number | undefined | null\n  ): string {\n    if (typeof styleOrId === 'string') {\n      return this._theme._createStyleContent2(priorityOrStyle as (theme: any, ref: ThemeRef) => StyleTemplate,\n        styleOrId,\n        priority,\n        TypeStyle.LylStyle);\n    }\n    return this._theme._createStyleContent2(styleOrId,\n      null,\n      priority,\n      TypeStyle.LylStyle);\n  }\n\n  addClass(className: string) {\n    if (!this._set.has(className)) {\n      this._set.add(className);\n      this._renderer.addClass(this._nEl, className);\n    }\n  }\n\n  removeClass(className?: string | null) {\n    if (className && this._set.has(className)) {\n      this._set.delete(className);\n      this._renderer.removeClass(this._nEl, className);\n    }\n  }\n\n  removeClasses(rawClassVal?: string[] | null | undefined) {\n    if (rawClassVal) {\n      rawClassVal.forEach(klass =>\n        this.removeClass(klass)\n      );\n    }\n  }\n\n  toggleClass(className: string, enabled: boolean) {\n    if (enabled) {\n      this.addClass(className);\n    } else {\n      this.removeClass(className);\n    }\n  }\n\n  updateClass(newClassName: string, oldClassName: string | null | undefined) {\n    this.removeClass(oldClassName);\n    this.addClass(newClassName);\n    return newClassName;\n  }\n\n}\n\nexport type InputStyle<INPUT, C = any> = (val: Exclude<NonNullable<INPUT>, MediaQueryArray>, media: string | null, comp: C) =>\n  (\n    ((theme: any, ref: ThemeRef) => StyleTemplate) | null\n  );\n\n/**\n * Parameter decorator to be used for create Dynamic style together with `@Input`\n * @param style style\n * @decorator\n */\nexport function Style<INPUT = any, C = any>(\n  style: InputStyle<INPUT, C>\n): (target: WithStyles, propertyKey: string, descriptor?: TypedPropertyDescriptor<INPUT> | undefined) => void;\n\n/**\n * Parameter decorator to be used for create Dynamic style together with `@Input`\n * @param style style\n * @decorator\n */\nexport function Style<INPUT = any, C = any>(\n  style: InputStyle<INPUT, C>,\n  priority: number\n): (target: WithStyles, propertyKey: string, descriptor?: TypedPropertyDescriptor<INPUT> | undefined) => void;\n\n/**\n * Parameter decorator to be used for create Dynamic style together with `@Input`\n * @param style style\n * @param priority priority of style, default: 0\n * @decorator\n */\nexport function Style<INPUT = any, C = any>(\n  style: InputStyle<INPUT, C>,\n  priority?: number\n) {\n\n  return function(target: WithStyles, propertyKey: string, descriptor?: TypedPropertyDescriptor<INPUT>) {\n    target.constructor[propertyKey] = style;\n    // const _propertyKeyClass = `_${propertyKey}Class`;\n    const _propertyKey = `_${propertyKey}`;\n    if (descriptor) {\n      const set = descriptor.set!;\n      descriptor.set = function(val: INPUT) {\n        createStyle(\n          this,\n          propertyKey,\n          val,\n          style,\n          priority\n        );\n        set.call(this, val);\n      };\n      if (!descriptor.get) {\n        descriptor.get = function() {\n          return this[_propertyKey];\n        };\n      }\n    } else {\n      Object.defineProperty(target, propertyKey, {\n        configurable: true,\n        enumerable: true,\n        set(val: INPUT) {\n          createStyle(\n            this,\n            propertyKey,\n            val,\n            style,\n            priority\n          );\n        },\n        get() {\n          return this[_propertyKey];\n        }\n      });\n    }\n  };\n}\n\n/**\n * Create a responsive style for component with a key\n * @param c The component\n * @param propertyKeyConfig Style key\n * @param value value\n * @param style style template\n * @param priority priority of style\n */\nexport function createStyle<INPUT, C>(\n  c: WithStyles,\n  propertyKeyConfig: string | StylePropertyKey,\n  value: INPUT,\n  style: InputStyle<INPUT, C>,\n  priority?: number\n) {\n  const propertyKey = typeof propertyKeyConfig === 'string' ? propertyKeyConfig : propertyKeyConfig.key;\n  const _propertyKeyClass = `_${propertyKey}Class`;\n  const _propertyKey = `_${propertyKey}`;\n  const oldValue = c[_propertyKey];\n  c[_propertyKey] = value;\n  if (value === null || value === undefined || (value as any) === false) {\n    // Remove classes\n    const classesForRemove: null | string[] = c[_propertyKeyClass];\n    if (classesForRemove && classesForRemove.length) {\n      classesForRemove.forEach((className: string) =>\n        c.sRenderer.removeClass(className)\n      );\n    }\n  } else if (typeof value === 'string') {\n    if (oldValue !== value) {\n      c.sRenderer.removeClasses(c[_propertyKeyClass]);\n      const values = parseMediaQueriesFromString(value);\n      for (let index = 0; index < values.length; index++) {\n        const valAndMediaKey = values[index];\n        parseMediaQueryFromString(valAndMediaKey).forEach((_) => {\n          _renderStyle(c, propertyKeyConfig, _[0], _[1], style, priority);\n        });\n      }\n    }\n  } else if (typeof value === 'number' || (value as any) === true) {\n    if (oldValue !== value) {\n      c.sRenderer.removeClasses(c[_propertyKeyClass]);\n      _renderStyle(c, propertyKeyConfig, value as any, null, style, priority);\n    }\n  } else if (oldValue !== `${value}`) {\n    c.sRenderer.removeClasses(c[_propertyKeyClass]);\n    // Is array\n    for (let index = 0; index < (value as any).length; index++) {\n      const val = value[index];\n      if (typeof val === 'number' || val === null || val === undefined) {\n        _renderStyle(c, propertyKeyConfig, val, null, style, priority);\n      } else if (typeof val === 'string') {\n        parseMediaQueryFromString(val).forEach((_) => {\n          _renderStyle(c, propertyKeyConfig, _[0], _[1], style, priority);\n        });\n      }\n    }\n  }\n}\n\nexport function _renderStyle<INPUT, C>(\n  c: WithStyles,\n  propertyKeyConfig: string | StylePropertyKey,\n  val: string | number,\n  media: string | null,\n  style: InputStyle<INPUT, C>,\n  priority?: number\n) {\n  const propertyKey = typeof propertyKeyConfig === 'string' ? propertyKeyConfig : propertyKeyConfig.key;\n  const _propertyKeyClass = `_${propertyKey}Class`;\n  const styleTemplate = style(val as any, media, c as any);\n  if (styleTemplate == null) {\n    // Remove classes\n    const classesForRemove: null | string[] = c[_propertyKeyClass];\n    if (classesForRemove && classesForRemove.length) {\n      classesForRemove.forEach((className: string) =>\n        c.sRenderer.removeClass(className)\n      );\n      c[_propertyKeyClass] = [];\n    }\n  } else {\n    if (c[_propertyKeyClass] === undefined) {\n      c[_propertyKeyClass] = [];\n    }\n    c[_propertyKeyClass].push(c.sRenderer.add(\n      `${typeof propertyKeyConfig === 'string' ? getComponentName(c) : propertyKeyConfig.и}--${propertyKey}-${media ? val + '_' + media : val}`,\n      styleTemplate,\n      getComponentPriority(c, priority),\n      c[_propertyKeyClass]\n    ));\n  }\n}\n\nexport interface StylePropertyKey {\n  и: string;\n  key: string;\n}\n\nexport interface WithStyles {\n  /** Style Priority, default: 0 */\n  readonly $priority?: number;\n  readonly sRenderer: StyleRenderer;\n}\n\nfunction getComponentName(comp: any) {\n  return comp.constructor.и || comp.constructor.name || 'unnamed';\n}\nfunction getComponentPriority(comp: any, priority?: number) {\n  return priority ?? comp.$priority ?? (comp.constructor as any).$priority ?? 0;\n}\n","import { Directive, ElementRef, SimpleChanges, OnChanges, isDevMode } from '@angular/core';\nimport {\n   } from '../parse';\nimport { StyleRenderer, Style, WithStyles, InputStyle } from '../minimal/renderer-style';\nimport { ThemeVariables } from './theme-config';\n\nconst STYLE_PRIORITY = -0.5;\n\n/**\n * @dynamic\n */\n@Directive({\n  selector: `[lyStyle],\n              [lyColor],\n              [lyP], [lyPf], [lyPe], [lyPt], [lyPb], [lyPx], [lyPy],\n              [lyM], [lyMf], [lyMe], [lyMt], [lyMb], [lyMx], [lyMy],\n              [lySize],\n              [lyWidth], [lyMaxWidth], [lyMinWidth],\n              [lyHeight], [lyMaxHeight], [lyMinHeight],\n              [lyDisplay],\n              [lyFlex],\n              [lyFlexBasis],\n              [lyFlexDirection],\n              [lyFlexGrow],\n              [lyFlexSelf],\n              [lyFlexShrink],\n              [lyFlexWrap],\n              [lyJustifyContent],\n              [lyJustifyItems],\n              [lyJustifySelf],\n              [lyAlignContent],\n              [lyAlignItems],\n              [lyOrder]`,\n  providers: [\n    StyleRenderer\n  ],\n  inputs: [\n    'lyStyle',\n    'color: lyColor',\n    'bg: lyBg',\n    'p: lyP', 'pf: lyPf', 'pe: lyPe', 'pt: lyPt', 'pb: lyPb', 'px: lyPx', 'py: lyPy',\n    'm: lyM', 'mf: lyMf', 'me: lyMe', 'mt: lyMt', 'mb: lyMb', 'mx: lyMx', 'my: lyMy',\n    'size: lySize',\n    'width: lyWidth', 'maxWidth: lyMaxWidth', 'minWidth: lyMinWidth',\n    'height: lyHeight', 'maxHeight: lyMaxHeight', 'minHeight: lyMinHeight',\n    'display: lyDisplay',\n    'flex: lyFlex',\n    'flexBasis: lyFlexBasis',\n    'flexDirection: lyFlexDirection',\n    'flexGrow: lyFlexGrow',\n    'flexSelf: lyFlexSelf',\n    'flexShrink: lyFlexShrink',\n    'flexWrap: lyFlexWrap',\n    'justifyContent: lyJustifyContent',\n    'justifyItems: lyJustifyItems',\n    'justifySelf: lyJustifySelf',\n    'alignContent: lyAlignContent',\n    'alignItems: lyAlignItems',\n    'order: lyOrder'\n  ]\n})\nexport class LyStyle implements WithStyles {\n\n  set size(value: string | number | null) {\n    this.width = value;\n    this.height = value;\n  }\n\n  constructor(\n    readonly sRenderer: StyleRenderer\n  ) { }\n  /** @docs-private */\n  static readonly и = 'LyStyle';\n  static readonly $priority = STYLE_PRIORITY;\n\n  static readonly with: InputStyle<string | number | null>;\n\n  @Style<string | null>(\n    (value) => (theme: ThemeVariables) => (\n      (className: string) => `${className}{color:${theme.colorOf(value)};}`\n    )\n  ) color: string | number | null;\n\n  @Style<string | null>(\n    (value) => (theme: ThemeVariables) => (\n      (className: string) => `${className}{background:${theme.colorOf(value)};}`\n    )\n  ) bg: string | number | null;\n\n  @Style<string | number | null>(\n    (value, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{padding:${to8Px(value)};}}`\n    )\n  ) p: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints, after}) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{padding-${after}:${to8Px(val)};}}`\n    )\n  ) pf: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints, before}) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{padding-${before}:${to8Px(val)};}}`\n    )\n  ) pe: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{padding-top:${to8Px(val)};}}`\n    )\n  ) pt: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{padding-bottom:${to8Px(val)};}}`\n    )\n  ) pb: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{padding:0 ${to8Px(val)};}}`\n    )\n  ) px: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{padding:${to8Px(val)} 0;}}`\n    )\n  ) py: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{margin:${to8Px(val)};}}`\n    )\n  ) m: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints, after}) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{margin-${after}:${to8Px(val)};}}`\n    )\n  ) mf: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints, before}) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{margin-${before}:${to8Px(val)};}}`\n    )\n  ) me: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{margin-top:${to8Px(val)};}}`\n    )\n  ) mt: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n          (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{margin-bottom:${to8Px(val)};}}`\n        )\n  ) mb: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n          (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{margin:0 ${to8Px(val)};}}`\n        )\n  ) mx: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n          (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{margin:${to8Px(val)} 0;}}`\n        )\n  ) my: string | number | null;\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{width:${transform(val)};}}`\n    )\n  ) width: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{max-width:${transform(val)};}}`\n    )\n  ) maxWidth: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{min-width:${transform(val)};}}`\n    )\n  ) minWidth: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{height:${transform(val)};}}`\n    )\n  ) height: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{max-height:${transform(val)};}}`\n    )\n  ) maxHeight: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{min-height:${transform(val)};}}`\n    )\n  ) minHeight: string | number | null;\n\n  @Style<string | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{display:${val};}}`\n    )\n  ) display: string | null;\n\n\n  // Flexbox\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{flex:${val};}}`\n    )\n  ) flex: string | number | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{flex-basis:${val};}}`\n    )\n  ) flexBasis: string | number | null;\n\n  @Style<string | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{flex-direction:${val};}}`\n    )\n  ) flexDirection: string | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{flex-grow:${val};}}`\n    )\n  ) flexGrow: string | number | null;\n\n  @Style<string | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{flex-self:${val};}}`\n    )\n  ) flexSelf: string | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{flex-shrink:${val};}}`\n    )\n  ) flexShrink: string | number | null;\n\n  @Style<string | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{flex-wrap:${val};}}`\n    )\n  ) flexWrap: string | null;\n\n  @Style<string | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{justify-content:${val};}}`\n    )\n  ) justifyContent: string | null;\n\n  @Style<string | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{justify-items:${val};}}`\n    )\n  ) justifyItems: string | null;\n\n  @Style<string | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{justify-self:${val};}}`\n    )\n  ) justifySelf: string | null;\n\n  @Style<string | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{align-content:${val};}}`\n    )\n  ) alignContent: string | null;\n\n  @Style<string | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{align-items:${val};}}`\n    )\n  ) alignItems: string | null;\n\n  @Style<string | number | null>(\n    (val, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && breakpoints[media]) || 'all'}{${className}{order:${val};}}`\n    )\n  ) order: string | number | null;\n\n  @Style<string | number | null>(\n    (value, media) => ({breakpoints}: ThemeVariables) => (\n      (className: string) => `@media ${(media && (breakpoints[media] || media)) || 'all'}{${className}{${value};}}`\n    )\n  )\n  lyStyle: string | null;\n}\n\n/**\n * @dynamic\n * @deprecated\n * Spacing\n * [p], [pf], [pe], [pt], [pb], [px], [py],\n * [m], [mf], [me], [mt], [mb], [mx], [my],\n * Sizing\n * [size],\n * [width], [maxWidth], [minWidth],\n * [height], [maxHeight], [minHeight],\n * Others\n * [lyStyle]\n */\n@Directive({\n  selector: `\n              [p], [pf], [pe], [pt], [pb], [px], [py],\n              [m], [mf], [me], [mt], [mb], [mx], [my],\n              [size]:not([ly-button]),\n              [width]:not(svg):not(canvas):not(embed):not(iframe):not(img):not(input):not(object):not(video),\n              [maxWidth], [minWidth],\n              [height]:not(svg):not(canvas):not(embed):not(iframe):not(img):not(input):not(object):not(video),\n              [maxHeight], [minHeight],\n              [display],\n              [flex],\n              [flexBasis],\n              [flexDirection],\n              [flexGrow],\n              [flexSelf],\n              [flexShrink],\n              [flexWrap],\n              [justifyContent],\n              [justifyItems],\n              [justifySelf],\n              [alignContent],\n              [alignItems],\n              [order]`,\n  providers: [\n    StyleRenderer\n  ],\n  inputs: [\n    'p', 'pf', 'pe', 'pt', 'pb', 'px', 'py',\n    'm', 'mf', 'me', 'mt', 'mb', 'mx', 'my',\n    'size',\n    'width', 'maxWidth', 'minWidth',\n    'height', 'maxHeight', 'minHeight',\n    'display',\n    'flex',\n    'flexBasis',\n    'flexDirection',\n    'flexGrow',\n    'flexSelf',\n    'flexShrink',\n    'flexWrap',\n    'justifyContent',\n    'justifyItems',\n    'justifySelf',\n    'alignContent',\n    'alignItems',\n    'order',\n  ]\n})\nexport class LyStyleDeprecated extends LyStyle implements OnChanges {\n  constructor(\n    sRenderer: StyleRenderer,\n    private _el: ElementRef\n  ) {\n    super(sRenderer);\n  }\n  ngOnChanges(changes: SimpleChanges) {\n    if (isDevMode()) {\n      for (const key in changes) {\n        if (changes.hasOwnProperty(key)) {\n          const message = `[${key}] is deprecated, use [ly${key.charAt(0).toUpperCase() + key.slice(1)}] instead.`;\n          console.warn({\n            message,\n            element: this._el.nativeElement\n          });\n        }\n      }\n    }\n  }\n}\n\n/**\n * Convert to px if the value is a number, otherwise leave it as is\n * @docs-private\n */\nfunction to8Px(val: number | string) {\n  return typeof val === 'number'\n    ? `${val * 8}px`\n    : val.includes(' ')\n      ? val.split(' ').map(_ => strTo8Px(_)).join(' ')\n      : strTo8Px(val);\n}\n\nfunction strTo8Px(val: string) {\n  const num = +val;\n  return isNaN(num) ? val : `${num * 8}px`;\n}\n\nfunction strToPx(val: string) {\n  const num = +val;\n  return isNaN(num) ? val : `${num}px`;\n}\n\nfunction transform(value: number | string) {\n  return value <= 1\n    ? `${value as number * 100}%`\n    : typeof value === 'number'\n      ? `${value}px`\n      : value.includes(' ')\n        ? value.split(' ').map(_ => strToPx(_)).join(' ')\n        : strToPx(value);\n}\n","import { NgModule } from '@angular/core';\n\nimport { LyPaper } from './paper';\nimport { LyWithClass } from './with-class.directive';\nimport { LyStyle, LyStyleDeprecated } from './style.directive';\n\n@NgModule({\n  declarations: [LyStyle, LyWithClass, LyPaper],\n  exports: [LyStyle, LyWithClass, LyPaper]\n})\nexport class LyCommonModule { }\n\n/**\n * @deprecated\n */\n@NgModule({\n  exports: [LyStyleDeprecated],\n  declarations: [LyStyleDeprecated]\n})\nexport class LyStyleDeprecatedModule { }\n\n","/**\n * @experimental\n * Element to move, time in ms to animate\n */\nexport function scrollTo(element: HTMLElement, duration: number) {\n  let e = document.documentElement;\n  if (e.scrollTop === 0) {\n    const t = e.scrollTop;\n    ++e.scrollTop;\n    e = t + 1 === e.scrollTop-- ? e : document.body;\n  }\n  scrollToFromTo(e, e.scrollTop, element, duration);\n}\n\n// Element to move, element or px from, element or px to, time in ms to animate\nfunction scrollToFromTo(element: HTMLElement, from: any, to: number | HTMLElement, duration: number) {\n  if (duration <= 0) { return; }\n  if (typeof from === 'object') { from = from.offsetTop; }\n  if (typeof to === 'object') { to = to.offsetTop; }\n\n  createScrollWithAnimation(element, from, to, 0, 1 / duration, 20, easeOutCuaic);\n}\n\n/**\n * @experimental\n */\nexport function scrollWithAnimation(\n  element: HTMLElement,\n  to: number,\n  duration: number,\n  p?: 'x' | 'y',\n  motion?: (t: number) => number\n) {\n  const _motion = motion || easeOutCuaic;\n  const { scrollLeft } = element;\n  return createScrollWithAnimation(element, scrollLeft, to, 0, 1 / duration, 20, _motion, p);\n}\n\nfunction createScrollWithAnimation(\n  element: HTMLElement,\n  xFrom: number,\n  xTo: number,\n  t01: number,\n  speed: number,\n  step: number,\n  motion: (t: number) => number,\n  p?: 'x' | 'y'\n) {\n  const scrollT = p === 'y' ? 'scrollTop' : 'scrollLeft';\n  if (t01 < 0 || t01 > 1 || speed <= 0) {\n    element[ scrollT ] = xTo;\n    return;\n  }\n  element[ scrollT ] = xFrom - (xFrom - xTo) * motion(t01);\n  t01 += speed * step;\n\n  setTimeout(() => {\n    createScrollWithAnimation(element, xFrom, xTo, t01, speed, step, motion, p);\n  }, step);\n}\n\n\n// function linearTween(t: number) {\n//   return t;\n// }\n\n// function easeInQuad(t: number) {\n//   return t * t;\n// }\n\n// function easeOutQuad(t: number) {\n//   return -t * (t - 2);\n// }\n\n// function easeInOutQuad(t: number) {\n//   t /= 0.5;\n//   if (t < 1) {return t * t / 2; }\n//   t--;\n//   return (t * (t - 2) - 1) / 2;\n// }\n\n// function easeInCuaic(t: number) {\n//   return t * t * t;\n// }\n\nfunction easeOutCuaic(t: number) {\n  t--;\n  return t * t * t + 1;\n}\n\n// function easeInOutCuaic(t: number) {\n//   t /= 0.5;\n//   if (t < 1) {return t * t * t / 2; }\n//   t -= 2;\n//   return (t * t * t + 2) / 2;\n// }\n\n// function easeInQuart(t: number) {\n//   return t * t * t * t;\n// }\n\n// function easeOutQuart(t: number) {\n//   t--;\n//   return -(t * t * t * t - 1);\n// }\n\n// function easeInOutQuart(t: number) {\n//   t /= 0.5;\n//   if (t < 1) {return 0.5 * t * t * t * t; }\n//   t -= 2;\n//   return -(t * t * t * t - 2) / 2;\n// }\n\n// function easeInQuint(t: number) {\n//   return t * t * t * t * t;\n// }\n\n// function easeOutQuint(t: number) {\n//   t--;\n//   return t * t * t * t * t + 1;\n// }\n\n// function easeInOutQuint(t: number) {\n//   t /= 0.5;\n//   if (t < 1) {return t * t * t * t * t / 2; }\n//   t -= 2;\n//   return (t * t * t * t * t + 2) / 2;\n// }\n\n// function easeInSine(t: number) {\n//   return -Math.cos(t / (Math.PI / 2)) + 1;\n// }\n\n// function easeOutSine(t: number) {\n//   return Math.sin(t / (Math.PI / 2));\n// }\n\n// function easeInOutSine(t: number) {\n//   return -(Math.cos(Math.PI * t) - 1) / 2;\n// }\n\n// function easeInExpo(t: number) {\n//   return Math.pow(2, 10 * (t - 1));\n// }\n\n// function easeOutExpo(t: number) {\n//   return -Math.pow(2, -10 * t) + 1;\n// }\n\n// function easeInOutExpo(t: number) {\n//   t /= 0.5;\n//   if (t < 1) {return Math.pow(2, 10 * (t - 1)) / 2; }\n//   t--;\n//   return (-Math.pow(2, -10 * t) + 2) / 2;\n// }\n\n// function easeInCirc(t: number) {\n//   return -Math.sqrt(1 - t * t) - 1;\n// }\n\n// function easeOutCirc(t: number) {\n//   t--;\n//   return Math.sqrt(1 - t * t);\n// }\n\n// function easeInOutCirc(t: number) {\n//   t /= 0.5;\n//   if (t < 1) {return -(Math.sqrt(1 - t * t) - 1) / 2; }\n//   t -= 2;\n//   return (Math.sqrt(1 - t * t) + 1) / 2;\n// }\n","import { ElementRef, NgZone, Injectable, OnDestroy } from '@angular/core';\nimport { supportsPassiveEventListeners } from '../platform/index';\nimport { Observable, Subject } from 'rxjs';\nimport { getNativeElement } from '../minimal/common';\nimport { Platform } from '@angular/cdk/platform';\n\nexport enum FocusStatus {\n  /**mouse and/or touch*/\n  DEFAULT = 'default',\n  /** keyboard and/or program*/\n  KEYBOARD = 'keyboard',\n}\n\nexport interface FocusStateInfo {\n  unlisten: () => void;\n  subject: Subject<FocusState>;\n}\n\nexport type FocusState = 'keyboard' | 'mouse' | null;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LyFocusState implements OnDestroy {\n  private _elementMap = new Map<HTMLElement, FocusStateInfo>();\n  private _currentEvent: FocusState;\n  private _removeGlobalListeners: () => void;\n  private _count = 0;\n\n  constructor(\n    private _ngZone: NgZone,\n    private _platform: Platform\n  ) { }\n\n  listen(element: HTMLElement | ElementRef<HTMLElement>, keyElement?: HTMLElement | ElementRef<HTMLElement>): Observable<FocusState> | null {\n    if (!this._platform.isBrowser) {\n      // return null if it is not browser platform\n      return null;\n    }\n\n    const nativeElement = getNativeElement(element);\n    const key = keyElement && getNativeElement(keyElement) || nativeElement;\n\n    if (this._elementMap.has(key)) {\n      return this._elementMap.get(key)!.subject.asObservable();\n    }\n\n    const focusState: FocusStateInfo = {\n      unlisten: null as any,\n      subject: new Subject<FocusState>()\n    };\n    this._incrementCount();\n    const focusListener = (event: FocusEvent) => this._on(event, focusState.subject);\n    const blurListener = (event: FocusEvent) => this._on(event, focusState.subject);\n\n    focusState.unlisten = () => {\n      nativeElement.removeEventListener('focus', focusListener, true);\n      nativeElement.removeEventListener('blur', blurListener, true);\n    };\n\n    this._elementMap.set(key, focusState);\n\n    this._ngZone.runOutsideAngular(() => {\n      nativeElement.addEventListener('focus', focusListener, true);\n      nativeElement.addEventListener('blur', blurListener, true);\n    });\n    return focusState.subject.asObservable();\n  }\n\n  focusElement(element: HTMLElement | ElementRef<HTMLElement>, origin: FocusState, options: FocusOptions) {\n    const nativeElement = getNativeElement(element);\n\n    this._currentEvent = origin;\n\n    if (typeof nativeElement.focus === 'function') {\n      nativeElement.focus(options);\n    }\n  }\n\n  unlisten(element: HTMLElement | ElementRef<HTMLElement>) {\n    if (!this._platform.isBrowser) {\n      return;\n    }\n    const el = getNativeElement(element);\n    const focusStateInfo = this._elementMap.get(el);\n    if (focusStateInfo) {\n      focusStateInfo.unlisten();\n      this._elementMap.delete(el);\n      this._decrementCount();\n    }\n  }\n\n  private _on(event: FocusEvent, subject: Subject<FocusState>) {\n    let by: FocusState = null;\n    if (event.type === 'focus') {\n      by = this._currentEvent || 'keyboard';\n    }\n    this._ngZone.run(() => subject.next(by));\n  }\n\n  private _addGlobalListeners() {\n    if (!this._platform.isBrowser) {\n      return;\n    }\n\n    const eventListenerOptions = supportsPassiveEventListeners()\n    ? {\n      passive: true,\n      capture: true\n    } : false;\n\n    const documentKeydownListener = () => this._ngZone.runOutsideAngular(() => this._currentEvent = 'keyboard');\n    const documentMousedownListener = () => this._ngZone.runOutsideAngular(() => this._currentEvent = 'mouse');\n\n    this._ngZone.runOutsideAngular(() => {\n      document.addEventListener('keydown', documentKeydownListener, eventListenerOptions);\n      document.addEventListener('mousedown', documentMousedownListener, eventListenerOptions);\n    });\n    this._removeGlobalListeners = () => {\n      document.removeEventListener('keydown', documentKeydownListener, eventListenerOptions);\n      document.removeEventListener('mousedown', documentMousedownListener, eventListenerOptions);\n    };\n  }\n\n  private _incrementCount() {\n    if (++this._count === 1) {\n      this._addGlobalListeners();\n    }\n  }\n\n  private _decrementCount() {\n    if (!--this._count) {\n      this._removeGlobalListeners();\n    }\n  }\n\n  ngOnDestroy() {\n    this._elementMap.forEach((_, element) => this.unlisten(element));\n  }\n}\n","import { Injectable, ElementRef, Renderer2 } from '@angular/core';\n\n\n@Injectable()\nexport class LyHostClass {\n  private readonly _set = new Set<string>();\n  private _nEl: HTMLElement;\n\n  constructor(\n    _el: ElementRef,\n    private _renderer: Renderer2\n  ) {\n    this._nEl = _el.nativeElement;\n    console.log(`LyHostClass: Deprecated use instead StyleRenderer`);\n  }\n\n  add(className: string) {\n    if (!this._set.has(className)) {\n      this._set.add(className);\n      this._renderer.addClass(this._nEl, className);\n    }\n  }\n\n  remove(className?: string | null) {\n    if (className && this._set.has(className)) {\n      this._set.delete(className);\n      this._renderer.removeClass(this._nEl, className);\n    }\n  }\n\n  toggle(className: string, enabled: boolean) {\n    if (enabled) {\n      this.add(className);\n    } else {\n      this.remove(className);\n    }\n  }\n\n  update(newClassName: string, oldClassName: string | null | undefined) {\n    this.remove(oldClassName);\n    this.add(newClassName);\n    return newClassName;\n  }\n}\n\n","import { Injectable, InjectionToken, Optional, Inject } from '@angular/core';\nimport { HammerGestureConfig } from '@angular/platform-browser';\nimport { HammerOptions, HammerInstance } from './gesture-annotations';\n\nexport const LY_HAMMER_OPTIONS = new InjectionToken<HammerOptions>('LY_HAMMER_OPTIONS');\n\nconst HAMMER_GESTURES_EVENTS = [\n  'slide',\n  'slidestart',\n  'slideend',\n  'slideright',\n  'slideleft',\n  'slidecancel'\n];\n\n/**\n * Fake HammerInstance that is used when a Hammer instance is requested when HammerJS has not\n * been loaded on the page.\n */\nconst noopHammerInstance: HammerInstance = {\n  on: () => {},\n  off: () => {},\n};\n\n@Injectable()\nexport class LyHammerGestureConfig extends HammerGestureConfig {\n  events: string[] = HAMMER_GESTURES_EVENTS;\n  constructor(\n    @Optional() @Inject(LY_HAMMER_OPTIONS) private _hammerOptions: HammerOptions\n  ) {\n    super();\n  }\n  buildHammer(element: HTMLElement): HammerInstance {\n    const hammer = typeof window !== 'undefined' ? (window as any).Hammer : null;\n\n    if (!hammer) {\n      return noopHammerInstance;\n    }\n\n    const mc = new hammer(element, this._hammerOptions || {});\n\n    const pan = new hammer.Pan();\n    const swipe = new hammer.Swipe();\n    const slide = this._createRecognizer(pan, {event: 'slide', threshold: 0}, swipe);\n\n    pan.recognizeWith(swipe);\n\n    // Add customized gestures to Hammer manager\n    mc.add([swipe, pan, slide]);\n    return mc;\n  }\n\n  /** Creates a new recognizer, without affecting the default recognizers of HammerJS */\n  private _createRecognizer(base: any, options: any, ...inheritances: any[]) {\n    const recognizer = new (base.constructor)(options);\n\n    inheritances.push(base);\n    inheritances.forEach(item => recognizer.recognizeWith(item));\n\n    return recognizer;\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { LyTheme2 } from './theme/theme2.service';\nimport { LY_THEME_NAME } from './theme/theme-config';\nimport { StyleRenderer } from './minimal/renderer-style';\n\n@NgModule()\nexport class LyThemeModule {\n  static setTheme(themeName: string): ModuleWithProviders<LyThemeModule> {\n    return {\n      ngModule: LyThemeModule,\n      providers: [\n        [ LyTheme2 ],\n        [ StyleRenderer ],\n        { provide: LY_THEME_NAME, useValue: themeName }\n      ]\n    };\n  }\n}\n","export class Undefined {\n  constructor() { }\n}\n\nexport const UndefinedValue = new Undefined();\n","import { ComponentRef } from '@angular/core';\n\n// @Injectable()\nexport class LyOverlayRef<T = any> {\n  containerElement: HTMLDivElement;\n  componentRef: ComponentRef<T> | null;\n\n  /** Function that will be called on scroll or resize event */\n  onResizeScroll: (() => void) | null;\n\n  /** Detaches a view from dirty checking again of ApplicationRef. */\n  readonly detach: () => void;\n\n  /** Remove element of DOM */\n  remove: () => void;\n\n  /** Detach & remove */\n  destroy: () => void;\n}\n","import { Injectable } from '@angular/core';\nimport { LyTheme2 } from '../theme/theme2.service';\nimport { ThemeVariables } from '../theme/theme-config';\nimport { Platform } from '@angular/cdk/platform';\n\nconst styles = (theme: ThemeVariables) => ({\n  overlay: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: theme.zIndex.overlay,\n    pointerEvents: 'none'\n  }\n});\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LyOverlayContainer {\n  private _classes = this.theme.addStyleSheet(styles);\n  protected readonly _containerElement: HTMLElement;\n  private _items = new Set<any>();\n  get overlayLen() {\n    return this._items.size;\n  }\n  private _isActiveOverlayContainer: boolean;\n  constructor(\n    private theme: LyTheme2,\n    private _platform: Platform\n  ) {\n    if (this._platform.isBrowser) {\n      const container = document.createElement('ly-overlay-container');\n      document.body.appendChild(container);\n      this._containerElement = container;\n    }\n  }\n  get containerElement(): HTMLElement {\n    return this._containerElement;\n  }\n\n  /**\n   * Add instance\n   * @ignore\n   */\n  _add(item: Element, elementAfter?: Element) {\n    this._items.add(item);\n    if (elementAfter?.parentElement && item.parentElement === elementAfter.parentElement) {\n      this.containerElement.insertBefore(item, elementAfter);\n    } else {\n      this.containerElement.appendChild(item);\n    }\n    this._update();\n  }\n\n    /**\n   * Remove instance\n   * @ignore\n   */\n  _remove(item) {\n    this.containerElement.removeChild(item);\n    this._items.delete(item);\n    this._update();\n  }\n\n  /**\n   * Update styles for overlay container\n   * @ignore\n   */\n  private _update() {\n    if (this._items.size) {\n      if (!this._isActiveOverlayContainer) {\n        this._isActiveOverlayContainer = true;\n        this._containerElement.classList.add(this._classes.overlay);\n      }\n    } else if (this._isActiveOverlayContainer) {\n      this._containerElement.classList.remove(this._classes.overlay);\n      this._isActiveOverlayContainer = false;\n    }\n  }\n}\n","import { Injector } from '@angular/core';\n\nexport class LyOverlayConfig {\n  /** Styles for overlay container */\n  styles?: Object;\n  classes?: string[];\n  hasBackdrop?: boolean = true;\n  backdropClass?: string;\n  fnDestroy?: (...arg: any) => void;\n  /** Function that will be called on scroll or resize event */\n  onResizeScroll?: (() => void);\n  /**\n   * Whether the user can click on the backdrop to close the overlay.\n   */\n  disableClose?: boolean = false;\n  injector?: Injector;\n}\n","import { Component, HostListener, ElementRef } from '@angular/core';\nimport { LyTheme2 } from '../theme/theme2.service';\nimport { LyOverlayConfig } from './overlay-config';\nimport { LY_COMMON_STYLES } from '../styles/core-styles';\nimport { StyleRenderer } from '../minimal/renderer-style';\nimport {\n  st2c } from '../parse';\n\nconst STYLE_PRIORITY = -2;\nexport const STYLES_BACKDROP_ROOT = () => (className: string) => `${st2c((LY_COMMON_STYLES.fill), `${className}`)}${className}{width:100vw;height:100vh;pointer-events:all;user-select:none;}`;\n\n@Component({\n  selector: 'ly-overlay-backdrop',\n  template: ``,\n  providers: [\n    StyleRenderer\n  ]\n})\nexport class LyOverlayBackdrop {\n  @HostListener('click') onclick() {\n    if (!this._config.disableClose) {\n      this._config.fnDestroy!();\n    }\n  }\n  constructor(\n    private _el: ElementRef<HTMLElement>,\n    _theme: LyTheme2,\n    readonly sRenderer: StyleRenderer,\n    private _config: LyOverlayConfig\n  ) {\n    _el.nativeElement.classList.add(sRenderer.add(STYLES_BACKDROP_ROOT, STYLE_PRIORITY));\n\n    // this applies custom class for backdrop,\n    // if one is not defined, do nothing.\n    const backdropClass = _config.backdropClass;\n    if (backdropClass) {\n      this._el.nativeElement.classList.add(backdropClass);\n    }\n  }\n}\n","import { Injector } from '@angular/core';\nimport { LyOverlayRef } from './overlay-ref';\nimport { LyOverlayConfig } from './overlay-config';\n\nexport function createOverlayInjector(parent: Injector, config: LyOverlayConfig, overlayFactory: any) {\n  return Injector.create({\n    providers: [\n      {\n        provide: LyOverlayConfig,\n        useValue:  config\n      },\n      {\n        provide: LyOverlayRef,\n        useValue:  overlayFactory\n      }\n    ],\n    parent\n  });\n}\n","import { EmbeddedViewRef, ComponentRef, ComponentFactoryResolver, ApplicationRef, TemplateRef, Injector, Type } from '@angular/core';\nimport { Subscription, merge } from 'rxjs';\nimport { LyOverlayConfig } from './overlay-config';\nimport { LyOverlayBackdrop } from './overlay-backdrop';\nimport { LyOverlayContainer } from './overlay-container';\nimport { createOverlayInjector } from './overlay-injector';\nimport { ScrollDispatcher, ViewportRuler } from '@angular/cdk/scrolling';\n\nexport class OverlayFactory<T = any> {\n  private _viewRef: EmbeddedViewRef<any>;\n  private _el?: HTMLDivElement;\n  private _backdropElement?: Element;\n  private _compRef: ComponentRef<T> | null;\n  private _compRefOverlayBackdrop?: ComponentRef<any> | null;\n  private _windowSRSub: Subscription = Subscription.EMPTY;\n\n  private _newInjector: Injector;\n  /** Function that will be called on scroll or resize event */\n  onResizeScroll: (() => void) | null;\n\n  get injector(): Injector | undefined {\n    return this._newInjector;\n  }\n\n  get containerElement() {\n    return this._el as HTMLDivElement;\n  }\n  get componentRef() {\n    return this._compRef;\n  }\n  constructor(\n    private _componentFactoryResolver: ComponentFactoryResolver,\n    private _appRef: ApplicationRef,\n    _templateRefOrComponent: TemplateRef<any> | Type<T> | string,\n    private _overlayContainer: LyOverlayContainer,\n    _context: any,\n    private _injector: Injector,\n    _scrollDispatcher: ScrollDispatcher,\n    _viewportRuler: ViewportRuler,\n    _config?: LyOverlayConfig\n  ) {\n    const config = { ...new LyOverlayConfig(), ..._config };\n    this._el = document.createElement('div');\n    const __styles = {\n      position: 'absolute',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      pointerEvents: 'all'\n    };\n    if (config) {\n      Object.assign(__styles, config.styles);\n    }\n\n    const newInjector = this._newInjector = createOverlayInjector(config.injector || this._injector, {\n      fnDestroy: this.destroy.bind(this),\n        ...config,\n        styles: __styles,\n      }, this);\n\n    this._updateStyles(__styles);\n    if (config) {\n      if (config.onResizeScroll) {\n        this.onResizeScroll = config.onResizeScroll;\n      }\n\n      this._windowSRSub = merge(_scrollDispatcher.scrolled(0), _viewportRuler.change()).subscribe(() => {\n        if (this.onResizeScroll) {\n          this.onResizeScroll();\n        }\n      });\n\n      if (config.classes) {\n        const classes = config.classes;\n        classes.forEach((className) => (this._el as HTMLDivElement).classList.add(className));\n      }\n    }\n    this.updateBackdrop(!!config.hasBackdrop);\n    this._appendComponentToBody(_templateRefOrComponent, _context, newInjector);\n    this._updateBackdropPosition();\n\n  }\n\n  updateBackdrop(hasBackdrop: boolean) {\n    if (hasBackdrop) {\n      if (this._compRefOverlayBackdrop) {\n        return;\n      }\n      this._compRefOverlayBackdrop = this._generateComponent(LyOverlayBackdrop, this._newInjector);\n      this._appRef.attachView(this._compRefOverlayBackdrop.hostView);\n      this._backdropElement = this._compRefOverlayBackdrop.location.nativeElement;\n      this._overlayContainer._add(this._backdropElement!);\n    } else if (this._compRefOverlayBackdrop) {\n      this._appRef.detachView(this._compRefOverlayBackdrop.hostView);\n      this._backdropElement = this._compRefOverlayBackdrop.location.nativeElement;\n      this._overlayContainer._remove(this._backdropElement);\n      this._compRefOverlayBackdrop = null;\n    }\n    this._updateBackdropPosition();\n  }\n\n  private _updateStyles(__styles: object) {\n    /** Apply styles */\n    /** set styles */\n    for (const key in __styles) {\n      if (__styles.hasOwnProperty(key)) {\n        const styleVal = __styles[key];\n        if (styleVal != null) {\n          this._el!.style[key] = typeof __styles[key] === 'number' ? `${styleVal}px` : styleVal;\n        }\n      }\n    }\n  }\n\n  private _appendComponentToBody(type: TemplateRef<any> | Type<any> | string, context, injector: Injector) {\n    if (type instanceof TemplateRef) {\n      // Create a component reference from the component\n      const viewRef = this._viewRef = type.createEmbeddedView(context || {});\n      this._appRef.attachView(viewRef);\n\n      // Get DOM element from component\n      viewRef.rootNodes.forEach(_ => this._el!.appendChild(_));\n\n      // Append DOM element to the body\n      this._overlayContainer._add(this._el!);\n    } else if (typeof type === 'string') {\n      this._el!.innerText = type;\n      this._overlayContainer._add(this._el!);\n    } else {\n      this._compRef = this._generateComponent(type, injector);\n      this._appRef.attachView(this._compRef.hostView);\n      this._el!.appendChild(this._compRef.location.nativeElement);\n      this._overlayContainer._add(this._el!);\n    }\n  }\n\n  private _updateBackdropPosition() {\n    const container = this._overlayContainer.containerElement;\n    if (\n      this._backdropElement?.parentElement === container\n      && this._el?.parentElement === container\n    ) {\n      this._overlayContainer.containerElement.insertBefore(this._backdropElement, this._el);\n    }\n  }\n\n  private _generateComponent(type: Type<any>, injector: Injector) {\n    const factory = this._componentFactoryResolver.resolveComponentFactory(type);\n    return factory.create(injector);\n  }\n\n  /** Detaches a view from dirty checking again of ApplicationRef. */\n  detach() {\n    if (this._viewRef) {\n      this._appRef.detachView(this._viewRef);\n    }\n    if (this._compRef) {\n      this._appRef.detachView(this._compRef.hostView);\n    }\n  }\n\n  /** Remove element of DOM */\n  remove() {\n    if (this._viewRef) {\n      this._viewRef.destroy();\n      this._overlayContainer._remove(this._el);\n      this._el = undefined;\n    } else if (this._compRef) {\n      this._compRef.destroy();\n      this._overlayContainer._remove(this._el);\n      this._el = undefined;\n      this._compRef = null;\n    } else if (this._el) {\n      // remove if template is string\n      this._overlayContainer._remove(this._el);\n      this._el = undefined;\n    }\n    this.updateBackdrop(false);\n    this._windowSRSub.unsubscribe();\n  }\n\n  /** Detach & remove */\n  destroy() {\n    this.detach();\n    this.remove();\n  }\n}\n","import { TemplateRef, Injectable, ApplicationRef, ComponentFactoryResolver, Injector, Type } from '@angular/core';\nimport { LyOverlayContainer } from './overlay-container';\nimport { OverlayFactory } from './overlay-factory';\nimport { LyOverlayConfig } from './overlay-config';\nimport { ScrollDispatcher, ViewportRuler } from '@angular/cdk/scrolling';\n\n@Injectable()\nexport class LyOverlay {\n\n  constructor(\n    private _overlayContainer: LyOverlayContainer,\n    private _componentFactoryResolver: ComponentFactoryResolver,\n    private _appRef: ApplicationRef,\n    private _injector: Injector,\n    private _scrollDispatcher: ScrollDispatcher,\n    private _viewportRuler: ViewportRuler\n  ) { }\n\n  create<T>(templateOrComponent: Type<T> | TemplateRef<any> | string, context?: any, config?: LyOverlayConfig) {\n    return new OverlayFactory<T>(\n      this._componentFactoryResolver,\n      this._appRef,\n      templateOrComponent,\n      this._overlayContainer,\n      context,\n      this._injector,\n      this._scrollDispatcher,\n      this._viewportRuler,\n      config\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { LyOverlayBackdrop } from './overlay-backdrop';\nimport { LyOverlay } from './overlay';\n\n@NgModule({\n  declarations: [LyOverlayBackdrop],\n  entryComponents: [LyOverlayBackdrop],\n  providers: [\n    LyOverlay\n  ]\n})\nexport class LyOverlayModule { }\n","import { Injectable, ElementRef, OnDestroy } from '@angular/core';\n\nconst MUTATION_OBSERVER_INIT = {\n  characterData: true,\n  childList: true,\n  subtree: true\n};\n\n@Injectable({providedIn: 'root'})\nexport class MutationObserverFactory {\n  create(callback: MutationCallback): MutationObserver | null {\n    return typeof MutationObserver === 'undefined' ? null : new MutationObserver(callback);\n  }\n}\n\n@Injectable({providedIn: 'root'})\nexport class ElementObserver implements OnDestroy {\n  private _observedElements = new Map<Element, MutationObserver | null>();\n\n  constructor(\n    private _mutationObserverFactory: MutationObserverFactory\n  ) { }\n\n  ngOnDestroy() {\n    this._observedElements.forEach((_, element) => this.destroy(element));\n  }\n\n  observe(elementOrRef: Element | ElementRef<Element>, fn: MutationCallback, options?: MutationObserverInit) {\n    const element = elementOrRef instanceof ElementRef ? elementOrRef.nativeElement : elementOrRef;\n    if (!this._observedElements.has(element)) {\n      const observer = this._mutationObserverFactory.create(fn);\n      if (observer) {\n        observer.observe(element, options || MUTATION_OBSERVER_INIT);\n      }\n      this._observedElements.set(element, observer);\n    }\n    return this._observedElements.get(element);\n  }\n\n  /**\n   * Destroy Observer\n   */\n  destroy(elementOrRef: Element | ElementRef<Element>) {\n    const element = elementOrRef instanceof ElementRef ? elementOrRef.nativeElement : elementOrRef;\n    if (this._observedElements.has(element)) {\n      const observer = this._observedElements.get(element);\n      if (observer) {\n        this._observedElements.get(element)!.disconnect();\n      }\n      this._observedElements.delete(element);\n    }\n  }\n}\n","import { Injectable, Inject, NgZone } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { fromEvent , Observable, empty } from 'rxjs';\nimport { map, share, auditTime } from 'rxjs/operators';\n\nimport { Platform } from '../platform/index';\n\n/**\n * @deprecated use ViewportRuler instead\n * import { ViewportRuler } from '@angular/cdk/scrolling';\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class WinResize {\n\n  resize$: Observable<number>;\n\n  constructor(\n    @Inject(DOCUMENT) private document: any,\n    ngZone: NgZone\n  ) {\n    if (Platform.isBrowser) {\n      ngZone.runOutsideAngular(() => {\n        this.resize$ = fromEvent(window, 'resize').pipe(\n          auditTime(20),\n          map(() => {\n            return window.innerHeight || this.document.documentElement.clientHeight;\n          }),\n          share()\n        );\n      });\n    } else {\n      this.resize$ = empty();\n    }\n  }\n}\n","import { Inject, Injectable, NgZone } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { auditTime, map, share } from 'rxjs/operators';\nimport { empty, fromEvent, Observable } from 'rxjs';\nimport { Platform } from '../platform/platform';\n\n/**\n * @deprecated use ScrollDispatcher instead\n * import { ScrollDispatcher } from '@angular/cdk/scrolling';\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class WinScroll {\n\n  scroll$: Observable<number>;\n\n  constructor(\n    @Inject(DOCUMENT) private _document: any,\n    ngZone: NgZone\n  ) {\n    if (Platform.isBrowser) {\n      ngZone.runOutsideAngular(() => {\n        this.scroll$ = fromEvent(window.document, 'scroll').pipe(\n          auditTime(20),\n          map(() => {\n            return window.scrollY || this._document.documentElement.scrollTop;\n          }),\n          share()\n        );\n      });\n    } else {\n      this.scroll$ = empty();\n    }\n  }\n}\n","export enum AlignAlias {\n  rowReverse = 'row-reverse',\n  columnReverse = 'column-reverse',\n  wrapReverse = 'wrap-reverse',\n  start = 'flex-start',\n  end = 'flex-end',\n  between = 'space-between',\n  around = 'space-around',\n  evenly = 'space-evenly'\n}\n","import { XPosition, YPosition } from './position';\nimport { LyTheme2 } from '../theme/theme2.service';\nimport { ViewportRuler } from '@angular/cdk/scrolling';\n\n\n\nexport class LyOverlayPosition {\n  private _triggerRect: ClientRect;\n  private _overlayRect: ClientRect;\n  private _xAnchor?: XPosition | number;\n  private _yAnchor?: YPosition | number;\n  private _xAxis: XPosition = XPosition.after;\n  private _yAxis: YPosition = YPosition.below;\n  private _flip: boolean = false;\n  private _viewportOffset = 16;\n  private _viewportHeight: number = 0;\n  private _viewportWidth: number = 0;\n  /** Transform element's bounding `ClientRect` before render. */\n  private _transform?: (triggerRect: ClientRect, overlayRect: ClientRect) => void;\n\n  private _anchorDir: 'left' | 'right';\n  private _axisDir: 'left' | 'right';\n\n  /** xAnchor position */\n  private _xa: number;\n  /** XAnchor position */\n  private _ya: number;\n\n  get x() {\n    return this._x;\n  }\n  private _x: number;\n\n  get y() {\n    return this._y;\n  }\n  private _y: number;\n\n  get xo() {\n    return this._xo;\n  }\n  private _xo: number;\n\n  get yo() {\n    return this._yo;\n  }\n  private _yo: number;\n\n  get width() {\n    return this._width;\n  }\n  private _width: number;\n\n  get height() {\n    return this._height;\n  }\n  private _height: number;\n\n  constructor(\n    private _theme: LyTheme2,\n    private _viewportRuler: ViewportRuler,\n    private _trigger: Element,\n    private _overlay: Element\n  ) { }\n\n  build() {\n    this._updateRects();\n    this._setDefaultAnchor();\n    this._updateDir();\n    this._callTransformIfExists();\n    this._calculateResponsive();\n    this._calculateOrigin();\n    this._round();\n    return this;\n  }\n\n  private _updateRects() {\n    this._triggerRect = getMutableClientRect(this._trigger);\n    this._overlayRect = getMutableClientRect(this._overlay);\n    const { width, height } = this._viewportRuler.getViewportSize();\n    this._viewportWidth = width;\n    this._viewportHeight = height;\n  }\n\n  private _setDefaultAnchor() {\n    if (!this._xAnchor) {\n      this._xAnchor = this._xAxis === XPosition.after ? XPosition.before : XPosition.after;\n    }\n    if (!this._yAnchor) {\n      this._yAnchor = this._yAxis;\n    }\n  }\n\n  private _callTransformIfExists() {\n    if (this._transform) {\n      this._transform(this._triggerRect, this._overlayRect);\n    }\n  }\n\n  private _updateDir() {\n    // If it is not number\n    if (typeof this._xAnchor !== 'number') {\n      this._anchorDir = this._theme.variables.getDirection(this._xAnchor as any) as 'left' | 'right';\n    }\n    this._axisDir = this._theme.variables.getDirection(this._xAxis as any) as 'left' | 'right';\n  }\n\n  private _calculateResponsive() {\n    this._calculate();\n    if (this._flip && typeof this._xAnchor === 'string' && typeof this._yAnchor === 'string') {\n      if (this._isOverflowX() && (this._overlayRect.width < (this._xa - this._viewportOffset))) {\n        this.setXAxis(flipPosition(this._xAxis))\n            .setXAnchor(flipPosition(this._xAnchor));\n        this._updateDir();\n        this._calculate();\n      }\n      if (this._isOverflowY() && (this._overlayRect.height < (this._ya - this._viewportOffset))) {\n        this.setYAxis(flipPosition(this._yAxis))\n            .setYAnchor(flipPosition(this._yAnchor));\n        this._calculate();\n      }\n    }\n\n    if (this._isOverflowX()) {\n      if (this._overlayRect.width > this._viewportWidth - (this._viewportOffset * 2)) {\n        this._x = this._viewportOffset;\n        this._width = this._viewportWidth - (this._viewportOffset * 2);\n      } else if (this._isOverflowLeft()) {\n        this._x = this._viewportOffset;\n      } else if (this._isOverflowRight()) {\n        this._x = this._viewportWidth - this._overlayRect.width - this._viewportOffset;\n      }\n    }\n    if (this._isOverflowY()) {\n      if (this._overlayRect.height > this._viewportHeight - (this._viewportOffset * 2)) {\n        this._y = this._viewportOffset;\n        this._height = this._viewportHeight - (this._viewportOffset * 2);\n      } else if (this._isOverflowTop()) {\n        this._y = this._viewportOffset;\n      } else if (this._isOverflowBottom()) {\n        this._y = this._viewportHeight - this._overlayRect.height - this._viewportOffset;\n      }\n    }\n  }\n\n  /**\n   * Return true if the menu overflows vertically\n   */\n  private _isOverflowX() {\n    return this._isOverflowLeft() // Left\n    || this._isOverflowRight(); // Right\n  }\n  private _isOverflowLeft() {\n    return this.x < this._viewportOffset;\n  }\n  private _isOverflowRight() {\n    return (this.x + this._overlayRect.width) > (this._viewportWidth - this._viewportOffset);\n  }\n\n  /** Return true the menu overflows horizontally */\n  private _isOverflowY() {\n    return this._isOverflowTop() // Top\n    || this._isOverflowBottom(); // Bottom\n  }\n  private _isOverflowTop() {\n    return this.y < this._viewportOffset;\n  }\n  private _isOverflowBottom() {\n    return (this.y + this._overlayRect.height) > (this._viewportHeight - this._viewportOffset);\n  }\n\n  private _calculate() {\n    this._calculateAnchorPosition();\n    this._calculateAxis();\n  }\n\n  private _calculateAnchorPosition() {\n    if (this._anchorDir === 'left' || this._anchorDir === 'right') {\n      this._xa = this._triggerRect[this._anchorDir];\n    }\n    if (this._yAnchor === YPosition.above) {\n      this._ya = this._triggerRect.top;\n    } else {\n      this._ya = this._triggerRect.bottom;\n    }\n  }\n\n  private _calculateAxis() {\n    if (this._axisDir === 'left') {\n      this._x = this._xa - this._overlayRect.width;\n    } else {\n      this._x = this._xa;\n    }\n\n    if (this._yAxis === YPosition.above) {\n      this._y = this._ya - this._overlayRect.height;\n    } else {\n      this._y = this._ya;\n    }\n  }\n\n  /** Calculate origin for overlay */\n  private _calculateOrigin() {\n    const xAnchorCenter = this._xa;\n    const yAnchorCenter = this._ya;\n    const xOverlayCenter = this.x + (this._overlayRect.width / 2);\n    const yOverlayCenter = this.y + (this._overlayRect.height / 2);\n    const xo = (xAnchorCenter - xOverlayCenter) + this._overlayRect.width / 2;\n    const yo = (yAnchorCenter - yOverlayCenter) + this._overlayRect.height / 2;\n    this._xo = xo;\n    this._yo = yo;\n  }\n\n  private _round() {\n    this._x = Math.round(this.x);\n    this._y = Math.round(this.y);\n  }\n\n  // setTrigger(val: Element) {\n  //   this._trigger = val;\n  //   return this;\n  // }\n  // setOverlay(val: Element) {\n  //   this._overlay = val;\n  //   return this;\n  // }\n  setXAnchor(val: XPosition | number) {\n    this._xAnchor = val;\n    return this;\n  }\n  setYAnchor(val: YPosition | number) {\n    this._yAnchor = val;\n    return this;\n  }\n  setXAxis(val?: XPosition | null) {\n    this._xAxis = val ?? XPosition.after;\n    return this;\n  }\n  setYAxis(val?: YPosition | null) {\n    this._yAxis = val ?? YPosition.below;\n    return this;\n  }\n\n  setFlip(flip: boolean = true) {\n    this._flip = flip;\n    return this;\n  }\n\n  /**\n   * Offset from the edge of the viewport to the center.\n   * It is the minimum space that must be between the window and the overlay.\n   */\n  setViewportOffset(val: number) {\n    this._viewportOffset = val;\n    return this;\n  }\n  setTransform(transform: (triggerRect: ClientRect, overlayRect: ClientRect) => void) {\n    this._transform = transform;\n  }\n}\n\n\n/** Gets a mutable version of an element's bounding `ClientRect`. */\nfunction getMutableClientRect(element: Element): ClientRect {\n  const clientRect = element.getBoundingClientRect();\n\n  // We need to clone the `clientRect` here, because all the values on it are readonly\n  // and we need to be able to update them. Also we can't use a spread here, because\n  // the values on a `ClientRect` aren't own properties. See:\n  // https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect#Notes\n  return {\n    top: clientRect.top,\n    right: clientRect.right,\n    bottom: clientRect.bottom,\n    left: clientRect.left,\n    width: clientRect.width,\n    height: clientRect.height\n  };\n}\n\nfunction flipPosition(position: XPosition): XPosition;\nfunction flipPosition(position: YPosition): YPosition;\nfunction flipPosition(position: XPosition | YPosition): XPosition | YPosition {\n  switch (position) {\n    case XPosition.after:\n      return XPosition.before;\n    case XPosition.before:\n      return XPosition.after;\n    case XPosition.left:\n      return XPosition.right;\n    case XPosition.right:\n      return XPosition.left;\n    case YPosition.above:\n      return YPosition.below;\n    case YPosition.below:\n      return YPosition.above;\n  }\n}\n","export interface SelectionOpts<T = any> {\n  multiple?: true;\n  /**\n   * Initially selected values\n   * Note: if `multiple` === `true` then `selecteds` should be of type `T[]`\n   * else it should be of type `T`\n   */\n  selecteds?: T | T[];\n  getKey?: (o: T) => unknown;\n}\n\nfunction same(o: any): unknown {\n  return o;\n}\n\nexport class LySelectionModel<T = any> {\n  readonly _selectionMap = new Map<unknown, T>();\n  private _multiple?: true;\n  private _getKeyFn: (o: T) => unknown = same;\n\n  /** Cache for the array value of the selected items. */\n  private _selected: T[] | null;\n\n  /** Selected values. */\n  get selected(): T[] {\n    if (!this._selected) {\n      this._selected = Array.from(this._selectionMap.values());\n    }\n\n    return this._selected;\n  }\n\n  constructor(opts?: SelectionOpts<T>) {\n    if (!opts) {\n      return;\n    }\n    const { multiple, getKey } = opts;\n    if (getKey) {\n      this._getKeyFn = getKey;\n    }\n    if (multiple === true) {\n      this._multiple = true;\n      const { selecteds } = opts;\n      if (Array.isArray(selecteds) && selecteds.length) {\n        this.select(...selecteds);\n      }\n    } else {\n      const { selecteds } = opts as { selecteds: T };\n      if (selecteds) {\n        this._markSelected(selecteds);\n      }\n    }\n  }\n\n  /**\n   * Toggles a value between selected and deselected.\n   */\n  toggle(value: T): void {\n    this.isSelected(value) ? this.deselect(value) : this.select(value);\n  }\n\n  /**\n   * Selects one or several values.\n   */\n  select(...values: T[]): void {\n    values.forEach(value => this._markSelected(value));\n    this._clearSelectedValues();\n  }\n\n  /**\n   * Deselects a value or an array of values.\n   */\n  deselect(...values: T[]): void {\n    values.forEach(value => this._unmarkSelected(value));\n    this._clearSelectedValues();\n  }\n\n  /**\n   * Determines whether a value is selected.\n   */\n  isSelected(value: T): boolean {\n    const key = this._getKeyFn(value);\n    return this._selectionMap.has(key);\n  }\n\n  /**\n   * Determines whether the model does not have a value.\n   */\n  isEmpty(): boolean {\n    return this._selectionMap.size === 0;\n  }\n\n  /**\n   * Determines whether the model has a value.\n   */\n  hasValue(): boolean {\n    return this._selectionMap.size !== 0;\n  }\n\n  /**\n   * Gets whether multiple values can be selected.\n   */\n  isMultipleSelection() {\n    return this._multiple;\n  }\n\n  /**\n   * Clears all of the selected values.\n   */\n  clear(): void {\n    this._unmarkAll();\n    this._clearSelectedValues();\n  }\n\n  /** Selects a value. */\n  private _markSelected(value: T) {\n    if (!this.isSelected(value)) {\n      if (!this._multiple) {\n        this._unmarkAll();\n      }\n\n      const key = this._getKeyFn(value);\n      this._selectionMap.set(key, value);\n    }\n  }\n\n  /** Deselects a value. */\n  private _unmarkSelected(value: T) {\n    if (this.isSelected(value)) {\n      const key = this._getKeyFn(value);\n      this._selectionMap.delete(key);\n    }\n  }\n\n  /** Clears out the selected values. */\n  private _unmarkAll() {\n    if (!this.isEmpty()) {\n      this._selectionMap.clear();\n    }\n  }\n  /** Clear the selected values so they can be re-cached. */\n  private _clearSelectedValues() {\n    this._selected = null;\n  }\n\n}\n","import { Component, ChangeDetectionStrategy, Input, ElementRef, Renderer2 } from '@angular/core';\nimport { LyTheme2 } from '../theme/theme2.service';\nimport { ThemeVariables } from '../theme/theme-config';\nimport { toBoolean } from '../minimal/is-boolean';\n\nconst STYLES = (theme: ThemeVariables) => ({\n  root: {\n    width: '1em',\n    height: '1em',\n    display: 'inline-block',\n    position: 'relative',\n    fontSize: '24px'\n  },\n  line: {\n    top: 'calc(0.5em - 1px)',\n    position: 'absolute',\n    width: `${1 / 3}em`,\n    height: '2px',\n    backgroundColor: 'currentColor',\n    display: 'inline-block',\n    transition: `all ${theme.animations.durations.entering}ms ${theme.animations.curves.standard}`,\n    '&:first-of-type': {\n      left: '0.25em',\n      '-webkit-transform': 'rotate(45deg)',\n      transform: 'rotate(45deg)'\n    },\n    '&:last-of-type': {\n      right: '0.25em',\n      '-webkit-transform': 'rotate(-45deg)',\n      transform: 'rotate(-45deg)'\n    }\n  },\n  up: {\n    '{line}:first-of-type': {\n      '-webkit-transform': 'rotate(-45deg)',\n      transform: 'rotate(-45deg)'\n    },\n    '{line}:last-of-type': {\n      '-webkit-transform': 'rotate(45deg)',\n      transform: 'rotate(45deg)'\n    }\n  }\n});\n\n@Component({\n  selector: 'ly-expansion-icon',\n  templateUrl: './expansion-icon.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class LyExpansionIcon {\n  readonly classes = this._theme.addStyleSheet(STYLES);\n\n  private _color: string;\n  private _colorClass: string;\n\n  private _up = false;\n\n  @Input()\n  set color(val: string) {\n    this._colorClass = this._theme.addStyle('LyExpansionIcon.color', (theme: ThemeVariables) => ({\n      '{line}': {\n        backgroundColor: theme.colorOf(val)\n      }\n    }), this._el.nativeElement, this._colorClass, null, STYLES);\n  }\n  get color() {\n    return this._color;\n  }\n  @Input()\n  set up(val: boolean | '') {\n    const newVal = toBoolean(val);\n\n    if (newVal !== this.up) {\n      this._up = newVal;\n      if (newVal) {\n        this._renderer.addClass(this._el.nativeElement, this.classes.up);\n      } else {\n        this._renderer.removeClass(this._el.nativeElement, this.classes.up);\n      }\n    }\n  }\n  get up() {\n    return this._up;\n  }\n\n  constructor(\n    private _theme: LyTheme2,\n    private _renderer: Renderer2,\n    private _el: ElementRef\n  ) {\n    _renderer.addClass(_el.nativeElement, this.classes.root);\n  }\n\n  toggle() {\n    this.up = !this.up;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { LyExpansionIcon } from './expansion-icon';\n\n@NgModule({\n  declarations: [LyExpansionIcon],\n  exports: [LyExpansionIcon]\n})\nexport class LyExpansionIconModule { }\n","export const AUI_VERSION = '10.5.1';\nexport const AUI_LAST_UPDATE = '2021-01-20T00:15:41.465Z';\n","export const STYLES_BACKDROP_DARK = ({\n  backgroundColor: 'rgba(0,0,0,.32)'\n});\n","export function defaultEntry(value: string | number, defaultValue: string | number) {\n  return value !== '' && value !== void 0 ? value : defaultValue;\n}\n","export function getContrastYIQ(hexcolor) {\n  const r = parseInt(hexcolor.substr(0, 2), 16);\n  const g = parseInt(hexcolor.substr(2, 2), 16);\n  const b = parseInt(hexcolor.substr(4, 2), 16);\n  const yiq = ((r * 299) + (g * 587) + (b * 114)) / 1000;\n  return (yiq >= 128) ? 'black' : 'white';\n}\n","export function getLyThemeVariableUndefinedError(variable: string) {\n  return Error(`Variable '${variable}' undefined in Theme.`);\n}\n\nexport function getLyThemeVariableOptionUndefinedError(comp: string, variable: string) {\n  return Error(`${comp}: variable ${variable} is undefined in Theme.`);\n}\nexport function getLyThemeStyleUndefinedError(comp: string, input: string, val: string) {\n  return Error(`${comp}: no styles defined in the theme have been found for \\`@Input() ${input}\\`,`\n    + ` the value given is \\`${val}\\`.`);\n}\n","import { Constructor } from './constructor';\nimport { toBoolean } from '../minimal/is-boolean';\n\nexport interface CanDisable {\n  disabled: boolean;\n  /**\n   * It is only used for common behavior, therefore, it should not be used for other purposes.\n   */\n  readonly _superHyperInternalPropertyDisabled: boolean;\n}\n\n/** @docs-private */\nexport type CanDisableCtor = Constructor<CanDisable>;\n\nexport function mixinDisabled<T extends Constructor>(base: T): CanDisableCtor & T {\n  return class extends base {\n    _superHyperInternalPropertyDisabled: boolean = false;\n\n    get disabled() { return this._superHyperInternalPropertyDisabled; }\n    set disabled(value: any) { this._superHyperInternalPropertyDisabled = toBoolean(value); }\n\n    constructor(...args: any[]) { super(...args); }\n  };\n}\n","import { Constructor } from './constructor';\nimport { CanDisable } from './disabled';\n\nconst DEFAULT_TAB_INDEX = 0;\n\n/** @docs-private */\nexport interface HasTabIndex {\n  tabIndex: number;\n}\n\n/** @docs-private */\nexport type HasTabIndexCtor = Constructor<HasTabIndex>;\n\nexport function mixinTabIndex<T extends Constructor<CanDisable>>(base: T): Constructor<HasTabIndex> & T {\n  return class extends base {\n    private _tabIndex: number = DEFAULT_TAB_INDEX;\n\n    get tabIndex(): number {\n      return this.disabled ? -1 : this._tabIndex;\n    }\n    set tabIndex(value: number) {\n      this._tabIndex = value != null ? value : DEFAULT_TAB_INDEX;\n    }\n\n    constructor(...args: any[]) {\n      super(...args);\n    }\n  };\n}\n","export function toNumber(value: any): number;\nexport function toNumber<D>(value: any, _default: D): number | D;\nexport function toNumber(val: any, _default?: number) {\n\n  const num = typeof val === 'number'\n  ? val\n  : typeof val === 'string' && val.length\n    ? +val\n    : _default;\n  return isNaN(num as any) ? (_default === void 0 ? 0 : _default) : num;\n}\n","import { OnDestroy } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nfunction componentDestroyed(component: OnDestroy): Observable<void> {\n    const modifiedComponent = component as {\n      __componentDestroyed$?: Observable<void>\n      ngOnDestroy?(): void\n    };\n    if (modifiedComponent.__componentDestroyed$) {\n        return modifiedComponent.__componentDestroyed$;\n    }\n    const oldNgOnDestroy = component.ngOnDestroy;\n    const stop$ = new ReplaySubject<void>();\n    modifiedComponent.ngOnDestroy = function() {\n        if (oldNgOnDestroy) {\n          oldNgOnDestroy.apply(component);\n        }\n        stop$.next();\n        stop$.complete();\n    };\n    return modifiedComponent.__componentDestroyed$ = stop$.asObservable();\n}\n\nexport function untilComponentDestroyed<T>(component: OnDestroy): (source: Observable<T>) => Observable<T> {\n    return (source: Observable<T>) => source.pipe(takeUntil(componentDestroyed(component as OnDestroy)));\n}\n"]}