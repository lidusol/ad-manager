import { Component, HostListener, ElementRef } from '@angular/core';
import { LyTheme2 } from '../theme/theme2.service';
import { LyOverlayConfig } from './overlay-config';
import { LY_COMMON_STYLES } from '../styles/core-styles';
import { StyleRenderer } from '../minimal/renderer-style';
import { st2c } from '../parse';
import * as ɵngcc0 from '@angular/core';
const STYLE_PRIORITY = -2;
export const STYLES_BACKDROP_ROOT = () => (className) => `${st2c((LY_COMMON_STYLES.fill), `${className}`)}${className}{width:100vw;height:100vh;pointer-events:all;user-select:none;}`;
export class LyOverlayBackdrop {
    constructor(_el, _theme, sRenderer, _config) {
        this._el = _el;
        this.sRenderer = sRenderer;
        this._config = _config;
        _el.nativeElement.classList.add(sRenderer.add(STYLES_BACKDROP_ROOT, STYLE_PRIORITY));
        // this applies custom class for backdrop,
        // if one is not defined, do nothing.
        const backdropClass = _config.backdropClass;
        if (backdropClass) {
            this._el.nativeElement.classList.add(backdropClass);
        }
    }
    onclick() {
        if (!this._config.disableClose) {
            this._config.fnDestroy();
        }
    }
}
LyOverlayBackdrop.ɵfac = function LyOverlayBackdrop_Factory(t) { return new (t || LyOverlayBackdrop)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(LyTheme2), ɵngcc0.ɵɵdirectiveInject(StyleRenderer), ɵngcc0.ɵɵdirectiveInject(LyOverlayConfig)); };
LyOverlayBackdrop.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: LyOverlayBackdrop, selectors: [["ly-overlay-backdrop"]], hostBindings: function LyOverlayBackdrop_HostBindings(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵlistener("click", function LyOverlayBackdrop_click_HostBindingHandler() { return ctx.onclick(); });
    } }, features: [ɵngcc0.ɵɵProvidersFeature([
            StyleRenderer
        ])], decls: 0, vars: 0, template: function LyOverlayBackdrop_Template(rf, ctx) { }, encapsulation: 2 });
LyOverlayBackdrop.ctorParameters = () => [
    { type: ElementRef },
    { type: LyTheme2 },
    { type: StyleRenderer },
    { type: LyOverlayConfig }
];
LyOverlayBackdrop.propDecorators = {
    onclick: [{ type: HostListener, args: ['click',] }]
};
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LyOverlayBackdrop, [{
        type: Component,
        args: [{
                selector: 'ly-overlay-backdrop',
                template: ``,
                providers: [
                    StyleRenderer
                ]
            }]
    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: LyTheme2 }, { type: StyleRenderer }, { type: LyOverlayConfig }]; }, { onclick: [{
            type: HostListener,
            args: ['click']
        }] }); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3ZlcmxheS1iYWNrZHJvcC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vbGliL3NyYy9kb20vb3ZlcmxheS1iYWNrZHJvcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDcEUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ25ELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDMUQsT0FBTyxFQUNMLElBQUksRUFBRSxNQUFNLFVBQVUsQ0FBQzs7QUFFekIsTUFBTSxjQUFjLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDMUIsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQyxTQUFpQixFQUFFLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsU0FBUyxFQUFFLENBQUMsR0FBRyxTQUFTLGlFQUFpRSxDQUFDO0FBUy9MLE1BQU0sT0FBTyxpQkFBaUI7QUFDOUIsSUFLRSxZQUNVLEdBQTRCLEVBQ3BDLE1BQWdCLEVBQ1AsU0FBd0IsRUFDekIsT0FBd0I7QUFDakMsUUFKUyxRQUFHLEdBQUgsR0FBRyxDQUF5QjtBQUFDLFFBRTVCLGNBQVMsR0FBVCxTQUFTLENBQWU7QUFBQyxRQUMxQixZQUFPLEdBQVAsT0FBTyxDQUFpQjtBQUNwQyxRQUNJLEdBQUcsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUM7QUFDekYsUUFDSSwwQ0FBMEM7QUFDOUMsUUFBSSxxQ0FBcUM7QUFDekMsUUFBSSxNQUFNLGFBQWEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDO0FBQ2hELFFBQUksSUFBSSxhQUFhLEVBQUU7QUFDdkIsWUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQzFELFNBQUs7QUFDTCxJQUFFLENBQUM7QUFDSCxJQXBCeUIsT0FBTztBQUNoQyxRQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRTtBQUNwQyxZQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBVSxFQUFFLENBQUM7QUFDaEMsU0FBSztBQUNMLElBQUUsQ0FBQztBQUNIOzZDQWJDLFNBQVMsU0FBQyxrQkFDVCxRQUFRLEVBQUUscUJBQXFCLGtCQUMvQixRQUFRLEVBQUUsRUFBRSxrQkFDWixTQUFTLEVBQUUsc0JBQ1QsYUFBYSxrQkFDZCxjQUNGOzs7OztnSEFDSTtBQUFDO0FBQ1UsWUFuQmtCLFVBQVU7QUFBSSxZQUN2QyxRQUFRO0FBQUksWUFHWixhQUFhO0FBQUksWUFGakIsZUFBZTtBQUFHO0FBQUc7QUFDZixzQkFnQlosWUFBWSxTQUFDLE9BQU87QUFBTTs7Ozs7Ozs7Ozs7OztvQkFBRTtBQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBIb3N0TGlzdGVuZXIsIEVsZW1lbnRSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEx5VGhlbWUyIH0gZnJvbSAnLi4vdGhlbWUvdGhlbWUyLnNlcnZpY2UnO1xuaW1wb3J0IHsgTHlPdmVybGF5Q29uZmlnIH0gZnJvbSAnLi9vdmVybGF5LWNvbmZpZyc7XG5pbXBvcnQgeyBMWV9DT01NT05fU1RZTEVTIH0gZnJvbSAnLi4vc3R5bGVzL2NvcmUtc3R5bGVzJztcbmltcG9ydCB7IFN0eWxlUmVuZGVyZXIgfSBmcm9tICcuLi9taW5pbWFsL3JlbmRlcmVyLXN0eWxlJztcbmltcG9ydCB7XG4gIHN0MmMgfSBmcm9tICcuLi9wYXJzZSc7XG5cbmNvbnN0IFNUWUxFX1BSSU9SSVRZID0gLTI7XG5leHBvcnQgY29uc3QgU1RZTEVTX0JBQ0tEUk9QX1JPT1QgPSAoKSA9PiAoY2xhc3NOYW1lOiBzdHJpbmcpID0+IGAke3N0MmMoKExZX0NPTU1PTl9TVFlMRVMuZmlsbCksIGAke2NsYXNzTmFtZX1gKX0ke2NsYXNzTmFtZX17d2lkdGg6MTAwdnc7aGVpZ2h0OjEwMHZoO3BvaW50ZXItZXZlbnRzOmFsbDt1c2VyLXNlbGVjdDpub25lO31gO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdseS1vdmVybGF5LWJhY2tkcm9wJyxcbiAgdGVtcGxhdGU6IGBgLFxuICBwcm92aWRlcnM6IFtcbiAgICBTdHlsZVJlbmRlcmVyXG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgTHlPdmVybGF5QmFja2Ryb3Age1xuICBASG9zdExpc3RlbmVyKCdjbGljaycpIG9uY2xpY2soKSB7XG4gICAgaWYgKCF0aGlzLl9jb25maWcuZGlzYWJsZUNsb3NlKSB7XG4gICAgICB0aGlzLl9jb25maWcuZm5EZXN0cm95ISgpO1xuICAgIH1cbiAgfVxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIF9lbDogRWxlbWVudFJlZjxIVE1MRWxlbWVudD4sXG4gICAgX3RoZW1lOiBMeVRoZW1lMixcbiAgICByZWFkb25seSBzUmVuZGVyZXI6IFN0eWxlUmVuZGVyZXIsXG4gICAgcHJpdmF0ZSBfY29uZmlnOiBMeU92ZXJsYXlDb25maWdcbiAgKSB7XG4gICAgX2VsLm5hdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmFkZChzUmVuZGVyZXIuYWRkKFNUWUxFU19CQUNLRFJPUF9ST09ULCBTVFlMRV9QUklPUklUWSkpO1xuXG4gICAgLy8gdGhpcyBhcHBsaWVzIGN1c3RvbSBjbGFzcyBmb3IgYmFja2Ryb3AsXG4gICAgLy8gaWYgb25lIGlzIG5vdCBkZWZpbmVkLCBkbyBub3RoaW5nLlxuICAgIGNvbnN0IGJhY2tkcm9wQ2xhc3MgPSBfY29uZmlnLmJhY2tkcm9wQ2xhc3M7XG4gICAgaWYgKGJhY2tkcm9wQ2xhc3MpIHtcbiAgICAgIHRoaXMuX2VsLm5hdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmFkZChiYWNrZHJvcENsYXNzKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==