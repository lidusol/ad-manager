{"version":3,"file":"alyle-ui-tabs.js","sources":["../../../lib/tabs/tab-content.directive.ts","../../../lib/tabs/tabs.ts","../../../lib/tabs/tabs.module.ts","../../../lib/tabs/alyle-ui-tabs.ts"],"sourcesContent":["import {Directive, TemplateRef} from '@angular/core';\n\n@Directive({selector: '[ly-tab-content]'})\nexport class LyTabContent {\n  constructor(public template: TemplateRef<any>) { }\n}\n","import {\n  AfterContentInit,\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostListener,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  QueryList,\n  Renderer2,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation,\n  Optional,\n  ViewChildren,\n  ViewContainerRef\n  } from '@angular/core';\nimport {\n  LyTheme2,\n  mixinBg,\n  mixinColor,\n  mixinDisabled,\n  mixinDisableRipple,\n  mixinElevation,\n  mixinOutlined,\n  mixinRaised,\n  mixinShadowColor,\n  mixinStyleUpdater,\n  ThemeVariables,\n  AlignAlias,\n  YPosition,\n  XPosition,\n  Dir,\n  LyRippleService,\n  LyFocusState,\n  scrollWithAnimation,\n  toBoolean,\n  st2c,\n  LY_COMMON_STYLES,\n  ThemeRef,\n  StyleCollection,\n  LyClasses,\n  StyleTemplate,\n  StyleRenderer,\n  Style } from '@alyle/ui';\nimport { LyButton } from '@alyle/ui/button';\nimport { LyTabContent } from './tab-content.directive';\nimport { Subscription, Subject } from 'rxjs';\nimport { ViewportRuler } from '@angular/cdk/scrolling';\nimport { Platform } from '@angular/cdk/platform';\nimport { TemplatePortal } from '@angular/cdk/portal';\nimport { takeUntil, take, switchMapTo } from 'rxjs/operators';\nexport interface LyTabTheme {\n  /** Styles for Tab Component */\n  root?: StyleCollection<((classes: LyClasses<typeof STYLES>) => StyleTemplate)>\n    | ((classes: LyClasses<typeof STYLES>) => StyleTemplate);\n}\n\nexport interface LyTabVariables {\n  tab?: LyTabTheme;\n}\n\nconst DEFAULT_DISABLE_RIPPLE = false;\nconst STYLE_PRIORITY = -2;\nconst DEFAULT_BG = 'primary';\nconst DEFAULT_INDICATOR_COLOR = 'accent';\nconst DEFAULT_ELEVATION = 4;\nconst DEFAULT_HEADER_PLACEMENT = 'above';\nexport type AlignTabs = 'start' | 'center' | 'end' | 'stretch' | 'baseline';\nexport type LyTabsHeaderPlacement = 'before' | 'after' | 'above' | 'below';\n\nexport const STYLES = (theme: ThemeVariables & LyTabVariables, ref: ThemeRef) => {\n  const __ = ref.selectorsOf(STYLES);\n  return {\n    $name: LyTabs.и,\n    $priority: STYLE_PRIORITY,\n    root: () => (className: string) => `${className}{display:flex;}${st2c((\n          (theme.tab\n            && theme.tab.root\n            && (theme.tab.root instanceof StyleCollection\n              ? theme.tab.root.setTransformer(fn => fn(__)).css\n              : theme.tab.root(__))\n          )), `${className}`)}`,\n    tab: (className: string) => `${className}{position:relative;display:inline-flex;}`,\n    /** Tab container */\n    contentContainer: (className: string) => `${className}{display:flex;overflow:hidden;flex-grow:1;width:100%;position:relative;}`,\n    /** Tab header */\n    labels: (className: string) => `${className}{display:flex;position:relative;height:100%;}`,\n    labelsContainer: () => (className: string) => `${className}{overflow:hidden;flex-shrink:0;}@media (hover: none){${__.scrollable} ${className}{overflow:auto;}}`,\n    label: (className: string) => `${className}{-webkit-tap-highlight-color:transparent;-webkit-appearance:none;background-color:transparent;user-select:none;border:0;min-width:72px;padding:0 24px;cursor:pointer;height:48px;display:inline-flex;justify-content:center;align-items:center;position:relative;overflow:hidden;font-family:${theme.typography.fontFamily};font-size:${theme.pxToRem(theme.typography.fontSize)};letter-spacing:0.02857em;color:currentColor;outline:none;width:100%;font-weight:500;opacity:.7;}@media ${theme.breakpoints['XSmall']}{${className}{padding:0 12px;}}`,\n    labelActive: (className: string) => `${className}{opacity:1;}`,\n    contents: (className: string) => `${className}{display:flex;width:100%;}`,\n    content: (className: string) => `${st2c((LY_COMMON_STYLES.fill), `${className}`)}${className}{width:100%;height:100%;position:absolute;overflow:auto;}`,\n    contentActive: (className: string) => `${className}{position:relative;z-index:1;}`,\n    contentInner: null,\n    indicator: (className: string) => `${className}{position:absolute;height:2px;transition:450ms cubic-bezier(.1, 1, 0.5, 1);background:currentColor;}`,\n    indicatorForServer: (className: string) => `${className}{position:absolute;background:currentColor;}`,\n    rippleContainer: (className: string) => `${st2c((LY_COMMON_STYLES.fill), `${className}`)}${className}{overflow:hidden;}`,\n    scrollable: null,\n    hiddenContent: () => (className: string) => `${className}{visibility:hidden;}`,\n    column: null,\n    row: null\n  };\n};\n\n/** @docs-private */\nexport class LyTabsBase {\n  constructor(\n    public _theme: LyTheme2\n  ) { }\n}\n\n/** @docs-private */\nexport const LyTabsMixinBase = mixinStyleUpdater(mixinBg(mixinElevation(mixinShadowColor(LyTabsBase))));\n\n/** @docs-private */\nexport class LyTabLabelBase {\n  constructor(\n    public _theme: LyTheme2,\n    public _ngZone: NgZone,\n    public _platform: Platform\n  ) { }\n}\n\n/** @docs-private */\nexport const LyTabLabelMixinBase = mixinStyleUpdater(\nmixinBg(\n  mixinColor(\n    mixinRaised(\n      mixinDisabled(\n        mixinOutlined(\n          mixinElevation(\n            mixinShadowColor(\n              mixinDisableRipple(LyTabLabelBase)))))))));\n\n/**\n * @dynamic\n */\n@Component({\n  selector: 'ly-tabs',\n  templateUrl: './tabs.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'lyTabs',\n  inputs: [\n    'bg', 'elevation', 'shadowColor'\n  ],\n  providers: [\n    StyleRenderer\n  ]\n})\nexport class LyTabs extends LyTabsMixinBase implements OnChanges, OnInit, AfterViewInit, AfterContentInit, OnDestroy {\n  /** @docs-private */\n  static и = 'LyTabs';\n  /** @docs-private */\n  $priority = STYLE_PRIORITY;\n  /** @docs-private */\n  readonly classes = this.sRenderer.renderSheet(STYLES, true);\n  _selectedIndex: number;\n  _selectedBeforeIndex: number;\n  _selectedTab: LyTab | null;\n  _selectedBeforeTab: LyTab | null;\n  _isViewInitLoaded: boolean;\n  private _tabsSubscription = Subscription.EMPTY;\n  private _headerPlacement: LyTabsHeaderPlacement;\n  private _headerPlacementClass: string;\n  private _alignTabs: AlignTabs;\n  private _alignTabsClass: string;\n  private _textColor: string;\n  private _textColorClass: string;\n  private _tabResizeSub: Subscription;\n  private _scrollable: boolean;\n  private _timeoutIds: { [index: number]: number } = {};\n  /** Emits whenever the component is destroyed. */\n  private readonly _destroy = new Subject<void>();\n\n  @ViewChild('tabs', { static: true }) tabsRef: ElementRef;\n  @ViewChild('tabContents', { static: true }) tabContents: ElementRef<HTMLDivElement>;\n  @ViewChild('tabsIndicator', { static: true, read: ElementRef }) tabsIndicator?: ElementRef;\n  @Input() selectedIndexOnChange: 'auto' | number = 'auto';\n  /**\n   * Keep the content.\n   * By default, when changing a tab, the previous one is created and deleted.\n   * With this, the content will only be hidden instead of deleting it.\n   */\n  @Input()\n  set keepContent(val: boolean) {\n    const newVal = toBoolean(val);\n    this._keepContent = newVal;\n  }\n  get keepContent() {\n    return this._keepContent;\n  }\n  private _keepContent: boolean;\n\n  /** Animation duration in milliseconds */\n  @Input()\n  set animationDuration(val: number) {\n    this._animationDuration = val;\n    Promise.resolve().then(() => {\n      this.tabContents.nativeElement.style.transitionDuration = `${val}ms`;\n    });\n  }\n  get animationDuration() {\n    return this._animationDuration;\n  }\n  private _animationDuration: number;\n\n  /**\n   * Whether the tab group should grow to the size of the active tab.\n   */\n  @Input()\n  set dynamicHeight(val: boolean) {\n    const newVal = toBoolean(val);\n    this._dynamicHeight = newVal;\n  }\n  get dynamicHeight() {\n    return this._dynamicHeight;\n  }\n  private _dynamicHeight: boolean;\n\n  @Input()\n  set scrollable(val: any) {\n    const newVal = toBoolean(val);\n    if (newVal) {\n      this.renderer.addClass(this.el.nativeElement, this.classes.scrollable);\n    } else if (this._scrollable != null) {\n      this.renderer.removeClass(this.el.nativeElement, this.classes.scrollable);\n    }\n    this._scrollable = newVal;\n  }\n  get scrollable() {\n    return this._scrollable;\n  }\n\n  @Input()\n  @Style<string | null>(\n    val => (theme, ref) => {\n      const __ = ref.selectorsOf(STYLES);\n      return (className: string) => `${className} ${__.indicator}{color:${theme.colorOf(val)};}`;\n    }\n  ) indicatorColor: string;\n\n  @Input()\n  set headerPlacement(val: LyTabsHeaderPlacement) {\n    if (val !== this.headerPlacement) {\n      this._headerPlacement = val;\n      this.sRenderer.toggleClass(this.classes.column, val === 'above' || val === 'below');\n      this.sRenderer.toggleClass(this.classes.row, val === 'before' || val === 'after');\n      this._headerPlacementClass = this.theme.addStyle(`lyTabs.headerPlacement:${val}`,\n      () => {\n        let flexDirectionContainer: string;\n        let flexDirection = this._getFlexDirection(val);\n        let position: string;\n        let height: string | null = null;\n        let width: string | null = null;\n        let heightServer: string | null = null;\n        let widthServer: string | null = null;\n        switch (val) {\n          case YPosition.above:\n            flexDirectionContainer = 'column';\n            position = YPosition.below;\n            height = '2px';\n            widthServer = '100%';\n            break;\n          case YPosition.below:\n            flexDirectionContainer = 'column-reverse';\n            position = YPosition.above;\n            height = '2px';\n            widthServer = '100%';\n            break;\n          case XPosition.before:\n            flexDirectionContainer = 'row';\n            position = XPosition.after;\n            width = '2px';\n            heightServer = '100%';\n            break;\n          case XPosition.after:\n            flexDirectionContainer = 'row-reverse';\n            position = XPosition.before;\n            width = '2px';\n            heightServer = '100%';\n            break;\n\n          default:\n            throw new Error(`LyTabs: value:${val} do not is valid for \\`headerPlacement\\``);\n        }\n        if (val === YPosition.above || val === YPosition.below) {\n          flexDirection = 'row';\n        } else {\n          flexDirection = 'column';\n        }\n        return {\n          [`&`]: {\n            flexDirection: flexDirectionContainer\n          },\n          [`& .${this.classes.indicator},& .${this.classes.indicatorForServer}`]: {\n            [position]: 0,\n            height,\n            width\n          },\n          [`.${this.classes.indicatorForServer}`]: {\n            width: widthServer,\n            height: heightServer\n          },\n          [`& .${this.classes.labels},& .${this.classes.contents}`]: { flexDirection },\n          [`.${this.classes.contents}`]: { flexDirection }\n        };\n      },\n      this.el.nativeElement,\n      this._headerPlacementClass,\n      STYLE_PRIORITY);\n    }\n  }\n  get headerPlacement() {\n    return this._headerPlacement;\n  }\n\n  @Input()\n  set alignTabs(val: AlignTabs) {\n    this._alignTabs = val;\n    this._alignTabsClass = this.theme.addStyle(`lyAlignTabs: ${val}`,\n    (\n      val === 'stretch' ? {\n        [`& .${this.classes.labels} .${this.classes.tab}`]: {\n          flexBasis: 0,\n          flexGrow: 1\n        }\n      } : {\n        [`& .${this.classes.labels}`]: {\n          justifyContent: val in AlignAlias ? AlignAlias[val] : val\n        }\n      }\n    ),\n    this.el.nativeElement,\n    this._alignTabsClass,\n    STYLE_PRIORITY);\n  }\n  get alignTabs() {\n    return this._alignTabs;\n  }\n\n  @Input()\n  set textColor(val: string) {\n    this._textColor = val;\n    this._textColorClass = this.theme.addStyle(`lyTabs.textColor:${val}`,\n    (theme: ThemeVariables) => ({\n      [`& .${this.classes.labelActive}`]: {\n        color: theme.colorOf(val)\n      }\n    }),\n    this.el.nativeElement,\n    this._textColorClass,\n    STYLE_PRIORITY);\n  }\n  get textColor() {\n    return this._textColor;\n  }\n\n  @Input()\n  set selectedIndex(val: number) {\n    if (val !== this.selectedIndex) {\n      this._selectedBeforeIndex = this._selectedIndex as number;\n      this._selectedIndex = this._findIndex(val, 'auto');\n      this._selectedBeforeTab = this._selectedTab!;\n      if (this._isViewInitLoaded) {\n        this._updateTabs();\n      } else {\n        Promise.resolve(null).then(() => this._updateTabs());\n      }\n      this.selectedIndexChange.emit(this._selectedIndex);\n      this._markForCheck();\n    }\n  }\n  get selectedIndex() {\n    return this._selectedIndex;\n  }\n\n  @Output() selectedIndexChange: EventEmitter<any> = new EventEmitter();\n  @ContentChildren(forwardRef(() => LyTab)) tabsList: QueryList<LyTab>;\n  @ViewChildren('tabContent') tabContentList: QueryList<ElementRef<HTMLDivElement>>;\n\n  constructor(\n    private theme: LyTheme2,\n    private renderer: Renderer2,\n    private el: ElementRef,\n    private cd: ChangeDetectorRef,\n    private _viewportRuler: ViewportRuler,\n    readonly sRenderer: StyleRenderer,\n    private _platform: Platform,\n    private _ngZone: NgZone\n  ) {\n    super(theme);\n    this.setAutoContrast();\n    this.animationDuration = 500;\n  }\n\n  ngOnChanges() {\n    if (this._isViewInitLoaded) {\n      this.updateStyle(this.tabsRef.nativeElement);\n    }\n  }\n\n  ngOnInit() {\n    if (this.selectedIndex == null) {\n      this.selectedIndex = 0;\n    }\n    this.renderer.addClass(this.el.nativeElement, this.classes.root);\n    const tabsIndicatorEl = this.tabsIndicator!.nativeElement;\n    this.renderer.addClass(tabsIndicatorEl, this.classes.indicator);\n    /** Set default Color */\n    if (!this.indicatorColor && !this.bg && !this.textColor && !this.elevation) {\n      this.indicatorColor = DEFAULT_INDICATOR_COLOR;\n      this.bg = DEFAULT_BG;\n      this.elevation = DEFAULT_ELEVATION;\n    }\n    if (!this.headerPlacement) {\n      this.headerPlacement = DEFAULT_HEADER_PLACEMENT;\n    }\n  }\n\n  ngAfterContentInit() {\n    this._tabsSubscription = this.tabsList.changes.subscribe(() => {\n      if (this._selectedIndex !== this.selectedIndexOnChange) {\n        this.selectedIndex = this._findIndex(this.selectedIndex, this.selectedIndexOnChange);\n      }\n      this.cd.markForCheck();\n    });\n  }\n\n  ngAfterViewInit() {\n    this._isViewInitLoaded = true;\n    this.tabsList.changes\n      .pipe(\n        switchMapTo(this._ngZone.onStable.asObservable().pipe(take(1))),\n        takeUntil(this._destroy)\n      )\n      .subscribe(() => {\n        this._updateTabs();\n      });\n    this._updateTabs();\n\n    this.updateStyle(this.tabsRef.nativeElement);\n    if (this._platform.isBrowser) {\n      this._tabResizeSub = this._viewportRuler.change().subscribe(() => {\n        if (this._selectedTab) {\n          this._updateIndicator(this._selectedTab);\n          this._selectedTab._tabLabel._updateTabScroll();\n        }\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    this._destroy.next();\n    this._destroy.complete();\n    this._tabsSubscription.unsubscribe();\n    if (this._tabResizeSub) {\n      this._tabResizeSub.unsubscribe();\n    }\n    this._clearTimeouts();\n  }\n\n  private _findIndex(selectedIndex: number, index: string | number) {\n    if (!this.tabsList) {\n      return selectedIndex;\n    }\n    const indexOfLastTab = this.tabsList.length - 1;\n    const currentIndex = typeof index === 'number' ? index : selectedIndex;\n    return currentIndex < 0 ? 0 : currentIndex > indexOfLastTab ? indexOfLastTab : currentIndex;\n  }\n\n  _updateIndicator(currentTab: LyTab, beforeTab?: LyTab): void {\n    if (currentTab) {\n      if (beforeTab) {\n        beforeTab._renderer.removeAttribute(beforeTab._tabIndicator.nativeElement, 'class');\n      }\n      const el = currentTab._el.nativeElement as HTMLElement;\n      const rects = el.getBoundingClientRect();\n\n      if (this.headerPlacement === XPosition.after || this.headerPlacement === XPosition.before) {\n        this.renderer.setStyle(this.tabsIndicator!.nativeElement, 'height', `${rects.height}px`);\n        this.renderer.setStyle(this.tabsIndicator!.nativeElement, 'top', `${el.offsetTop}px`);\n        this.renderer.removeStyle(this.tabsIndicator!.nativeElement, 'width');\n        this.renderer.removeStyle(this.tabsIndicator!.nativeElement, 'left');\n      } else {\n        this.renderer.setStyle(this.tabsIndicator!.nativeElement, 'width', `${rects.width}px`);\n        this.renderer.setStyle(this.tabsIndicator!.nativeElement, 'left', `${el.offsetLeft}px`);\n        this.renderer.removeStyle(this.tabsIndicator!.nativeElement, 'height');\n        this.renderer.removeStyle(this.tabsIndicator!.nativeElement, 'top');\n      }\n    }\n  }\n\n  _markForCheck() {\n    this.cd.markForCheck();\n  }\n\n  private _updateTabs() {\n    if (!this._isViewInitLoaded) {\n      return;\n    }\n    const tabsContents = this.tabContentList.toArray();\n    const tabsForUpdate: [LyTab, HTMLDivElement, number][] = [];\n    this.tabsList.forEach((tab, index) => {\n      const tabContent = tabsContents[index].nativeElement;\n      if (this.selectedIndex === index || this._selectedBeforeIndex === index) {\n        tab._activeContent = true;\n        tabsForUpdate.push([tab, tabContent, index]);\n      } else {\n        if (this.keepContent) {\n          this.renderer.addClass(tabContent, this.classes.hiddenContent);\n        }\n      }\n    });\n    this._ngZone.run(() => {\n      this._markForCheck();\n    });\n    this._ngZone.onStable.asObservable()\n      .pipe(\n        take(1),\n        takeUntil(this._destroy)\n      )\n      .subscribe(() =>\n        tabsForUpdate.forEach(parms =>\n          this._updateContentStyle(...parms)));\n  }\n\n\n  loadTemplate(tab: LyTab, index: number): TemplatePortal<any> | null {\n    tab.index = index;\n    if (this.selectedIndex === tab.index) {\n      // set 0 if is null\n      this._selectedTab = tab;\n      Promise.resolve(null).then(() => {\n        // this._updateDynamicHeight(tabContent, index);\n        if (this._platform.isBrowser) {\n          this._updateIndicator(tab);\n        } else {\n          // for server\n          const selectedBeforeTab = this._selectedBeforeTab;\n          if (selectedBeforeTab) {\n            this.renderer.removeClass(selectedBeforeTab._tabIndicator.nativeElement, this.classes.indicatorForServer);\n          }\n          this.renderer.addClass(this._selectedTab!._tabIndicator.nativeElement, this.classes.indicatorForServer);\n        }\n      });\n    } else if (this._selectedBeforeIndex === index) {\n      // Promise.resolve(null).then(() => this._updateDynamicHeight(tabContent, index));\n    }\n    tab._tabLabel._updateTabState();\n    if (this.keepContent) {\n      return tab.content;\n    }\n    if (tab._activeContent) {\n      return tab.content;\n    }\n    return null;\n  }\n\n  private _getFlexDirection(val: LyTabsHeaderPlacement) {\n    let flexDirection: string;\n    if (val === YPosition.above || val === YPosition.below) {\n      flexDirection = 'row';\n    } else {\n      flexDirection = 'column';\n    }\n    return flexDirection;\n  }\n\n  private _updateContentStyle(tab: LyTab, tabContent: HTMLDivElement, index: number) {\n    if (this.selectedIndex === index || this._selectedBeforeIndex === index) {\n      const prevIndex = this._selectedBeforeIndex;\n      const currentIndex = this.selectedIndex;\n      const dynamicHeight = this.dynamicHeight && this._platform.isBrowser && prevIndex != null;\n      const contentInner = tabContent.firstElementChild as HTMLDivElement;\n      const contentHeight = dynamicHeight ? contentInner.getBoundingClientRect().height : null;\n      const contentHeightPrev = dynamicHeight\n        ? this.tabContentList.toArray()[prevIndex].nativeElement.firstElementChild!.getBoundingClientRect().height\n        : null;\n      if (currentIndex === index) {\n        this.renderer.addClass(tabContent, this.classes.contentActive);\n        if (this.keepContent) {\n          this.renderer.removeClass(tabContent, this.classes.hiddenContent);\n        }\n      } else {\n        this.renderer.removeClass(tabContent, this.classes.contentActive);\n      }\n\n      if (prevIndex == null || !this._platform.isBrowser || prevIndex === currentIndex) {\n        return;\n      }\n\n      this._clearTimeouts(index);\n      const { before } = this._theme.variables;\n      const isDirRow = this.headerPlacement === XPosition.after\n        || this.headerPlacement === XPosition.before;\n      const x = before === 'left'\n        ? 100\n        : isDirRow\n          ? 100\n          : -100;\n      if (currentIndex === index) {\n        const sign = prevIndex < index ? 1 : -1;\n        const pos = isDirRow ? `0,${x * sign}%` : `${x * sign}%, 0`;\n        tabContent.style.overflow = 'hidden';\n        if (dynamicHeight) {\n          tabContent.style.height = `${contentHeightPrev}px`;\n        }\n        tabContent.style.transform = `translate3d(${pos}, 0)`;\n        enforceStyleRecalculation(tabContent);\n        tabContent.style.transition = `${this.animationDuration}ms cubic-bezier(0.35, 0, 0.25, 1)`;\n        tabContent.style.transform = `translate3d(0%, 0, 0)`;\n        if (dynamicHeight) {\n          tabContent.style.height = `${contentHeight}px`;\n        }\n      } else {\n        const sign = currentIndex < index ? 1 : -1;\n        const pos = isDirRow ? `0,${x * sign}%` : `${x * sign}%, 0`;\n        tabContent.style.overflow = 'hidden';\n        tabContent.style.transform = `translate3d(0%, 0, 0)`;\n        enforceStyleRecalculation(tabContent);\n        tabContent.style.transition = `${this.animationDuration}ms cubic-bezier(0.35, 0, 0.25, 1)`;\n        tabContent.style.transform = `translate3d(${pos}, 0)`;\n      }\n      this._runTimeoutOutsideZone(index, () => {\n        tabContent.style.transform = ``;\n        tabContent.style.transition = ``;\n        tabContent.style.overflow = ``;\n        if (dynamicHeight) {\n          tabContent.style.height = ``;\n        }\n        if (currentIndex !== index) {\n          if (this.keepContent) {\n            this.renderer.addClass(tabContent, this.classes.hiddenContent);\n          }\n          tab._activeContent = false;\n          this._ngZone.run(() => this._markForCheck());\n        }\n      }, this.animationDuration);\n    }\n  }\n\n  /** Runs a timeout outside of the Angular zone to avoid triggering the change detection. */\n  private _runTimeoutOutsideZone(index: number, fn: () => void, delay = 0) {\n    this._ngZone.runOutsideAngular(() => this._timeoutIds[`_${index}`] = window.setTimeout(fn, delay));\n  }\n\n  private _clearTimeouts(tabIndex?: number) {\n    if (tabIndex != null) {\n      const key = `_${tabIndex}`;\n      if (this._timeoutIds[key] != null) {\n        window.clearTimeout(this._timeoutIds[key]);\n        delete this._timeoutIds[key];\n      }\n    } else {\n      Object.keys(this._timeoutIds)\n        .forEach(key => window.clearTimeout(this._timeoutIds[`_${key}`]));\n    }\n  }\n}\n\n@Component({\n  selector: 'ly-tab',\n  templateUrl: './tab.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    StyleRenderer\n  ]\n})\nexport class LyTab implements OnInit {\n  /** Current tab index */\n  index: number;\n  _isBrowser = this._platform.isBrowser;\n  @ContentChild(LyTabContent, { read: TemplateRef, static: true }) _templateRefLazy: TemplateRef<LyTabContent>;\n  @ViewChild('_templateNgContent', { static: true }) _templateRef: TemplateRef<any>;\n  @ViewChild('tabIndicator') _tabIndicator: ElementRef;\n  @ContentChild(forwardRef(() => LyTabLabel), { static: true }) _tabLabel: LyTabLabel & { };\n\n  /** Portal that will be the hosted content of the tab */\n  private _contentPortal: TemplatePortal | null = null;\n\n  /** @docs-private */\n  get content(): TemplatePortal | null {\n    return this._contentPortal;\n  }\n\n  _activeContent: boolean;\n\n  constructor(\n    private _tabs: LyTabs,\n    public _renderer: Renderer2,\n    public _el: ElementRef,\n    readonly sRenderer: StyleRenderer,\n    private _platform: Platform,\n    private _viewContainerRef: ViewContainerRef,\n  ) { }\n\n  ngOnInit() {\n    this._renderer.addClass(this._el.nativeElement, this._tabs.classes.tab);\n    this._contentPortal = new TemplatePortal(\n      this._templateRefLazy || this._templateRef,\n      this._viewContainerRef\n    );\n  }\n}\n\n@Component({\n  selector: 'button[ly-tab-label], a[ly-tab-label]',\n  templateUrl: 'tab-label.html',\n  inputs: [\n    'bg',\n    'color',\n    'raised',\n    'disabled',\n    'outlined',\n    'elevation',\n    'shadowColor',\n    'disableRipple'\n  ],\n  providers: [\n    StyleRenderer\n  ]\n})\nexport class LyTabLabel extends LyButton implements OnInit, AfterViewInit {\n  private _activeTabStyle: boolean;\n  private _active: boolean;\n  disableRipple: boolean;\n  _isBrowser = this._platform.isBrowser;\n\n  @Input()\n  get active() {\n    return this._active;\n  }\n  set active(val: boolean) {\n    const newVal = toBoolean(val);\n    if (newVal && val !== this.active) {\n      Promise.resolve(null).then(() => this._tabs.selectedIndex = this._tab.index);\n    }\n  }\n\n  @ViewChild('rippleContainer') _rippleContainer: ElementRef;\n  @HostListener('click') _onClickTab() {\n    if (!this.disabled) {\n      this._tabs.selectedIndex = this._tab.index;\n    }\n  }\n\n\n  constructor(\n    _el: ElementRef,\n    _renderer: Renderer2,\n    _theme: LyTheme2,\n    _ngZone: NgZone,\n    _rippleService: LyRippleService,\n    _focusState: LyFocusState,\n    readonly sRenderer: StyleRenderer,\n    @Optional() private _tab: LyTab,\n    @Optional() private _tabs: LyTabs,\n    platform: Platform\n  ) {\n    super(_el, _renderer, _theme, _ngZone, _rippleService, _focusState, sRenderer, platform, null as any);\n  }\n\n  ngOnInit() {\n    this._renderer.addClass(this._el.nativeElement, this._tabs.classes.label);\n    // set default disable ripple\n    if (this.disableRipple == null) {\n      this.disableRipple = DEFAULT_DISABLE_RIPPLE;\n    }\n  }\n\n  _updateTabState() {\n    // update styles for active tab\n    if (this._tabs._selectedIndex === this._tab.index) {\n      if (!this._activeTabStyle) {\n        this._activeTabStyle = true;\n        this._renderer.addClass(this._el.nativeElement, this._tabs.classes.labelActive);\n        this._updateTabScroll();\n      }\n    } else if (this._activeTabStyle) {\n      this._activeTabStyle = false;\n      this._renderer.removeClass(this._el.nativeElement, this._tabs.classes.labelActive);\n    }\n  }\n\n  _updateTabScroll() {\n    if (this._platform.isBrowser && this._tabs.scrollable) {\n      const tab = this._tab._el.nativeElement as HTMLElement;\n      const tabContainer = this._tabs.tabsRef.nativeElement as HTMLElement;\n      if (tabContainer.scrollWidth !== tabContainer.offsetWidth) {\n        const dir = this._theme.variables.direction;\n        const max = tabContainer.scrollWidth - tabContainer.offsetWidth;\n        const offsetBefore = dir === Dir.rtl\n        ? max + tab.offsetLeft\n        : tab.offsetLeft;\n        const l = offsetBefore + tab.offsetWidth / 2 - tabContainer.offsetWidth / 2;\n        const newVal = l >= max ? max : l <= 0 ? 0 : l;\n        scrollWithAnimation(this._tabs.tabsRef.nativeElement, newVal, 350, 'x');\n      }\n    }\n  }\n\n  ngAfterViewInit() { }\n}\n\n/** Enforces a style recalculation of a DOM element by computing its styles. */\nfunction enforceStyleRecalculation(element: HTMLElement) {\n  window.getComputedStyle(element).getPropertyValue('opacity');\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgTranscludeModule, LyCommonModule, LyThemeModule } from '@alyle/ui';\nimport { LyTabs, LyTabLabel, LyTab } from './tabs';\nimport { LyTabContent } from './tab-content.directive';\nimport { PortalModule } from '@angular/cdk/portal';\n\n@NgModule({\n  imports: [\n    LyThemeModule,\n    CommonModule,\n    LyCommonModule,\n    NgTranscludeModule,\n    PortalModule\n  ],\n  exports: [LyCommonModule, LyTabs, LyTab, LyTabLabel, LyTabContent],\n  declarations: [LyTabs, LyTab, LyTabLabel, LyTabContent]\n})\nexport class LyTabsModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {LyTabContent as ɵa} from './tab-content.directive';"],"names":[],"mappings":"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"}