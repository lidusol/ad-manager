(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('@angular/core'),exports, require('@angular/core'), require('@angular/common'), require('rxjs'), require('rxjs/operators'), require('@angular/fire')) :
    typeof define === 'function' && define.amd ? define(['@angular/core','exports', '@angular/core', '@angular/common', 'rxjs', 'rxjs/operators', '@angular/fire'], factory) :
    (factory(global.ng.core,(global.angularfire2 = global.angularfire2 || {}, global.angularfire2.messaging = {}),global.ng.core,global.ng.common,global.rxjs,global.rxjs.operators,global.angularfire2));
}(this, (function (ɵngcc0,exports,core,common,rxjs,operators,fire) { 'use strict';

    var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __metadata = (undefined && undefined.__metadata) || function (k, v) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
    };
    var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
        return function (target, key) { decorator(target, key, paramIndex); }
    };
    var AngularFireMessaging = (function () {
        function AngularFireMessaging(options, nameOrConfig, platformId, zone) {
            var _this = this;
            var schedulers = new fire.ɵAngularFireSchedulers(zone);
            var requireMessaging = rxjs.empty();
            this.messaging = requireMessaging.pipe(operators.observeOn(schedulers.outsideAngular), operators.map(function () { return fire._firebaseAppFactory(options, zone, nameOrConfig); }), operators.map(function (app) { return app.messaging(); }));
            if (!common.isPlatformServer(platformId)) {
                this.requestPermission = this.messaging.pipe(operators.observeOn(schedulers.outsideAngular), operators.switchMap(function (messaging) { return messaging.requestPermission(); }));
            }
            else {
                this.requestPermission = rxjs.throwError('Not available on server platform.');
            }
            this.getToken = this.messaging.pipe(operators.observeOn(schedulers.outsideAngular), operators.switchMap(function (messaging) { return messaging.getToken(); }), operators.defaultIfEmpty(null));
            var tokenChanges = this.messaging.pipe(operators.observeOn(schedulers.outsideAngular), operators.switchMap(function (messaging) { return new rxjs.Observable(messaging.onTokenRefresh.bind(messaging)).pipe(operators.switchMap(function () { return messaging.getToken(); })); }));
            this.tokenChanges = this.getToken.pipe(operators.concat(tokenChanges));
            this.messages = this.messaging.pipe(operators.observeOn(schedulers.outsideAngular), operators.switchMap(function (messaging) { return new rxjs.Observable(messaging.onMessage.bind(messaging)); }));
            this.requestToken = this.requestPermission.pipe(operators.catchError(function () { return rxjs.of(null); }), operators.mergeMap(function () { return _this.tokenChanges; }));
            this.deleteToken = function (token) { return _this.messaging.pipe(operators.observeOn(schedulers.outsideAngular), operators.switchMap(function (messaging) { return messaging.deleteToken(token); }), operators.defaultIfEmpty(false)); };
        }
        AngularFireMessaging = __decorate([ __param(0, core.Inject(fire.FIREBASE_OPTIONS)),
            __param(1, core.Optional()), __param(1, core.Inject(fire.FIREBASE_APP_NAME)),
            __param(2, core.Inject(core.PLATFORM_ID)),
            __metadata("design:paramtypes", [Object, Object, Object,
                core.NgZone])
        ], AngularFireMessaging);
AngularFireMessaging.ɵfac = function AngularFireMessaging_Factory(t) { return new (t || AngularFireMessaging)(ɵngcc0.ɵɵinject(fire.FIREBASE_OPTIONS), ɵngcc0.ɵɵinject(fire.FIREBASE_APP_NAME, 8), ɵngcc0.ɵɵinject(core.PLATFORM_ID), ɵngcc0.ɵɵinject(ɵngcc0.NgZone)); };
AngularFireMessaging.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: AngularFireMessaging, factory: function (t) { return AngularFireMessaging.ɵfac(t); } });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AngularFireMessaging, [{
        type: core.Injectable
    }], function () { return [{ type: Object, decorators: [{
                type: core.Inject,
                args: [fire.FIREBASE_OPTIONS]
            }] }, { type: Object, decorators: [{
                type: core.Optional
            }, {
                type: core.Inject,
                args: [fire.FIREBASE_APP_NAME]
            }] }, { type: Object, decorators: [{
                type: core.Inject,
                args: [core.PLATFORM_ID]
            }] }, { type: ɵngcc0.NgZone }]; }, null); })();
        return AngularFireMessaging;
    }());

    var __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var AngularFireMessagingModule = (function () {
        function AngularFireMessagingModule() {
        }
AngularFireMessagingModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: AngularFireMessagingModule });
AngularFireMessagingModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function AngularFireMessagingModule_Factory(t) { return new (t || AngularFireMessagingModule)(); }, providers: [AngularFireMessaging] });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AngularFireMessagingModule, [{
        type: core.NgModule,
        args: [{
                providers: [AngularFireMessaging]
            }]
    }], function () { return []; }, null); })();
        return AngularFireMessagingModule;
    }());

    exports.AngularFireMessaging = AngularFireMessaging;
    exports.AngularFireMessagingModule = AngularFireMessagingModule;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVzc2FnaW5nLnVtZC5qcyIsInNvdXJjZXMiOlsibWVzc2FnaW5nLnVtZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLG9HQUEyRTtBQUMzRSx5RUFBeUQ7QUFDekQsNEJBQWE7QUFDYiwwQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUVXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OzsyREFBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztnREFLdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBmYWN0b3J5KGV4cG9ydHMsIHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKSwgcmVxdWlyZSgnQGFuZ3VsYXIvY29tbW9uJyksIHJlcXVpcmUoJ3J4anMnKSwgcmVxdWlyZSgncnhqcy9vcGVyYXRvcnMnKSwgcmVxdWlyZSgnQGFuZ3VsYXIvZmlyZScpKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cycsICdAYW5ndWxhci9jb3JlJywgJ0Bhbmd1bGFyL2NvbW1vbicsICdyeGpzJywgJ3J4anMvb3BlcmF0b3JzJywgJ0Bhbmd1bGFyL2ZpcmUnXSwgZmFjdG9yeSkgOlxuICAgIChmYWN0b3J5KChnbG9iYWwuYW5ndWxhcmZpcmUyID0gZ2xvYmFsLmFuZ3VsYXJmaXJlMiB8fCB7fSwgZ2xvYmFsLmFuZ3VsYXJmaXJlMi5tZXNzYWdpbmcgPSB7fSksZ2xvYmFsLm5nLmNvcmUsZ2xvYmFsLm5nLmNvbW1vbixnbG9iYWwucnhqcyxnbG9iYWwucnhqcy5vcGVyYXRvcnMsZ2xvYmFsLmFuZ3VsYXJmaXJlMikpO1xufSh0aGlzLCAoZnVuY3Rpb24gKGV4cG9ydHMsY29yZSxjb21tb24scnhqcyxvcGVyYXRvcnMsZmlyZSkgeyAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgX19kZWNvcmF0ZSA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgICAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgICAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgICAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgICAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuICAgIH07XG4gICAgdmFyIF9fbWV0YWRhdGEgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xuICAgICAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG4gICAgfTtcbiAgICB2YXIgX19wYXJhbSA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcGFyYW0pIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG4gICAgfTtcbiAgICB2YXIgQW5ndWxhckZpcmVNZXNzYWdpbmcgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBBbmd1bGFyRmlyZU1lc3NhZ2luZyhvcHRpb25zLCBuYW1lT3JDb25maWcsIHBsYXRmb3JtSWQsIHpvbmUpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgc2NoZWR1bGVycyA9IG5ldyBmaXJlLsm1QW5ndWxhckZpcmVTY2hlZHVsZXJzKHpvbmUpO1xuICAgICAgICAgICAgdmFyIHJlcXVpcmVNZXNzYWdpbmcgPSByeGpzLmVtcHR5KCk7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2luZyA9IHJlcXVpcmVNZXNzYWdpbmcucGlwZShvcGVyYXRvcnMub2JzZXJ2ZU9uKHNjaGVkdWxlcnMub3V0c2lkZUFuZ3VsYXIpLCBvcGVyYXRvcnMubWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZpcmUuX2ZpcmViYXNlQXBwRmFjdG9yeShvcHRpb25zLCB6b25lLCBuYW1lT3JDb25maWcpOyB9KSwgb3BlcmF0b3JzLm1hcChmdW5jdGlvbiAoYXBwKSB7IHJldHVybiBhcHAubWVzc2FnaW5nKCk7IH0pKTtcbiAgICAgICAgICAgIGlmICghY29tbW9uLmlzUGxhdGZvcm1TZXJ2ZXIocGxhdGZvcm1JZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RQZXJtaXNzaW9uID0gdGhpcy5tZXNzYWdpbmcucGlwZShvcGVyYXRvcnMub2JzZXJ2ZU9uKHNjaGVkdWxlcnMub3V0c2lkZUFuZ3VsYXIpLCBvcGVyYXRvcnMuc3dpdGNoTWFwKGZ1bmN0aW9uIChtZXNzYWdpbmcpIHsgcmV0dXJuIG1lc3NhZ2luZy5yZXF1ZXN0UGVybWlzc2lvbigpOyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RQZXJtaXNzaW9uID0gcnhqcy50aHJvd0Vycm9yKCdOb3QgYXZhaWxhYmxlIG9uIHNlcnZlciBwbGF0Zm9ybS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZ2V0VG9rZW4gPSB0aGlzLm1lc3NhZ2luZy5waXBlKG9wZXJhdG9ycy5vYnNlcnZlT24oc2NoZWR1bGVycy5vdXRzaWRlQW5ndWxhciksIG9wZXJhdG9ycy5zd2l0Y2hNYXAoZnVuY3Rpb24gKG1lc3NhZ2luZykgeyByZXR1cm4gbWVzc2FnaW5nLmdldFRva2VuKCk7IH0pLCBvcGVyYXRvcnMuZGVmYXVsdElmRW1wdHkobnVsbCkpO1xuICAgICAgICAgICAgdmFyIHRva2VuQ2hhbmdlcyA9IHRoaXMubWVzc2FnaW5nLnBpcGUob3BlcmF0b3JzLm9ic2VydmVPbihzY2hlZHVsZXJzLm91dHNpZGVBbmd1bGFyKSwgb3BlcmF0b3JzLnN3aXRjaE1hcChmdW5jdGlvbiAobWVzc2FnaW5nKSB7IHJldHVybiBuZXcgcnhqcy5PYnNlcnZhYmxlKG1lc3NhZ2luZy5vblRva2VuUmVmcmVzaC5iaW5kKG1lc3NhZ2luZykpLnBpcGUob3BlcmF0b3JzLnN3aXRjaE1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBtZXNzYWdpbmcuZ2V0VG9rZW4oKTsgfSkpOyB9KSk7XG4gICAgICAgICAgICB0aGlzLnRva2VuQ2hhbmdlcyA9IHRoaXMuZ2V0VG9rZW4ucGlwZShvcGVyYXRvcnMuY29uY2F0KHRva2VuQ2hhbmdlcykpO1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlcyA9IHRoaXMubWVzc2FnaW5nLnBpcGUob3BlcmF0b3JzLm9ic2VydmVPbihzY2hlZHVsZXJzLm91dHNpZGVBbmd1bGFyKSwgb3BlcmF0b3JzLnN3aXRjaE1hcChmdW5jdGlvbiAobWVzc2FnaW5nKSB7IHJldHVybiBuZXcgcnhqcy5PYnNlcnZhYmxlKG1lc3NhZ2luZy5vbk1lc3NhZ2UuYmluZChtZXNzYWdpbmcpKTsgfSkpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VG9rZW4gPSB0aGlzLnJlcXVlc3RQZXJtaXNzaW9uLnBpcGUob3BlcmF0b3JzLmNhdGNoRXJyb3IoZnVuY3Rpb24gKCkgeyByZXR1cm4gcnhqcy5vZihudWxsKTsgfSksIG9wZXJhdG9ycy5tZXJnZU1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy50b2tlbkNoYW5nZXM7IH0pKTtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlVG9rZW4gPSBmdW5jdGlvbiAodG9rZW4pIHsgcmV0dXJuIF90aGlzLm1lc3NhZ2luZy5waXBlKG9wZXJhdG9ycy5vYnNlcnZlT24oc2NoZWR1bGVycy5vdXRzaWRlQW5ndWxhciksIG9wZXJhdG9ycy5zd2l0Y2hNYXAoZnVuY3Rpb24gKG1lc3NhZ2luZykgeyByZXR1cm4gbWVzc2FnaW5nLmRlbGV0ZVRva2VuKHRva2VuKTsgfSksIG9wZXJhdG9ycy5kZWZhdWx0SWZFbXB0eShmYWxzZSkpOyB9O1xuICAgICAgICB9XG4gICAgICAgIEFuZ3VsYXJGaXJlTWVzc2FnaW5nID0gX19kZWNvcmF0ZShbXG4gICAgICAgICAgICBjb3JlLkluamVjdGFibGUoKSxcbiAgICAgICAgICAgIF9fcGFyYW0oMCwgY29yZS5JbmplY3QoZmlyZS5GSVJFQkFTRV9PUFRJT05TKSksXG4gICAgICAgICAgICBfX3BhcmFtKDEsIGNvcmUuT3B0aW9uYWwoKSksIF9fcGFyYW0oMSwgY29yZS5JbmplY3QoZmlyZS5GSVJFQkFTRV9BUFBfTkFNRSkpLFxuICAgICAgICAgICAgX19wYXJhbSgyLCBjb3JlLkluamVjdChjb3JlLlBMQVRGT1JNX0lEKSksXG4gICAgICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgT2JqZWN0LCBPYmplY3QsXG4gICAgICAgICAgICAgICAgY29yZS5OZ1pvbmVdKVxuICAgICAgICBdLCBBbmd1bGFyRmlyZU1lc3NhZ2luZyk7XG4gICAgICAgIHJldHVybiBBbmd1bGFyRmlyZU1lc3NhZ2luZztcbiAgICB9KCkpO1xuXG4gICAgdmFyIF9fZGVjb3JhdGUkMSA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgICAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgICAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgICAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgICAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuICAgIH07XG4gICAgdmFyIEFuZ3VsYXJGaXJlTWVzc2FnaW5nTW9kdWxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gQW5ndWxhckZpcmVNZXNzYWdpbmdNb2R1bGUoKSB7XG4gICAgICAgIH1cbiAgICAgICAgQW5ndWxhckZpcmVNZXNzYWdpbmdNb2R1bGUgPSBfX2RlY29yYXRlJDEoW1xuICAgICAgICAgICAgY29yZS5OZ01vZHVsZSh7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbQW5ndWxhckZpcmVNZXNzYWdpbmddXG4gICAgICAgICAgICB9KVxuICAgICAgICBdLCBBbmd1bGFyRmlyZU1lc3NhZ2luZ01vZHVsZSk7XG4gICAgICAgIHJldHVybiBBbmd1bGFyRmlyZU1lc3NhZ2luZ01vZHVsZTtcbiAgICB9KCkpO1xuXG4gICAgZXhwb3J0cy5Bbmd1bGFyRmlyZU1lc3NhZ2luZyA9IEFuZ3VsYXJGaXJlTWVzc2FnaW5nO1xuICAgIGV4cG9ydHMuQW5ndWxhckZpcmVNZXNzYWdpbmdNb2R1bGUgPSBBbmd1bGFyRmlyZU1lc3NhZ2luZ01vZHVsZTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pKSk7XG4iXX0=