import { __decorate } from "tslib";
import { Component, EventEmitter, Input, OnDestroy, Output, TemplateRef, ViewChild, ViewEncapsulation, ElementRef, ChangeDetectionStrategy, HostBinding, NgZone } from '@angular/core';
import { coerceBooleanProperty } from '@angular/cdk/coercion';
import { ESCAPE } from '@angular/cdk/keycodes';
import { throwMdePopoverInvalidPositionX, throwMdePopoverInvalidPositionY } from './popover-errors';
import { transformPopover } from './popover-animations';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@angular/common';
import * as ɵngcc2 from '@angular/cdk/a11y';

function MdePopover_ng_template_0_div_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "div", 3);
} if (rf & 2) {
    var ctx_r1 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵproperty("ngStyle", ctx_r1.popoverArrowStyles);
} }
function MdePopover_ng_template_0_Template(rf, ctx) { if (rf & 1) {
    var _r3 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 0);
    ɵngcc0.ɵɵlistener("keydown", function MdePopover_ng_template_0_Template_div_keydown_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r3); var ctx_r2 = ɵngcc0.ɵɵnextContext(); return ctx_r2._handleKeydown($event); })("click", function MdePopover_ng_template_0_Template_div_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r3); var ctx_r4 = ɵngcc0.ɵɵnextContext(); return ctx_r4.onClick(); })("mouseover", function MdePopover_ng_template_0_Template_div_mouseover_0_listener() { ɵngcc0.ɵɵrestoreView(_r3); var ctx_r5 = ɵngcc0.ɵɵnextContext(); return ctx_r5.onMouseOver(); })("mouseleave", function MdePopover_ng_template_0_Template_div_mouseleave_0_listener() { ɵngcc0.ɵɵrestoreView(_r3); var ctx_r6 = ɵngcc0.ɵɵnextContext(); return ctx_r6.onMouseLeave(); });
    ɵngcc0.ɵɵtemplate(1, MdePopover_ng_template_0_div_1_Template, 1, 1, "div", 1);
    ɵngcc0.ɵɵelementStart(2, "div", 2);
    ɵngcc0.ɵɵprojection(3);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵclassProp("mde-popover-overlap", ctx_r0.overlapTrigger);
    ɵngcc0.ɵɵproperty("ngClass", ctx_r0._classList)("ngStyle", ctx_r0.popoverPanelStyles)("@.disabled", ctx_r0.disableAnimation)("@transformPopover", "enter");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r0.overlapTrigger);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngStyle", ctx_r0.popoverContentStyles)("cdkTrapFocus", ctx_r0.focusTrapEnabled)("cdkTrapFocusAutoCapture", ctx_r0.focusTrapAutoCaptureEnabled);
} }
var _c0 = ["*"];
var MdePopover = /** @class */ (function () {
    function MdePopover(_elementRef, zone) {
        this._elementRef = _elementRef;
        this.zone = zone;
        this.role = 'dialog';
        /** Settings for popover, view setters and getters for more detail */
        this._positionX = 'after';
        this._positionY = 'below';
        this._triggerEvent = 'hover';
        this._enterDelay = 200;
        this._leaveDelay = 200;
        this._overlapTrigger = true;
        this._disableAnimation = false;
        this._targetOffsetX = 0;
        this._targetOffsetY = 0;
        this._arrowOffsetX = 20;
        this._arrowWidth = 8;
        this._arrowColor = 'rgba(0, 0, 0, 0.12)';
        this._closeOnClick = true;
        this._focusTrapEnabled = true;
        this._focusTrapAutoCaptureEnabled = true;
        /** Config object to be passed into the popover's ngClass */
        this._classList = {};
        // TODO: Write comment description
        /** */
        this.containerPositioning = false;
        /** Closing disabled on popover */
        this.closeDisabled = false;
        /** Emits the current animation state whenever it changes. */
        this._onAnimationStateChange = new EventEmitter();
        /** Event emitted when the popover is closed. */
        this.close = new EventEmitter();
        this.setPositionClasses();
    }
    Object.defineProperty(MdePopover.prototype, "positionX", {
        /** Position of the popover in the X axis. */
        get: function () { return this._positionX; },
        set: function (value) {
            if (value !== 'before' && value !== 'after') {
                throwMdePopoverInvalidPositionX();
            }
            this._positionX = value;
            this.setPositionClasses();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "positionY", {
        /** Position of the popover in the Y axis. */
        get: function () { return this._positionY; },
        set: function (value) {
            if (value !== 'above' && value !== 'below') {
                throwMdePopoverInvalidPositionY();
            }
            this._positionY = value;
            this.setPositionClasses();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "triggerEvent", {
        /** Popover trigger event */
        get: function () { return this._triggerEvent; },
        set: function (value) { this._triggerEvent = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "enterDelay", {
        /** Popover enter delay */
        get: function () { return this._enterDelay; },
        set: function (value) { this._enterDelay = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "leaveDelay", {
        /** Popover leave delay */
        get: function () { return this._leaveDelay; },
        set: function (value) { this._leaveDelay = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "overlapTrigger", {
        /** Popover overlap trigger */
        get: function () { return this._overlapTrigger; },
        set: function (value) { this._overlapTrigger = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "targetOffsetX", {
        /** Popover target offset x */
        get: function () { return this._targetOffsetX; },
        set: function (value) { this._targetOffsetX = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "targetOffsetY", {
        /** Popover target offset y */
        get: function () { return this._targetOffsetY; },
        set: function (value) { this._targetOffsetY = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "arrowOffsetX", {
        /** Popover arrow offset x */
        get: function () { return this._arrowOffsetX; },
        set: function (value) { this._arrowOffsetX = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "arrowWidth", {
        /** Popover arrow width */
        get: function () { return this._arrowWidth; },
        set: function (value) { this._arrowWidth = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "arrowColor", {
        /** Popover arrow color */
        get: function () { return this._arrowColor; },
        set: function (value) { this._arrowColor = value; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "closeOnClick", {
        /**
         * Popover container close on click
         * default: true
         */
        get: function () { return this._closeOnClick; },
        set: function (value) { this._closeOnClick = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "disableAnimation", {
        /**
         * Disable animations of popover and all child elements
         * default: false
         */
        get: function () { return this._disableAnimation; },
        set: function (value) { this._disableAnimation = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "focusTrapEnabled", {
        /**
         * Popover focus trap using cdkTrapFocus
         * default: true
         */
        get: function () { return this._focusTrapEnabled; },
        set: function (value) { this._focusTrapEnabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "focusTrapAutoCaptureEnabled", {
        /**
         * Popover focus trap auto capture using cdkTrapFocusAutoCapture
         * default: true
         */
        get: function () { return this._focusTrapAutoCaptureEnabled; },
        set: function (value) { this._focusTrapAutoCaptureEnabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "panelClass", {
        /**
         * This method takes classes set on the host md-popover element and applies them on the
         * popover template that displays in the overlay container.  Otherwise, it's difficult
         * to style the containing popover from outside the component.
         * @param classes list of class names
         */
        set: function (classes) {
            if (classes && classes.length) {
                this._classList = classes.split(' ').reduce(function (obj, className) {
                    obj[className] = true;
                    return obj;
                }, {});
                this._elementRef.nativeElement.className = '';
                this.setPositionClasses();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdePopover.prototype, "classList", {
        /**
         * This method takes classes set on the host md-popover element and applies them on the
         * popover template that displays in the overlay container.  Otherwise, it's difficult
         * to style the containing popover from outside the component.
         * @deprecated Use `panelClass` instead.
         */
        get: function () { return this.panelClass; },
        set: function (classes) { this.panelClass = classes; },
        enumerable: true,
        configurable: true
    });
    MdePopover.prototype.ngOnDestroy = function () {
        this._emitCloseEvent();
        this.close.complete();
    };
    /** Handle a keyboard event from the popover, delegating to the appropriate action. */
    MdePopover.prototype._handleKeydown = function (event) {
        switch (event.keyCode) {
            case ESCAPE:
                this._emitCloseEvent();
                return;
        }
    };
    /**
     * This emits a close event to which the trigger is subscribed. When emitted, the
     * trigger will close the popover.
     */
    MdePopover.prototype._emitCloseEvent = function () {
        this.close.emit();
    };
    /** Close popover on click if closeOnClick is true */
    MdePopover.prototype.onClick = function () {
        if (this.closeOnClick) {
            this._emitCloseEvent();
        }
    };
    /**
     * TODO: Refactor when @angular/cdk includes feature I mentioned on github see link below.
     * https://github.com/angular/material2/pull/5493#issuecomment-313085323
     */
    /** Disables close of popover when leaving trigger element and mouse over the popover */
    MdePopover.prototype.onMouseOver = function () {
        if (this.triggerEvent === 'hover') {
            this.closeDisabled = true;
        }
    };
    /** Enables close of popover when mouse leaving popover element */
    MdePopover.prototype.onMouseLeave = function () {
        if (this.triggerEvent === 'hover') {
            this.closeDisabled = false;
            this._emitCloseEvent();
        }
    };
    // TODO: Refactor how styles are set and updated on the component, use best practices.
    // TODO: If arrow left and right positioning is requested, see if flex direction can be used to work with order.
    /** Sets the current styles for the popover to allow for dynamically changing settings */
    MdePopover.prototype.setCurrentStyles = function () {
        // TODO: See if arrow position can be calculated automatically and allow override.
        // TODO: See if flex order is a better alternative to position arrow top or bottom.
        this.popoverArrowStyles = {
            'right': this.positionX === 'before' ? (this.arrowOffsetX - this.arrowWidth) + 'px' : '',
            'left': this.positionX === 'after' ? (this.arrowOffsetX - this.arrowWidth) + 'px' : '',
            'border-top': this.positionY === 'below' ?
                this.arrowWidth + 'px solid ' + this.arrowColor : '0px solid transparent',
            'border-right': 'undefined' === undefined ?
                this.arrowWidth + 'px solid ' + this.arrowColor :
                this.arrowWidth + 'px solid transparent',
            'border-bottom': this.positionY === 'above' ?
                this.arrowWidth + 'px solid ' + this.arrowColor :
                this.arrowWidth + 'px solid transparent',
            'border-left': 'undefined' === undefined ?
                this.arrowWidth + 'px solid ' + this.arrowColor :
                this.arrowWidth + 'px solid transparent',
        };
        // TODO: Remove if flex order is added.
        this.popoverContentStyles = {
            'padding-top': this.overlapTrigger === true ? '0px' : this.arrowWidth + 'px',
            'padding-bottom': this.overlapTrigger === true ? '0px' : (this.arrowWidth) + 'px',
            'margin-top': this.overlapTrigger === false && this.positionY === 'below' && this.containerPositioning === false ?
                -(this.arrowWidth * 2) + 'px' : '0px'
        };
    };
    /**
     * It's necessary to set position-based classes to ensure the popover panel animation
     * folds out from the correct direction.
     */
    MdePopover.prototype.setPositionClasses = function (posX, posY) {
        if (posX === void 0) { posX = this.positionX; }
        if (posY === void 0) { posY = this.positionY; }
        this._classList['mde-popover-before'] = posX === 'before';
        this._classList['mde-popover-after'] = posX === 'after';
        this._classList['mde-popover-above'] = posY === 'above';
        this._classList['mde-popover-below'] = posY === 'below';
    };
    MdePopover.ctorParameters = function () { return [
        { type: ElementRef },
        { type: NgZone }
    ]; };
    __decorate([
        HostBinding('attr.role')
    ], MdePopover.prototype, "role", void 0);
    __decorate([
        Input('mdePopoverPositionX')
    ], MdePopover.prototype, "positionX", null);
    __decorate([
        Input('mdePopoverPositionY')
    ], MdePopover.prototype, "positionY", null);
    __decorate([
        Input('mdePopoverTriggerOn')
    ], MdePopover.prototype, "triggerEvent", null);
    __decorate([
        Input('mdePopoverEnterDelay')
    ], MdePopover.prototype, "enterDelay", null);
    __decorate([
        Input('mdePopoverLeaveDelay')
    ], MdePopover.prototype, "leaveDelay", null);
    __decorate([
        Input('mdePopoverOverlapTrigger')
    ], MdePopover.prototype, "overlapTrigger", null);
    __decorate([
        Input('mdePopoverOffsetX')
    ], MdePopover.prototype, "targetOffsetX", null);
    __decorate([
        Input('mdePopoverOffsetY')
    ], MdePopover.prototype, "targetOffsetY", null);
    __decorate([
        Input('mdePopoverArrowOffsetX')
    ], MdePopover.prototype, "arrowOffsetX", null);
    __decorate([
        Input('mdePopoverArrowWidth')
    ], MdePopover.prototype, "arrowWidth", null);
    __decorate([
        Input('mdePopoverArrowColor')
    ], MdePopover.prototype, "arrowColor", null);
    __decorate([
        Input('mdePopoverCloseOnClick')
    ], MdePopover.prototype, "closeOnClick", null);
    __decorate([
        Input('mdePopoverDisableAnimation')
    ], MdePopover.prototype, "disableAnimation", null);
    __decorate([
        Input('mdeFocusTrapEnabled')
    ], MdePopover.prototype, "focusTrapEnabled", null);
    __decorate([
        Input('mdeFocusTrapAutoCaptureEnabled')
    ], MdePopover.prototype, "focusTrapAutoCaptureEnabled", null);
    __decorate([
        Input('class')
    ], MdePopover.prototype, "panelClass", null);
    __decorate([
        Input()
    ], MdePopover.prototype, "classList", null);
    __decorate([
        Output()
    ], MdePopover.prototype, "close", void 0);
    __decorate([
        ViewChild(TemplateRef)
    ], MdePopover.prototype, "templateRef", void 0);
MdePopover.ɵfac = function MdePopover_Factory(t) { return new (t || MdePopover)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone)); };
MdePopover.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: MdePopover, selectors: [["mde-popover"]], viewQuery: function MdePopover_Query(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵviewQuery(TemplateRef, true);
    } if (rf & 2) {
        var _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.templateRef = _t.first);
    } }, hostVars: 1, hostBindings: function MdePopover_HostBindings(rf, ctx) { if (rf & 2) {
        ɵngcc0.ɵɵattribute("role", ctx.role);
    } }, inputs: { positionX: ["mdePopoverPositionX", "positionX"], positionY: ["mdePopoverPositionY", "positionY"], triggerEvent: ["mdePopoverTriggerOn", "triggerEvent"], enterDelay: ["mdePopoverEnterDelay", "enterDelay"], leaveDelay: ["mdePopoverLeaveDelay", "leaveDelay"], overlapTrigger: ["mdePopoverOverlapTrigger", "overlapTrigger"], targetOffsetX: ["mdePopoverOffsetX", "targetOffsetX"], targetOffsetY: ["mdePopoverOffsetY", "targetOffsetY"], arrowOffsetX: ["mdePopoverArrowOffsetX", "arrowOffsetX"], arrowWidth: ["mdePopoverArrowWidth", "arrowWidth"], arrowColor: ["mdePopoverArrowColor", "arrowColor"], closeOnClick: ["mdePopoverCloseOnClick", "closeOnClick"], disableAnimation: ["mdePopoverDisableAnimation", "disableAnimation"], focusTrapEnabled: ["mdeFocusTrapEnabled", "focusTrapEnabled"], focusTrapAutoCaptureEnabled: ["mdeFocusTrapAutoCaptureEnabled", "focusTrapAutoCaptureEnabled"], panelClass: ["class", "panelClass"], classList: "classList" }, outputs: { close: "close" }, exportAs: ["mdePopover"], ngContentSelectors: _c0, decls: 1, vars: 0, consts: [["role", "dialog", 1, "mde-popover-panel", 3, "ngClass", "ngStyle", "keydown", "click", "mouseover", "mouseleave"], ["class", "mde-popover-direction-arrow", 3, "ngStyle", 4, "ngIf"], [1, "mde-popover-content", 3, "ngStyle", "cdkTrapFocus", "cdkTrapFocusAutoCapture"], [1, "mde-popover-direction-arrow", 3, "ngStyle"]], template: function MdePopover_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵprojectionDef();
        ɵngcc0.ɵɵtemplate(0, MdePopover_ng_template_0_Template, 4, 10, "ng-template");
    } }, directives: [ɵngcc1.NgClass, ɵngcc1.NgStyle, ɵngcc1.NgIf, ɵngcc2.CdkTrapFocus], styles: [".mde-popover-panel{display:flex;flex-direction:column;max-height:calc(100vh + 48px)}.mde-popover-ripple{position:absolute;top:0;left:0;bottom:0;right:0}.mde-popover-below .mde-popover-direction-arrow{position:absolute;bottom:0;width:0;height:0;border-bottom-width:0!important;z-index:99999}.mde-popover-above .mde-popover-direction-arrow{position:absolute;top:0;width:0;height:0;border-top-width:0!important;z-index:99999}.mde-popover-after .mde-popover-direction-arrow{left:20px}.mde-popover-before .mde-popover-direction-arrow{right:20px}"], encapsulation: 2, data: { animation: [
            transformPopover
        ] }, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MdePopover, [{
        type: Component,
        args: [{
                selector: 'mde-popover',
                template: "<ng-template>\n  <div class=\"mde-popover-panel\" role=\"dialog\" [class.mde-popover-overlap]=\"overlapTrigger\"\n       [ngClass]=\"_classList\" [ngStyle]=\"popoverPanelStyles\" (keydown)=\"_handleKeydown($event)\"\n       (click)=\"onClick()\" (mouseover)=\"onMouseOver()\" (mouseleave)=\"onMouseLeave()\" [@.disabled]=\"disableAnimation\"\n       [@transformPopover]=\"'enter'\">\n    <div class=\"mde-popover-direction-arrow\" [ngStyle]=\"popoverArrowStyles\" *ngIf=\"!overlapTrigger\"></div>\n    <div class=\"mde-popover-content\" [ngStyle]=\"popoverContentStyles\" [cdkTrapFocus]=\"focusTrapEnabled\" [cdkTrapFocusAutoCapture]=\"focusTrapAutoCaptureEnabled\">\n      <ng-content></ng-content>\n    </div>\n  </div>\n</ng-template>\n",
                changeDetection: ChangeDetectionStrategy.OnPush,
                encapsulation: ViewEncapsulation.None,
                animations: [
                    transformPopover
                ],
                exportAs: 'mdePopover',
                styles: [".mde-popover-panel{display:flex;flex-direction:column;max-height:calc(100vh + 48px)}.mde-popover-ripple{position:absolute;top:0;left:0;bottom:0;right:0}.mde-popover-below .mde-popover-direction-arrow{position:absolute;bottom:0;width:0;height:0;border-bottom-width:0!important;z-index:99999}.mde-popover-above .mde-popover-direction-arrow{position:absolute;top:0;width:0;height:0;border-top-width:0!important;z-index:99999}.mde-popover-after .mde-popover-direction-arrow{left:20px}.mde-popover-before .mde-popover-direction-arrow{right:20px}"]
            }]
    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.NgZone }]; }, { role: [{
            type: HostBinding,
            args: ['attr.role']
        }], close: [{
            type: Output
        }], positionX: [{
            type: Input,
            args: ['mdePopoverPositionX']
        }], positionY: [{
            type: Input,
            args: ['mdePopoverPositionY']
        }], triggerEvent: [{
            type: Input,
            args: ['mdePopoverTriggerOn']
        }], enterDelay: [{
            type: Input,
            args: ['mdePopoverEnterDelay']
        }], leaveDelay: [{
            type: Input,
            args: ['mdePopoverLeaveDelay']
        }], overlapTrigger: [{
            type: Input,
            args: ['mdePopoverOverlapTrigger']
        }], targetOffsetX: [{
            type: Input,
            args: ['mdePopoverOffsetX']
        }], targetOffsetY: [{
            type: Input,
            args: ['mdePopoverOffsetY']
        }], arrowOffsetX: [{
            type: Input,
            args: ['mdePopoverArrowOffsetX']
        }], arrowWidth: [{
            type: Input,
            args: ['mdePopoverArrowWidth']
        }], arrowColor: [{
            type: Input,
            args: ['mdePopoverArrowColor']
        }], closeOnClick: [{
            type: Input,
            args: ['mdePopoverCloseOnClick']
        }], disableAnimation: [{
            type: Input,
            args: ['mdePopoverDisableAnimation']
        }], focusTrapEnabled: [{
            type: Input,
            args: ['mdeFocusTrapEnabled']
        }], focusTrapAutoCaptureEnabled: [{
            type: Input,
            args: ['mdeFocusTrapAutoCaptureEnabled']
        }], panelClass: [{
            type: Input,
            args: ['class']
        }], classList: [{
            type: Input
        }], templateRef: [{
            type: ViewChild,
            args: [TemplateRef]
        }] }); })();
    return MdePopover;
}());
export { MdePopover };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9wb3Zlci5qcyIsInNvdXJjZXMiOlsibmc6L0BtYXRlcmlhbC1leHRlbmRlZC9tZGUvbGliL3BvcG92ZXIvcG9wb3Zlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUNMLFNBQVMsRUFDVCxZQUFZLEVBQ1osS0FBSyxFQUNMLFNBQVMsRUFDVCxNQUFNLEVBQ04sV0FBVyxFQUNYLFNBQVMsRUFDVCxpQkFBaUIsRUFDakIsVUFBVSxFQUNWLHVCQUF1QixFQUN2QixXQUFXLEVBQ1gsTUFBTSxFQUNQLE1BQU0sZUFBZSxDQUFDO0FBSXZCLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQzlELE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUcvQyxPQUFPLEVBQUUsK0JBQStCLEVBQUUsK0JBQStCLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVwRyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBYXhEO0FBQThDLElBaUw1QyxvQkFBb0IsV0FBdUIsRUFBUyxJQUFZO0FBQ2xFLFFBRHNCLGdCQUFXLEdBQVgsV0FBVyxDQUFZO0FBQUMsUUFBUSxTQUFJLEdBQUosSUFBSSxDQUFRO0FBQUMsUUEvS3ZDLFNBQUksR0FBRyxRQUFRLENBQUM7QUFDNUMsUUFDRSxxRUFBcUU7QUFDdkUsUUFBVSxlQUFVLEdBQXdCLE9BQU8sQ0FBQztBQUNwRCxRQUFVLGVBQVUsR0FBd0IsT0FBTyxDQUFDO0FBQ3BELFFBQVUsa0JBQWEsR0FBMkIsT0FBTyxDQUFDO0FBQzFELFFBQVUsZ0JBQVcsR0FBRyxHQUFHLENBQUM7QUFDNUIsUUFBVSxnQkFBVyxHQUFHLEdBQUcsQ0FBQztBQUM1QixRQUFVLG9CQUFlLEdBQUcsSUFBSSxDQUFDO0FBQ2pDLFFBQVUsc0JBQWlCLEdBQUcsS0FBSyxDQUFDO0FBQ3BDLFFBQVUsbUJBQWMsR0FBRyxD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Q0FBQztBQUNsQyxrREFBNEQ7QUFDM0QsSUFPQztBQUFhLFFBRFosS0FBSyxDQUFDLDRCQUE0QixDQUFDO0FBQ3RDLHNEQUFvRTtBQUNuRSxJQU9DO0FBQWEsUUFEWixLQUFLLENBQUMscUJBQXFCLENBQUM7QUFDL0Isc0RBQW9FO0FBQ25FLElBT0M7QUFBYSxRQURaLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQztBQUMxQyxpRUFBMEY7QUFDekYsSUFTQztBQUFhLFFBRFosS0FBSyxDQUFDLE9BQU8sQ0FBQztBQUNqQixnREFVRztBQUVILElBT0U7QUFBYSxRQURaLEtBQUssRUFBRTtBQUNWLCtDQUFxRDtBQUNwRCxJQUdXO0FBQWEsUUFBdEIsTUFBTSxFQUFFO0FBQUMsNkNBQWlDO0FBRTdDLElBQTBCO0FBQWEsUUFBcEMsU0FBUyxDQUFDLFdBQVcsQ0FBQztBQUFDLG1EQUE4QjtJQS9LM0MsVUFBVSx3QkFYdEIsU0FBUyxDQUFDLGNBQ1QsUUFBUSxFQUFFLGFBQWEsY0FDdkI7Ozs7Ozs7O29OQUE2QixjQUU3QixlQUFlLEVBQUUsdUJBQXVCLENBQUMsTUFBTSxjQUMvQyxhQUFhLEVBQUUsaUJBQWlCLENBQUMsSUFBSSxjQUNyQyxVQUFVLEVBQUUsa0JBQ1YsZ0JBQWdCLGNBQ2pCLGNBQ0QsUUFBUSxFQUFFLFlBQVksZ2tCQUN2QixDQUFDLFFBQ1csVUFBVSxDQStRdEI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQUNEO0FBQUMsSUFERCxpQkFBQztBQUNBLENBREEsQUEvUUQsSUErUUM7QUFDRCxTQWhSYSxVQUFVO0FBQUkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb21wb25lbnQsXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5wdXQsXG4gIE9uRGVzdHJveSxcbiAgT3V0cHV0LFxuICBUZW1wbGF0ZVJlZixcbiAgVmlld0NoaWxkLFxuICBWaWV3RW5jYXBzdWxhdGlvbixcbiAgRWxlbWVudFJlZixcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIEhvc3RCaW5kaW5nLFxuICBOZ1pvbmVcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IEFuaW1hdGlvbkV2ZW50IH0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XG5cbmltcG9ydCB7IGNvZXJjZUJvb2xlYW5Qcm9wZXJ0eSB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9jb2VyY2lvbic7XG5pbXBvcnQgeyBFU0NBUEUgfSBmcm9tICdAYW5ndWxhci9jZGsva2V5Y29kZXMnO1xuXG5pbXBvcnQgeyBNZGVQb3BvdmVyUG9zaXRpb25YLCBNZGVQb3BvdmVyUG9zaXRpb25ZLCBNZGVQb3BvdmVyVHJpZ2dlckV2ZW50IH0gZnJvbSAnLi9wb3BvdmVyLXR5cGVzJztcbmltcG9ydCB7IHRocm93TWRlUG9wb3ZlckludmFsaWRQb3NpdGlvblgsIHRocm93TWRlUG9wb3ZlckludmFsaWRQb3NpdGlvblkgfSBmcm9tICcuL3BvcG92ZXItZXJyb3JzJztcbmltcG9ydCB7IE1kZVBvcG92ZXJQYW5lbCB9IGZyb20gJy4vcG9wb3Zlci1pbnRlcmZhY2VzJztcbmltcG9ydCB7IHRyYW5zZm9ybVBvcG92ZXIgfSBmcm9tICcuL3BvcG92ZXItYW5pbWF0aW9ucyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ21kZS1wb3BvdmVyJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3BvcG92ZXIuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3BvcG92ZXIuc2NzcyddLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgYW5pbWF0aW9uczogW1xuICAgIHRyYW5zZm9ybVBvcG92ZXJcbiAgXSxcbiAgZXhwb3J0QXM6ICdtZGVQb3BvdmVyJ1xufSlcbmV4cG9ydCBjbGFzcyBNZGVQb3BvdmVyIGltcGxlbWVudHMgTWRlUG9wb3ZlclBhbmVsLCBPbkRlc3Ryb3kgeyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmNvbXBvbmVudC1jbGFzcy1zdWZmaXhcblxuICBASG9zdEJpbmRpbmcoJ2F0dHIucm9sZScpIHJvbGUgPSAnZGlhbG9nJztcblxuICAvKiogU2V0dGluZ3MgZm9yIHBvcG92ZXIsIHZpZXcgc2V0dGVycyBhbmQgZ2V0dGVycyBmb3IgbW9yZSBkZXRhaWwgKi9cbiAgcHJpdmF0ZSBfcG9zaXRpb25YOiBNZGVQb3BvdmVyUG9zaXRpb25YID0gJ2FmdGVyJztcbiAgcHJpdmF0ZSBfcG9zaXRpb25ZOiBNZGVQb3BvdmVyUG9zaXRpb25ZID0gJ2JlbG93JztcbiAgcHJpdmF0ZSBfdHJpZ2dlckV2ZW50OiBNZGVQb3BvdmVyVHJpZ2dlckV2ZW50ID0gJ2hvdmVyJztcbiAgcHJpdmF0ZSBfZW50ZXJEZWxheSA9IDIwMDtcbiAgcHJpdmF0ZSBfbGVhdmVEZWxheSA9IDIwMDtcbiAgcHJpdmF0ZSBfb3ZlcmxhcFRyaWdnZXIgPSB0cnVlO1xuICBwcml2YXRlIF9kaXNhYmxlQW5pbWF0aW9uID0gZmFsc2U7XG4gIHByaXZhdGUgX3RhcmdldE9mZnNldFggPSAwO1xuICBwcml2YXRlIF90YXJnZXRPZmZzZXRZID0gMDtcbiAgcHJpdmF0ZSBfYXJyb3dPZmZzZXRYID0gMjA7XG4gIHByaXZhdGUgX2Fycm93V2lkdGggPSA4O1xuICBwcml2YXRlIF9hcnJvd0NvbG9yID0gJ3JnYmEoMCwgMCwgMCwgMC4xMiknO1xuICBwcml2YXRlIF9jbG9zZU9uQ2xpY2sgPSB0cnVlO1xuICBwcml2YXRlIF9mb2N1c1RyYXBFbmFibGVkID0gdHJ1ZTtcbiAgcHJpdmF0ZSBfZm9jdXNUcmFwQXV0b0NhcHR1cmVFbmFibGVkID0gdHJ1ZTtcblxuICAvKiogQ29uZmlnIG9iamVjdCB0byBiZSBwYXNzZWQgaW50byB0aGUgcG9wb3ZlcidzIG5nQ2xhc3MgKi9cbiAgX2NsYXNzTGlzdDoge1trZXk6IHN0cmluZ106IGJvb2xlYW59ID0ge307XG5cbiAgLy8gVE9ETzogV3JpdGUgY29tbWVudCBkZXNjcmlwdGlvblxuICAvKiogKi9cbiAgcHVibGljIGNvbnRhaW5lclBvc2l0aW9uaW5nID0gZmFsc2U7XG5cbiAgLyoqIENsb3NpbmcgZGlzYWJsZWQgb24gcG9wb3ZlciAqL1xuICBwdWJsaWMgY2xvc2VEaXNhYmxlZCA9IGZhbHNlO1xuXG4gIC8qKiBDb25maWcgb2JqZWN0IHRvIGJlIHBhc3NlZCBpbnRvIHRoZSBwb3BvdmVyJ3MgYXJyb3cgbmdTdHlsZSAqL1xuICBwdWJsaWMgcG9wb3ZlclBhbmVsU3R5bGVzOiB7fTtcblxuICAvKiogQ29uZmlnIG9iamVjdCB0byBiZSBwYXNzZWQgaW50byB0aGUgcG9wb3ZlcidzIGFycm93IG5nU3R5bGUgKi9cbiAgcHVibGljIHBvcG92ZXJBcnJvd1N0eWxlczoge307XG5cbiAgLyoqIENvbmZpZyBvYmplY3QgdG8gYmUgcGFzc2VkIGludG8gdGhlIHBvcG92ZXIncyBjb250ZW50IG5nU3R5bGUgKi9cbiAgcHVibGljIHBvcG92ZXJDb250ZW50U3R5bGVzOiB7fTtcblxuICAvKiogRW1pdHMgdGhlIGN1cnJlbnQgYW5pbWF0aW9uIHN0YXRlIHdoZW5ldmVyIGl0IGNoYW5nZXMuICovXG4gIF9vbkFuaW1hdGlvblN0YXRlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxBbmltYXRpb25FdmVudD4oKTtcblxuXG4gIC8qKiBQb3NpdGlvbiBvZiB0aGUgcG9wb3ZlciBpbiB0aGUgWCBheGlzLiAqL1xuICBASW5wdXQoJ21kZVBvcG92ZXJQb3NpdGlvblgnKVxuICBnZXQgcG9zaXRpb25YKCkgeyByZXR1cm4gdGhpcy5fcG9zaXRpb25YOyB9XG4gIHNldCBwb3NpdGlvblgodmFsdWU6IE1kZVBvcG92ZXJQb3NpdGlvblgpIHtcbiAgICBpZiAodmFsdWUgIT09ICdiZWZvcmUnICYmIHZhbHVlICE9PSAnYWZ0ZXInKSB7XG4gICAgICB0aHJvd01kZVBvcG92ZXJJbnZhbGlkUG9zaXRpb25YKCk7XG4gICAgfVxuICAgIHRoaXMuX3Bvc2l0aW9uWCA9IHZhbHVlO1xuICAgIHRoaXMuc2V0UG9zaXRpb25DbGFzc2VzKCk7XG4gIH1cblxuICAvKiogUG9zaXRpb24gb2YgdGhlIHBvcG92ZXIgaW4gdGhlIFkgYXhpcy4gKi9cbiAgQElucHV0KCdtZGVQb3BvdmVyUG9zaXRpb25ZJylcbiAgZ2V0IHBvc2l0aW9uWSgpIHsgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uWTsgfVxuICBzZXQgcG9zaXRpb25ZKHZhbHVlOiBNZGVQb3BvdmVyUG9zaXRpb25ZKSB7XG4gICAgaWYgKHZhbHVlICE9PSAnYWJvdmUnICYmIHZhbHVlICE9PSAnYmVsb3cnKSB7XG4gICAgICB0aHJvd01kZVBvcG92ZXJJbnZhbGlkUG9zaXRpb25ZKCk7XG4gICAgfVxuICAgIHRoaXMuX3Bvc2l0aW9uWSA9IHZhbHVlO1xuICAgIHRoaXMuc2V0UG9zaXRpb25DbGFzc2VzKCk7XG4gIH1cblxuICAvKiogUG9wb3ZlciB0cmlnZ2VyIGV2ZW50ICovXG4gIEBJbnB1dCgnbWRlUG9wb3ZlclRyaWdnZXJPbicpXG4gIGdldCB0cmlnZ2VyRXZlbnQoKTogTWRlUG9wb3ZlclRyaWdnZXJFdmVudCB7IHJldHVybiB0aGlzLl90cmlnZ2VyRXZlbnQ7IH1cbiAgc2V0IHRyaWdnZXJFdmVudCh2YWx1ZTogTWRlUG9wb3ZlclRyaWdnZXJFdmVudCkgeyB0aGlzLl90cmlnZ2VyRXZlbnQgPSB2YWx1ZTsgfVxuXG4gIC8qKiBQb3BvdmVyIGVudGVyIGRlbGF5ICovXG4gIEBJbnB1dCgnbWRlUG9wb3ZlckVudGVyRGVsYXknKVxuICBnZXQgZW50ZXJEZWxheSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fZW50ZXJEZWxheTsgfVxuICBzZXQgZW50ZXJEZWxheSh2YWx1ZTogbnVtYmVyKSB7IHRoaXMuX2VudGVyRGVsYXkgPSB2YWx1ZTsgfVxuXG4gIC8qKiBQb3BvdmVyIGxlYXZlIGRlbGF5ICovXG4gIEBJbnB1dCgnbWRlUG9wb3ZlckxlYXZlRGVsYXknKVxuICBnZXQgbGVhdmVEZWxheSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fbGVhdmVEZWxheTsgfVxuICBzZXQgbGVhdmVEZWxheSh2YWx1ZTogbnVtYmVyKSB7IHRoaXMuX2xlYXZlRGVsYXkgPSB2YWx1ZTsgfVxuXG4gIC8qKiBQb3BvdmVyIG92ZXJsYXAgdHJpZ2dlciAqL1xuICBASW5wdXQoJ21kZVBvcG92ZXJPdmVybGFwVHJpZ2dlcicpXG4gIGdldCBvdmVybGFwVHJpZ2dlcigpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX292ZXJsYXBUcmlnZ2VyOyB9XG4gIHNldCBvdmVybGFwVHJpZ2dlcih2YWx1ZTogYm9vbGVhbikgeyB0aGlzLl9vdmVybGFwVHJpZ2dlciA9IHZhbHVlOyB9XG5cbiAgLyoqIFBvcG92ZXIgdGFyZ2V0IG9mZnNldCB4ICovXG4gIEBJbnB1dCgnbWRlUG9wb3Zlck9mZnNldFgnKVxuICBnZXQgdGFyZ2V0T2Zmc2V0WCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fdGFyZ2V0T2Zmc2V0WDsgfVxuICBzZXQgdGFyZ2V0T2Zmc2V0WCh2YWx1ZTogbnVtYmVyKSB7IHRoaXMuX3RhcmdldE9mZnNldFggPSB2YWx1ZTsgfVxuXG4gIC8qKiBQb3BvdmVyIHRhcmdldCBvZmZzZXQgeSAqL1xuICBASW5wdXQoJ21kZVBvcG92ZXJPZmZzZXRZJylcbiAgZ2V0IHRhcmdldE9mZnNldFkoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3RhcmdldE9mZnNldFk7IH1cbiAgc2V0IHRhcmdldE9mZnNldFkodmFsdWU6IG51bWJlcikgeyB0aGlzLl90YXJnZXRPZmZzZXRZID0gdmFsdWU7IH1cblxuICAvKiogUG9wb3ZlciBhcnJvdyBvZmZzZXQgeCAqL1xuICBASW5wdXQoJ21kZVBvcG92ZXJBcnJvd09mZnNldFgnKVxuICBnZXQgYXJyb3dPZmZzZXRYKCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9hcnJvd09mZnNldFg7IH1cbiAgc2V0IGFycm93T2Zmc2V0WCh2YWx1ZTogbnVtYmVyKSB7IHRoaXMuX2Fycm93T2Zmc2V0WCA9IHZhbHVlOyB9XG5cbiAgLyoqIFBvcG92ZXIgYXJyb3cgd2lkdGggKi9cbiAgQElucHV0KCdtZGVQb3BvdmVyQXJyb3dXaWR0aCcpXG4gIGdldCBhcnJvd1dpZHRoKCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9hcnJvd1dpZHRoOyB9XG4gIHNldCBhcnJvd1dpZHRoKHZhbHVlOiBudW1iZXIpIHsgdGhpcy5fYXJyb3dXaWR0aCA9IHZhbHVlOyB9XG5cbiAgLyoqIFBvcG92ZXIgYXJyb3cgY29sb3IgKi9cbiAgQElucHV0KCdtZGVQb3BvdmVyQXJyb3dDb2xvcicpXG4gIGdldCBhcnJvd0NvbG9yKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLl9hcnJvd0NvbG9yOyB9XG4gIHNldCBhcnJvd0NvbG9yKHZhbHVlOiBzdHJpbmcpIHsgdGhpcy5fYXJyb3dDb2xvciA9IHZhbHVlOyB9XG5cbiAgLyoqXG4gICAqIFBvcG92ZXIgY29udGFpbmVyIGNsb3NlIG9uIGNsaWNrXG4gICAqIGRlZmF1bHQ6IHRydWVcbiAgICovXG4gIEBJbnB1dCgnbWRlUG9wb3ZlckNsb3NlT25DbGljaycpXG4gIGdldCBjbG9zZU9uQ2xpY2soKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLl9jbG9zZU9uQ2xpY2s7IH1cbiAgc2V0IGNsb3NlT25DbGljayh2YWx1ZTogYm9vbGVhbikgeyB0aGlzLl9jbG9zZU9uQ2xpY2sgPSBjb2VyY2VCb29sZWFuUHJvcGVydHkodmFsdWUpOyB9XG5cbiAgLyoqXG4gICAqIERpc2FibGUgYW5pbWF0aW9ucyBvZiBwb3BvdmVyIGFuZCBhbGwgY2hpbGQgZWxlbWVudHNcbiAgICogZGVmYXVsdDogZmFsc2VcbiAgICovXG4gIEBJbnB1dCgnbWRlUG9wb3ZlckRpc2FibGVBbmltYXRpb24nKVxuICBnZXQgZGlzYWJsZUFuaW1hdGlvbigpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX2Rpc2FibGVBbmltYXRpb247IH1cbiAgc2V0IGRpc2FibGVBbmltYXRpb24odmFsdWU6IGJvb2xlYW4pIHsgdGhpcy5fZGlzYWJsZUFuaW1hdGlvbiA9IGNvZXJjZUJvb2xlYW5Qcm9wZXJ0eSh2YWx1ZSk7IH1cblxuICAvKipcbiAgICogUG9wb3ZlciBmb2N1cyB0cmFwIHVzaW5nIGNka1RyYXBGb2N1c1xuICAgKiBkZWZhdWx0OiB0cnVlXG4gICAqL1xuICBASW5wdXQoJ21kZUZvY3VzVHJhcEVuYWJsZWQnKVxuICBnZXQgZm9jdXNUcmFwRW5hYmxlZCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX2ZvY3VzVHJhcEVuYWJsZWQ7IH1cbiAgc2V0IGZvY3VzVHJhcEVuYWJsZWQodmFsdWU6IGJvb2xlYW4pIHsgdGhpcy5fZm9jdXNUcmFwRW5hYmxlZCA9IGNvZXJjZUJvb2xlYW5Qcm9wZXJ0eSh2YWx1ZSk7IH1cblxuICAvKipcbiAgICogUG9wb3ZlciBmb2N1cyB0cmFwIGF1dG8gY2FwdHVyZSB1c2luZyBjZGtUcmFwRm9jdXNBdXRvQ2FwdHVyZVxuICAgKiBkZWZhdWx0OiB0cnVlXG4gICAqL1xuICBASW5wdXQoJ21kZUZvY3VzVHJhcEF1dG9DYXB0dXJlRW5hYmxlZCcpXG4gIGdldCBmb2N1c1RyYXBBdXRvQ2FwdHVyZUVuYWJsZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLl9mb2N1c1RyYXBBdXRvQ2FwdHVyZUVuYWJsZWQ7IH1cbiAgc2V0IGZvY3VzVHJhcEF1dG9DYXB0dXJlRW5hYmxlZCh2YWx1ZTogYm9vbGVhbikgeyB0aGlzLl9mb2N1c1RyYXBBdXRvQ2FwdHVyZUVuYWJsZWQgPSBjb2VyY2VCb29sZWFuUHJvcGVydHkodmFsdWUpOyB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIHRha2VzIGNsYXNzZXMgc2V0IG9uIHRoZSBob3N0IG1kLXBvcG92ZXIgZWxlbWVudCBhbmQgYXBwbGllcyB0aGVtIG9uIHRoZVxuICAgKiBwb3BvdmVyIHRlbXBsYXRlIHRoYXQgZGlzcGxheXMgaW4gdGhlIG92ZXJsYXkgY29udGFpbmVyLiAgT3RoZXJ3aXNlLCBpdCdzIGRpZmZpY3VsdFxuICAgKiB0byBzdHlsZSB0aGUgY29udGFpbmluZyBwb3BvdmVyIGZyb20gb3V0c2lkZSB0aGUgY29tcG9uZW50LlxuICAgKiBAcGFyYW0gY2xhc3NlcyBsaXN0IG9mIGNsYXNzIG5hbWVzXG4gICAqL1xuICBASW5wdXQoJ2NsYXNzJylcbiAgc2V0IHBhbmVsQ2xhc3MoY2xhc3Nlczogc3RyaW5nKSB7XG4gICAgaWYgKGNsYXNzZXMgJiYgY2xhc3Nlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuX2NsYXNzTGlzdCA9IGNsYXNzZXMuc3BsaXQoJyAnKS5yZWR1Y2UoKG9iajogYW55LCBjbGFzc05hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBvYmpbY2xhc3NOYW1lXSA9IHRydWU7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9LCB7fSk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5jbGFzc05hbWUgPSAnJztcbiAgICAgIHRoaXMuc2V0UG9zaXRpb25DbGFzc2VzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIHRha2VzIGNsYXNzZXMgc2V0IG9uIHRoZSBob3N0IG1kLXBvcG92ZXIgZWxlbWVudCBhbmQgYXBwbGllcyB0aGVtIG9uIHRoZVxuICAgKiBwb3BvdmVyIHRlbXBsYXRlIHRoYXQgZGlzcGxheXMgaW4gdGhlIG92ZXJsYXkgY29udGFpbmVyLiAgT3RoZXJ3aXNlLCBpdCdzIGRpZmZpY3VsdFxuICAgKiB0byBzdHlsZSB0aGUgY29udGFpbmluZyBwb3BvdmVyIGZyb20gb3V0c2lkZSB0aGUgY29tcG9uZW50LlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYHBhbmVsQ2xhc3NgIGluc3RlYWQuXG4gICAqL1xuICBASW5wdXQoKVxuICBnZXQgY2xhc3NMaXN0KCk6IHN0cmluZyB7IHJldHVybiB0aGlzLnBhbmVsQ2xhc3M7IH1cbiAgc2V0IGNsYXNzTGlzdChjbGFzc2VzOiBzdHJpbmcpIHsgdGhpcy5wYW5lbENsYXNzID0gY2xhc3NlczsgfVxuXG4gIC8qKiBFdmVudCBlbWl0dGVkIHdoZW4gdGhlIHBvcG92ZXIgaXMgY2xvc2VkLiAqL1xuICBAT3V0cHV0KCkgY2xvc2UgPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG5cbiAgQFZpZXdDaGlsZChUZW1wbGF0ZVJlZikgdGVtcGxhdGVSZWY6IFRlbXBsYXRlUmVmPGFueT47XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfZWxlbWVudFJlZjogRWxlbWVudFJlZiwgcHVibGljIHpvbmU6IE5nWm9uZSkge1xuICAgIHRoaXMuc2V0UG9zaXRpb25DbGFzc2VzKCk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLl9lbWl0Q2xvc2VFdmVudCgpO1xuICAgIHRoaXMuY2xvc2UuY29tcGxldGUoKTtcbiAgfVxuXG5cbiAgLyoqIEhhbmRsZSBhIGtleWJvYXJkIGV2ZW50IGZyb20gdGhlIHBvcG92ZXIsIGRlbGVnYXRpbmcgdG8gdGhlIGFwcHJvcHJpYXRlIGFjdGlvbi4gKi9cbiAgX2hhbmRsZUtleWRvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcbiAgICAgIGNhc2UgRVNDQVBFOlxuICAgICAgICB0aGlzLl9lbWl0Q2xvc2VFdmVudCgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZW1pdHMgYSBjbG9zZSBldmVudCB0byB3aGljaCB0aGUgdHJpZ2dlciBpcyBzdWJzY3JpYmVkLiBXaGVuIGVtaXR0ZWQsIHRoZVxuICAgKiB0cmlnZ2VyIHdpbGwgY2xvc2UgdGhlIHBvcG92ZXIuXG4gICAqL1xuICBfZW1pdENsb3NlRXZlbnQoKTogdm9pZCB7XG4gICAgdGhpcy5jbG9zZS5lbWl0KCk7XG4gIH1cblxuICAvKiogQ2xvc2UgcG9wb3ZlciBvbiBjbGljayBpZiBjbG9zZU9uQ2xpY2sgaXMgdHJ1ZSAqL1xuICBvbkNsaWNrKCkge1xuICAgIGlmICh0aGlzLmNsb3NlT25DbGljaykge1xuICAgICAgdGhpcy5fZW1pdENsb3NlRXZlbnQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogUmVmYWN0b3Igd2hlbiBAYW5ndWxhci9jZGsgaW5jbHVkZXMgZmVhdHVyZSBJIG1lbnRpb25lZCBvbiBnaXRodWIgc2VlIGxpbmsgYmVsb3cuXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsMi9wdWxsLzU0OTMjaXNzdWVjb21tZW50LTMxMzA4NTMyM1xuICAgKi9cbiAgLyoqIERpc2FibGVzIGNsb3NlIG9mIHBvcG92ZXIgd2hlbiBsZWF2aW5nIHRyaWdnZXIgZWxlbWVudCBhbmQgbW91c2Ugb3ZlciB0aGUgcG9wb3ZlciAqL1xuICBvbk1vdXNlT3ZlcigpIHtcbiAgICBpZiAodGhpcy50cmlnZ2VyRXZlbnQgPT09ICdob3ZlcicpIHtcbiAgICAgIHRoaXMuY2xvc2VEaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9XG4gIC8qKiBFbmFibGVzIGNsb3NlIG9mIHBvcG92ZXIgd2hlbiBtb3VzZSBsZWF2aW5nIHBvcG92ZXIgZWxlbWVudCAqL1xuICBvbk1vdXNlTGVhdmUoKSB7XG4gICAgaWYgKHRoaXMudHJpZ2dlckV2ZW50ID09PSAnaG92ZXInKSB7XG4gICAgICB0aGlzLmNsb3NlRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2VtaXRDbG9zZUV2ZW50KCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogUmVmYWN0b3IgaG93IHN0eWxlcyBhcmUgc2V0IGFuZCB1cGRhdGVkIG9uIHRoZSBjb21wb25lbnQsIHVzZSBiZXN0IHByYWN0aWNlcy5cbiAgLy8gVE9ETzogSWYgYXJyb3cgbGVmdCBhbmQgcmlnaHQgcG9zaXRpb25pbmcgaXMgcmVxdWVzdGVkLCBzZWUgaWYgZmxleCBkaXJlY3Rpb24gY2FuIGJlIHVzZWQgdG8gd29yayB3aXRoIG9yZGVyLlxuICAvKiogU2V0cyB0aGUgY3VycmVudCBzdHlsZXMgZm9yIHRoZSBwb3BvdmVyIHRvIGFsbG93IGZvciBkeW5hbWljYWxseSBjaGFuZ2luZyBzZXR0aW5ncyAqL1xuICBzZXRDdXJyZW50U3R5bGVzKCkge1xuXG4gICAgLy8gVE9ETzogU2VlIGlmIGFycm93IHBvc2l0aW9uIGNhbiBiZSBjYWxjdWxhdGVkIGF1dG9tYXRpY2FsbHkgYW5kIGFsbG93IG92ZXJyaWRlLlxuICAgIC8vIFRPRE86IFNlZSBpZiBmbGV4IG9yZGVyIGlzIGEgYmV0dGVyIGFsdGVybmF0aXZlIHRvIHBvc2l0aW9uIGFycm93IHRvcCBvciBib3R0b20uXG4gICAgdGhpcy5wb3BvdmVyQXJyb3dTdHlsZXMgPSB7XG4gICAgICAncmlnaHQnOiB0aGlzLnBvc2l0aW9uWCA9PT0gJ2JlZm9yZScgPyAodGhpcy5hcnJvd09mZnNldFggLSB0aGlzLmFycm93V2lkdGgpICsgJ3B4JyA6ICcnLFxuICAgICAgJ2xlZnQnOiB0aGlzLnBvc2l0aW9uWCA9PT0gJ2FmdGVyJyA/ICh0aGlzLmFycm93T2Zmc2V0WCAtIHRoaXMuYXJyb3dXaWR0aCkgKyAncHgnIDogJycsXG4gICAgICAnYm9yZGVyLXRvcCc6IHRoaXMucG9zaXRpb25ZID09PSAnYmVsb3cnID9cbiAgICAgICAgdGhpcy5hcnJvd1dpZHRoICsgJ3B4IHNvbGlkICcgKyB0aGlzLmFycm93Q29sb3IgOiAnMHB4IHNvbGlkIHRyYW5zcGFyZW50JyxcbiAgICAgICdib3JkZXItcmlnaHQnOiAndW5kZWZpbmVkJyA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgdGhpcy5hcnJvd1dpZHRoICsgJ3B4IHNvbGlkICcgKyB0aGlzLmFycm93Q29sb3IgOlxuICAgICAgICB0aGlzLmFycm93V2lkdGggKyAncHggc29saWQgdHJhbnNwYXJlbnQnLFxuICAgICAgJ2JvcmRlci1ib3R0b20nOiB0aGlzLnBvc2l0aW9uWSA9PT0gJ2Fib3ZlJyA/XG4gICAgICAgIHRoaXMuYXJyb3dXaWR0aCArICdweCBzb2xpZCAnICsgdGhpcy5hcnJvd0NvbG9yIDpcbiAgICAgICAgdGhpcy5hcnJvd1dpZHRoICsgJ3B4IHNvbGlkIHRyYW5zcGFyZW50JyxcbiAgICAgICdib3JkZXItbGVmdCc6ICd1bmRlZmluZWQnID09PSB1bmRlZmluZWQgP1xuICAgICAgICB0aGlzLmFycm93V2lkdGggKyAncHggc29saWQgJyArIHRoaXMuYXJyb3dDb2xvciA6XG4gICAgICAgIHRoaXMuYXJyb3dXaWR0aCArICdweCBzb2xpZCB0cmFuc3BhcmVudCcsXG4gICAgfTtcblxuICAgIC8vIFRPRE86IFJlbW92ZSBpZiBmbGV4IG9yZGVyIGlzIGFkZGVkLlxuICAgIHRoaXMucG9wb3ZlckNvbnRlbnRTdHlsZXMgPSB7XG4gICAgICAncGFkZGluZy10b3AnOiB0aGlzLm92ZXJsYXBUcmlnZ2VyID09PSB0cnVlID8gJzBweCcgOiB0aGlzLmFycm93V2lkdGggKyAncHgnLFxuICAgICAgJ3BhZGRpbmctYm90dG9tJzogdGhpcy5vdmVybGFwVHJpZ2dlciA9PT0gdHJ1ZSA/ICcwcHgnIDogKHRoaXMuYXJyb3dXaWR0aCkgKyAncHgnLFxuICAgICAgJ21hcmdpbi10b3AnOiB0aGlzLm92ZXJsYXBUcmlnZ2VyID09PSBmYWxzZSAmJiB0aGlzLnBvc2l0aW9uWSA9PT0gJ2JlbG93JyAmJiB0aGlzLmNvbnRhaW5lclBvc2l0aW9uaW5nID09PSBmYWxzZSA/XG4gICAgICAgIC0odGhpcy5hcnJvd1dpZHRoICogMikgKyAncHgnIDogJzBweCdcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEl0J3MgbmVjZXNzYXJ5IHRvIHNldCBwb3NpdGlvbi1iYXNlZCBjbGFzc2VzIHRvIGVuc3VyZSB0aGUgcG9wb3ZlciBwYW5lbCBhbmltYXRpb25cbiAgICogZm9sZHMgb3V0IGZyb20gdGhlIGNvcnJlY3QgZGlyZWN0aW9uLlxuICAgKi9cbiAgc2V0UG9zaXRpb25DbGFzc2VzKHBvc1ggPSB0aGlzLnBvc2l0aW9uWCwgcG9zWSA9IHRoaXMucG9zaXRpb25ZKTogdm9pZCB7XG4gICAgdGhpcy5fY2xhc3NMaXN0WydtZGUtcG9wb3Zlci1iZWZvcmUnXSA9IHBvc1ggPT09ICdiZWZvcmUnO1xuICAgIHRoaXMuX2NsYXNzTGlzdFsnbWRlLXBvcG92ZXItYWZ0ZXInXSA9IHBvc1ggPT09ICdhZnRlcic7XG4gICAgdGhpcy5fY2xhc3NMaXN0WydtZGUtcG9wb3Zlci1hYm92ZSddID0gcG9zWSA9PT0gJ2Fib3ZlJztcbiAgICB0aGlzLl9jbGFzc0xpc3RbJ21kZS1wb3BvdmVyLWJlbG93J10gPSBwb3NZID09PSAnYmVsb3cnO1xuICB9XG59XG4iXX0=